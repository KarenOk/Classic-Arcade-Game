webpackJsonp([6],{"+JtJ":function(e,t){function n(e){if("function"!=typeof e)throw new TypeError(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var r="Expected a function";e.exports=n},"+PK3":function(e,t){e.exports={"std-font-9":"styles--std-font-9--3WpmS","project-font":"styles--project-font--19Oq_","std-font-12":"styles--std-font-12--2zO0Y","room-title-font":"styles--room-title-font--2cuKT","user-font":"styles--user-font--REgsh","thread-item-action-link":"styles--thread-item-action-link--MMDra","std-font-14":"styles--std-font-14--1mv1-","std-font-16":"styles--std-font-16--3lq0B","std-font-18":"styles--std-font-18--3sMKS","chatroom-title-font":"styles--chatroom-title-font--19M08","thread-item-meta-room":"styles--thread-item-meta-room--28Qj-","screen-content":"styles--screen-content--14Hzc",circle:"styles--circle--2UTBT","gray-light":"styles--gray-light--2-V0-",turquoise:"styles--turquoise--1Ttdd","avatar-circle":"styles--avatar-circle--1UeFj","avatar-circle-default":"styles--avatar-circle-default--1mjAf","role-mentor":"styles--role-mentor--2TOA0","role-staff":"styles--role-staff--29laH","avatar-img":"styles--avatar-img--GXzCS","avatar-default":"styles--avatar-default--H-GXi",clearfix:"styles--clearfix--2w_T5","rel-pos":"styles--rel-pos--2qHui",invisible:"styles--invisible--2l3lL",photo:"styles--photo--1ldvX","no-photo":"styles--no-photo--3m1_Y","no-margin":"styles--no-margin--f3Lw-","thread-list":"styles--thread-list--1pem1","thread-item-container":"styles--thread-item-container--NGk04","thread-item-meta-container":"styles--thread-item-meta-container--3and6","thread-item-action-container":"styles--thread-item-action-container--UeiqD","thread-unread-badge":"styles--thread-unread-badge--ax_3D","thread-unread-badge-mention":"styles--thread-unread-badge-mention--2rthc"}},"+xaz":function(e,t){e.exports=["absent-sm","add-sm","afternoon-sm","alert-md","alert-sm","alert-xl","arrow-down-lg","arrow-down-md","arrow-down-sm","arrow-left-lg","arrow-left-md","arrow-left-sm","arrow-right-lg","arrow-right-md","arrow-right-sm","arrow-up-lg","arrow-up-md","arrow-up-sm","article-md","attachment-md","badge-md","badge-with-check-md","bell-lg","bell-md","bell-sm","bold-md","calendar-md","career-lg","caret-down-md","caret-up-md","catalog-lg","celebrate-md","celebrate-xl","certificate-xl","chat-bubble-md","chat-new-thread-sm","chat-view-thread-sm","chat-with-check-md","checkmark-circle-md","checkmark-circle-xl","checkmark-md","checkmark-sm","circle-empty-sm","circle-full-sm-filled","circle-half-sm","clipboard-lg","clipboard-md","close-lg","close-md","close-sm","code-md","collapse-md","community-lg","concept-md","copy-sm","course-lg","cube-sm","deep-lg","diamond-md-filled","discount-sm","download-md","download-sm","drag-md","edit-md","edit-sm","email-md","evening-sm","expand-md","eye-open-md","eye-open-sm","file-new-sm","file-sm","filter-md","flag-md","flag-sm","folder-new-sm","folder-sm","forum-lg","full-screen","graph-md","hamburger-lg","home-lg","information-md","information-sm","instructor-md","italics-md","knowledge-lg","knowledge-md","link-md","link-sm","list-bulleted-md","list-numbered-md","live-help-lrg","locked-lg","locked-md","locked-sm","logout-lg","logout-md","long-arrow-left-md","mentorship-lg","menu-md","money-md","more-options-sm","morning-sm","name-tag-md","nd-lg","new-tab-md","new-tab-sm","part-md","picture-md","pin-md","pin-sm","profile-lg","project-done-md","project-md","quiz-done-sm","quiz-sm","quote-md","repeat-md","reply-md","resources-md","reviews-md","search-lg","search-md","settings-lg","shrink-screen","side-panel-close-md","side-panel-open-md","side-panel-sm","speaker-md","specialization-lg","star-big-md-filled","star-sm-filled","star-sm","star-small-md-filled","start-sm","stop-sm","submit-project-xl","subscriptions","term-lg","time-md","time-sm","trash-md","uconnect-lg","umark-lg","unavailable-sm","unlocked-lg","upload-sm","warning-xl"]},"/2SP":function(e,t){e.exports={"std-font-9":"styles--std-font-9--1EqeB","project-font":"styles--project-font--dbGlh","std-font-12":"styles--std-font-12--2h7PF","room-title-font":"styles--room-title-font--3MP9R","user-font":"styles--user-font--3qrf2","std-font-14":"styles--std-font-14--2XWRW","std-font-16":"styles--std-font-16--2U7tg","std-font-18":"styles--std-font-18--VSbbh","chatroom-title-font":"styles--chatroom-title-font--2S_R1","screen-content":"styles--screen-content--83KgP",circle:"styles--circle--28v2h","gray-light":"styles--gray-light--14ldR",turquoise:"styles--turquoise--AtWqD","avatar-circle":"styles--avatar-circle--3e4R6","avatar-circle-default":"styles--avatar-circle-default--2gg0o","role-mentor":"styles--role-mentor--TcJwJ","role-staff":"styles--role-staff--K_Iyp","avatar-img":"styles--avatar-img--2McaM","avatar-default":"styles--avatar-default--1pw1h",clearfix:"styles--clearfix--1Soeq","rel-pos":"styles--rel-pos--1k8lA",invisible:"styles--invisible--pm_5_",photo:"styles--photo--pY26d","no-photo":"styles--no-photo--1eqG7","no-margin":"styles--no-margin--DuakF",editor:"styles--editor--m8X0x",rotate:"styles--rotate--YJo_L",label:"styles--label--SMocz",control:"styles--control--1VNl7",buttons:"styles--buttons--1dRfa",modal:"styles--modal--STFla",save:"styles--save--1nvH9",cancel:"styles--cancel--3wmZe",inline:"styles--inline--Fletn",description:"styles--description--46ByQ"}},"/DAC":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPropsDecorator=t.defaultStyle=t.EnhancerProvider=t.createSubstyle=void 0;var o=n("cUJE"),a=r(o),i=n("Igs2"),s=r(i),l=n("jQYE"),u=r(l),c=n("CJML"),f=r(c);t.createSubstyle=a.default,t.EnhancerProvider=u.default,t.defaultStyle=s.default,t.defaultPropsDecorator=f.default,t.default=(0,s.default)()},"/Hzi":function(e,t){e.exports={"std-font-9":"styles--std-font-9--1oR8f","project-font":"styles--project-font--1LNig","std-font-12":"styles--std-font-12--2F7kg","room-title-font":"styles--room-title-font--2jgQi","user-font":"styles--user-font--i2IBf","std-font-14":"styles--std-font-14--1CWhF",title:"styles--title--1snBE","close-btn":"styles--close-btn--2T4JM","back-btn":"styles--back-btn--2WCEb","std-font-16":"styles--std-font-16--2f6Rk","std-font-18":"styles--std-font-18--X-Unj","chatroom-title-font":"styles--chatroom-title-font--3OImB","screen-content":"styles--screen-content--2Mr7H",homescreen:"styles--homescreen--34sF0",chatscreen:"styles--chatscreen--1Zhqs","thread-screen":"styles--thread-screen--2PRas","thread-list-screen":"styles--thread-list-screen--29wyF",circle:"styles--circle--3CMbd","gray-light":"styles--gray-light--lwIrP",turquoise:"styles--turquoise--VDXP8","avatar-circle":"styles--avatar-circle--2zmLc","avatar-circle-default":"styles--avatar-circle-default--2u9Hh","role-mentor":"styles--role-mentor--2WwzT","role-staff":"styles--role-staff--1fBkj","avatar-img":"styles--avatar-img--1dgGq","avatar-default":"styles--avatar-default--3Lewd",clearfix:"styles--clearfix--3lMwL","rel-pos":"styles--rel-pos--mNNOz",invisible:"styles--invisible--2-CCy",photo:"styles--photo---JFKL","no-photo":"styles--no-photo--3BlZB","no-margin":"styles--no-margin--f_ozk",container:"styles--container--2HhuJ",hidden:"styles--hidden--1pQvd",spacer:"styles--spacer--3J969","arrow-left-activity":"styles--arrow-left-activity--3ZjUq",header:"styles--header--1tn-l","border-bottom":"styles--border-bottom--j31rh","community-icon":"styles--community-icon--37ejS"}},"09Qt":function(e,t,n){var r=n("uIr7"),o=n("vi0E"),a=n("l9Lx"),i=n("C0hh"),s=Object.getOwnPropertySymbols,l=s?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;e.exports=l},"0J+u":function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zx67"),i=o(a),s=n("Zrlr"),l=o(s),u=n("wxAW"),c=o(u),f=n("zwoO"),d=o(f),p=n("Pf15"),h=o(p),m=n("Feoa"),y=o(m),g=function(t){function n(){return(0,l.default)(this,n),(0,d.default)(this,(n.__proto__||(0,i.default)(n)).apply(this,arguments))}return(0,h.default)(n,t),(0,c.default)(n,[{key:"render",value:function(){return e.createElement("div",{styleName:"progressbar"},e.createElement("div",{styleName:"bar"},e.createElement("div",{styleName:"filled",style:{width:this.props.progress+"%"}})),this.props.showText&&e.createElement("div",{styleName:"text"},this.props.progress,"%"))}}]),n}(e.Component);g.propTypes={progress:e.PropTypes.number.isRequired,showText:e.PropTypes.bool},g.defaultProps={showText:!0},t.default=r(g,y.default,{allowMultiple:!0})}).call(t,n("U7vG"),n("211U"))},"0Zuw":function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("4Dn6"),i=n("eLhX"),s=n("KSGD"),l=o(s),u=n("eyXk"),c=n("Dji7"),f=o(c),d=function(t){var n=t.fetching,r=t.hasFetchError;return n?e.createElement("li",{key:"fetching-next",styleName:"fetching-more show"},e.createElement(a.DotLoading,null)):r?e.createElement("li",{key:"fetching-next",styleName:"fetching-more error"},e.createElement("span",null,(0,u.__)(i.ERR_UNABLE_TO_FETCH_MSG))):e.createElement("li",{key:"fetching-next",styleName:"fetching-more"})};d.propTypes={fetching:l.default.bool.isRequired,hasFetchError:l.default.bool},t.default=r(f.default,{allowMultiple:!0})(d)}).call(t,n("U7vG"),n("211U"))},"0uX4":function(e,t,n){function r(e){return i?Object(i.call(e)):{}}var o=n("NkRn"),a=o?o.prototype:void 0,i=a?a.valueOf:void 0;e.exports=r},"1C79":function(e,t,n){function r(e,t,n,i,s){var l=-1,u=e.length;for(n||(n=a),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?r(c,t-1,n,i,s):o(s,c):i||(s[s.length]=c)}return s}var o=n("uIr7"),a=n("Qp3N");e.exports=r},"1QDk":function(e,t,n){function r(e,t){return o(e,a(e),t)}var o=n("tv3T"),a=n("09Qt");e.exports=r},"2CrM":function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case u.default.CLEAR_ALL:return{};case u.default.PUSH_SCREEN:var r=n.payload,i=r.screenType,l=r.roomId;return i===s.Screens.CHAT||i===s.Screens.THREAD&&l?d({},t,{active_room:l}):e.omit(t,["active_room","has_notification_other"]);case u.default.POP_SCREEN:var c=n.payload;if(c){if(c.screenType===s.Screens.HOME)return e.omit(t,["active_room","has_notification_other"]);if(c.screenType===s.Screens.THREADLIST)return e.omit(t,"active_room")}return t;case u.default.FETCH_CHAT_ROOMS_COMPLETE:var p=n.payload,h=p.notifications,m=p.unread_mentions,y=e.get(t,"active_window",!1),g=!1;return e.isEmpty(h)||(g=!y),d({},t,{has_notification:g,unread:h,unreadMentions:m});case u.default.FETCH_THREAD_NOTIFICATIONS_COMPLETE:var v=n.payload,_=e.get(t,"has_notification",!1),E=e.get(t,"active_window",!1),b=e.get(t,"unread",{});return e.isEmpty(v)||(_=_||!E),d({},t,{unread:d({},b,v),has_notification:_});case u.default.UPDATE_LAST_VISITED_COMPLETE:var T=n.payload,S=T.roomId,w=T.lastVisited,O=T.numNextMessages,C=e.get(t,"unread",{}),P=d({},e.get(C,S,{}));return P.oldest&&(P=e.omit(P,"oldest")),P.last_visited=w,P.count-=O,d({},t,{unread:d({},C,a({},S,P))});case u.default.UPDATE_WINDOW:var A=n.payload.opened,R=d({},t,{active_window:A});return A&&e.get(t,"has_notification",!1)&&(R.has_notification=!1),A&&t.active_room&&(R.unread=e.omit(e.get(t,"unread",{}),t.active_room)),R;case u.default.SOCKET_EVENT:if(n.error)return t;var M=n.meta,k=M.roomId,I=M.userId,N=n.payload,L=e.get(t,"active_window",!1);if((0,f.default)(I,"missing session userId in action"),(0,f.default)(k,"missing roomId in action"),(0,f.default)(N.room_id===k,"unexpected room.  Got "+N.room_id+", expected "+k),N.type!==s.EventTypes.MESSAGE&&N.type!==s.EventTypes.REPLY)return t;if((0,f.default)(e.has(N,"payload.user_id"),"missing user_id in payload"),N.payload.user_id===I)return t;var j=e.get(t,"unread",{}),x=void 0,D=void 0;if(N.type===s.EventTypes.MESSAGE)D=k,x=d({},e.get(j,k,{}));else if(N.type===s.EventTypes.REPLY){var U=e.get(N,["payload","thread_room_id"]);D=U,x=d({},e.get(j,U,{}))}e.isEmpty(x)?(x.oldest=N.payload.message_id,x.count=0,x.last_visited=N.timestamp):x.oldest||(x.oldest=N.payload.message_id),x.count+=1;var F=!L,q=!L&&t.active_room&&t.active_room!==k,B=e.get(N,"payload.mentions",[]),G=e.includes(B,I.toString())?d({},e.get(t,"unreadMentions",{}),a({},D,[].concat(o(e.get(t,["unreadMentions",D])||[]),[{room_id:D,message_id:N.payload.message_id,created_at:N.payload.created_at}]))):t.unreadMentions;return d({},t,{has_notification:F,has_notification_other:q,unread:d({},j,a({},D,x)),unreadMentions:G});default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.notifications=i;var s=n("DtqQ"),l=n("kQbS"),u=r(l),c=n("crWv"),f=r(c),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}).call(t,n("M4fF"))},"2N6f":function(e,t,n){function r(e){return i(a(e,void 0,o),e+"")}var o=n("rCVp"),a=n("Q2wK"),i=n("WHce");e.exports=r},"2VmA":function(e,t,n){function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}var o=n("VORN"),a=n("KMSM"),i=4294967295;r.prototype=o(a.prototype),r.prototype.constructor=r,e.exports=r},"3Cd/":function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":f(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":f(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l,u,c,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n("h1vo"),p=r(d),h=n("crC2"),m=r(h),y=n("KSGD"),g=r(y),v=n("U7vG"),_=r(v),E=n("/Hzi"),b=r(E),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=(s=e(b.default))((c=u=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),T(t,[{key:"render",value:function(){var e=this.props.ndId;return _.default.createElement("div",{styleName:"homescreen"},_.default.createElement(m.default,{isBackButtonVisible:!1}),_.default.createElement(p.default,{ndId:e}))}}]),t}(_.default.Component),u.propTypes={ndId:g.default.number.isRequired},l=c))||l;t.default=S}).call(t,n("211U"))},"3vYp":function(e,t,n){"use strict";(function(e){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case a.default.CLEAR_ALL:return e.has(t,"listener")&&t.listener.close(),{};case a.default.SOCKET_OPEN:var r=n.payload;return{listener:r.listener,rooms:r.rooms,connected:!0};case a.default.SOCKET_CLOSE:return e.has(t,"listener")&&t.listener.close(),{};case a.default.SOCKET_CONNECTED:return i({},t,{connected:!0});case a.default.SOCKET_DISCONNECTED:return i({},t,{connected:!1});default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.socket=r;var o=n("kQbS"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}).call(t,n("M4fF"))},"5/Qr":function(e,t,n){function r(e,t,n,r){var M=e.constructor;switch(t){case _:return o(e);case f:case d:return new M(+e);case E:return a(e,r);case b:case T:case S:case w:case O:case C:case P:case A:case R:return c(e,r);case p:return i(e,r,n);case h:case g:return new M(e);case m:return s(e);case y:return l(e,r,n);case v:return u(e)}}var o=n("Kzd6"),a=n("6Git"),i=n("Jqj6"),s=n("WyC4"),l=n("7jYp"),u=n("0uX4"),c=n("Ilb/"),f="[object Boolean]",d="[object Date]",p="[object Map]",h="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",b="[object Float32Array]",T="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",C="[object Uint8Array]",P="[object Uint8ClampedArray]",A="[object Uint16Array]",R="[object Uint32Array]";e.exports=r},5183:function(e,t,n){var r=n("bIbi"),o=r&&new r;e.exports=o},"5DDM":function(e,t,n){function r(e){var t=i(e),n=s[t];if("function"!=typeof n||!(t in o.prototype))return!1;if(e===n)return!0;var r=a(n);return!!r&&e===r[0]}var o=n("2VmA"),a=n("wKps"),i=n("K96V"),s=n("6xqu");e.exports=r},"5JTN":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("kQbS"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n("c4Rz");t.default={setUserData:function(e){return(0,a.createAction)(o.default.SET_USER_DATA,e)}}},"5Sa3":function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.placeholder={bind:!0,bindKey:!0,curry:!0,curryRight:!0,partial:!0,partialRight:!0},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var o in n){var a=n[o];e.call(r,a)?r[a].push(o):r[a]=[o]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},"5UqS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElement=t.isModifier=void 0;var r=n("+JtJ"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=t.isModifier=function(e){return"&"===e[0]};t.isElement=(0,o.default)(a)},"6Git":function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var o=n("Kzd6");e.exports=r},"6RRl":function(e,t,n){function r(e){if(e instanceof o)return e.clone();var t=new a(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var o=n("2VmA"),a=n("6o+p"),i=n("hrPF");e.exports=r},"6S2P":function(e,t,n){(function(n){function r(e,t){if(e instanceof i)return e;if("string"!=typeof e)return null;if(e.length>J)return null;if(!(t?Z[me]:Z[de]).test(e))return null;try{return new i(e,t)}catch(e){return null}}function o(e,t){var n=r(e,t);return n?n.version:null}function a(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}function i(e,t){if(e instanceof i){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>J)throw new TypeError("version is longer than "+J+" characters");if(!(this instanceof i))return new i(e,t);Y("SemVer",e,t),this.loose=t;var n=e.trim().match(t?Z[me]:Z[de]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>X||this.major<0)throw new TypeError("Invalid major version");if(this.minor>X||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>X||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<X)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}function s(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new i(e,n).inc(t,r).version}catch(e){return null}}function l(e,t){if(b(e,t))return null;var n=r(e),o=r(t);if(n.prerelease.length||o.prerelease.length){for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==o[a])return"pre"+a;return"prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==o[a])return a}function u(e,t){var n=Ue.test(e),r=Ue.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function c(e,t){return u(t,e)}function f(e,t){return new i(e,t).major}function d(e,t){return new i(e,t).minor}function p(e,t){return new i(e,t).patch}function h(e,t,n){return new i(e,n).compare(new i(t,n))}function m(e,t){return h(e,t,!0)}function y(e,t,n){return h(t,e,n)}function g(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})}function v(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})}function _(e,t,n){return h(e,t,n)>0}function E(e,t,n){return h(e,t,n)<0}function b(e,t,n){return 0===h(e,t,n)}function T(e,t,n){return 0!==h(e,t,n)}function S(e,t,n){return h(e,t,n)>=0}function w(e,t,n){return h(e,t,n)<=0}function O(e,t,n,r){var o;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),o=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),o=e!==n;break;case"":case"=":case"==":o=b(e,n,r);break;case"!=":o=T(e,n,r);break;case">":o=_(e,n,r);break;case">=":o=S(e,n,r);break;case"<":o=E(e,n,r);break;case"<=":o=w(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return o}function C(e,t){if(e instanceof C){if(e.loose===t)return e;e=e.value}if(!(this instanceof C))return new C(e,t);Y("comparator",e,t),this.loose=t,this.parse(e),this.semver===Fe?this.value="":this.value=this.operator+this.semver.version,Y("comp",this)}function P(e,t){if(e instanceof P)return e.loose===t?e:new P(e.raw,t);if(e instanceof C)return new P(e.value,t);if(!(this instanceof P))return new P(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function A(e,t){return new P(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function R(e,t){return Y("comp",e),e=N(e,t),Y("caret",e),e=k(e,t),Y("tildes",e),e=j(e,t),Y("xrange",e),e=D(e,t),Y("stars",e),e}function M(e){return!e||"x"===e.toLowerCase()||"*"===e}function k(e,t){return e.trim().split(/\s+/).map(function(e){return I(e,t)}).join(" ")}function I(e,t){var n=t?Z[Ce]:Z[Oe];return e.replace(n,function(t,n,r,o,a){Y("tilde",e,t,n,r,o,a);var i;return M(n)?i="":M(r)?i=">="+n+".0.0 <"+(+n+1)+".0.0":M(o)?i=">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":a?(Y("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),i=">="+n+"."+r+"."+o+a+" <"+n+"."+(+r+1)+".0"):i=">="+n+"."+r+"."+o+" <"+n+"."+(+r+1)+".0",Y("tilde return",i),i})}function N(e,t){return e.trim().split(/\s+/).map(function(e){return L(e,t)}).join(" ")}function L(e,t){Y("caret",e,t);var n=t?Z[Me]:Z[Re];return e.replace(n,function(t,n,r,o,a){Y("caret",e,t,n,r,o,a);var i;return M(n)?i="":M(r)?i=">="+n+".0.0 <"+(+n+1)+".0.0":M(o)?i="0"===n?">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":">="+n+"."+r+".0 <"+(+n+1)+".0.0":a?(Y("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),i="0"===n?"0"===r?">="+n+"."+r+"."+o+a+" <"+n+"."+r+"."+(+o+1):">="+n+"."+r+"."+o+a+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+o+a+" <"+(+n+1)+".0.0"):(Y("no pr"),i="0"===n?"0"===r?">="+n+"."+r+"."+o+" <"+n+"."+r+"."+(+o+1):">="+n+"."+r+"."+o+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+o+" <"+(+n+1)+".0.0"),Y("caret return",i),i})}function j(e,t){return Y("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return x(e,t)}).join(" ")}function x(e,t){e=e.trim();var n=t?Z[Te]:Z[be];return e.replace(n,function(t,n,r,o,a,i){Y("xRange",e,t,n,r,o,a,i);var s=M(r),l=s||M(o),u=l||M(a),c=u;return"="===n&&c&&(n=""),s?t=">"===n||"<"===n?"<0.0.0":"*":n&&c?(l&&(o=0),u&&(a=0),">"===n?(n=">=",l?(r=+r+1,o=0,a=0):u&&(o=+o+1,a=0)):"<="===n&&(n="<",l?r=+r+1:o=+o+1),t=n+r+"."+o+"."+a):l?t=">="+r+".0.0 <"+(+r+1)+".0.0":u&&(t=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0"),Y("xRange return",t),t})}function D(e,t){return Y("replaceStars",e,t),e.trim().replace(Z[xe],"")}function U(e,t,n,r,o,a,i,s,l,u,c,f,d){return t=M(n)?"":M(r)?">="+n+".0.0":M(o)?">="+n+"."+r+".0":">="+t,s=M(l)?"":M(u)?"<"+(+l+1)+".0.0":M(c)?"<"+l+"."+(+u+1)+".0":f?"<="+l+"."+u+"."+c+"-"+f:"<="+s,(t+" "+s).trim()}function F(e,t){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length){for(var n=0;n<e.length;n++)if(Y(e[n].semver),e[n].semver!==Fe&&e[n].semver.prerelease.length>0){var r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}function q(e,t,n){try{t=new P(t,n)}catch(e){return!1}return t.test(e)}function B(e,t,n){var r=null,o=null;try{var a=new P(t,n)}catch(e){return null}return e.forEach(function(e){a.test(e)&&(r&&-1!==o.compare(e)||(r=e,o=new i(r,n)))}),r}function G(e,t,n){var r=null,o=null;try{var a=new P(t,n)}catch(e){return null}return e.forEach(function(e){a.test(e)&&(r&&1!==o.compare(e)||(r=e,o=new i(r,n)))}),r}function H(e,t){try{return new P(e,t).range||"*"}catch(e){return null}}function W(e,t,n){return K(e,t,"<",n)}function z(e,t,n){return K(e,t,">",n)}function K(e,t,n,r){e=new i(e,r),t=new P(t,r);var o,a,s,l,u;switch(n){case">":o=_,a=w,s=E,l=">",u=">=";break;case"<":o=E,a=S,s=_,l="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(q(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var f=t.set[c],d=null,p=null;if(f.forEach(function(e){e.semver===Fe&&(e=new C(">=0.0.0")),d=d||e,p=p||e,o(e.semver,d.semver,r)?d=e:s(e.semver,p.semver,r)&&(p=e)}),d.operator===l||d.operator===u)return!1;if((!p.operator||p.operator===l)&&a(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0}function V(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}function Q(e,t,n){return e=new P(e,n),t=new P(t,n),e.intersects(t)}t=e.exports=i;var Y;Y="object"==typeof n&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production"}).NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var J=256,X=Number.MAX_SAFE_INTEGER||9007199254740991,Z=t.re=[],$=t.src=[],ee=0,te=ee++;$[te]="0|[1-9]\\d*";var ne=ee++;$[ne]="[0-9]+";var re=ee++;$[re]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var oe=ee++;$[oe]="("+$[te]+")\\.("+$[te]+")\\.("+$[te]+")";var ae=ee++;$[ae]="("+$[ne]+")\\.("+$[ne]+")\\.("+$[ne]+")";var ie=ee++;$[ie]="(?:"+$[te]+"|"+$[re]+")";var se=ee++;$[se]="(?:"+$[ne]+"|"+$[re]+")";var le=ee++;$[le]="(?:-("+$[ie]+"(?:\\."+$[ie]+")*))";var ue=ee++;$[ue]="(?:-?("+$[se]+"(?:\\."+$[se]+")*))";var ce=ee++;$[ce]="[0-9A-Za-z-]+";var fe=ee++;$[fe]="(?:\\+("+$[ce]+"(?:\\."+$[ce]+")*))";var de=ee++,pe="v?"+$[oe]+$[le]+"?"+$[fe]+"?";$[de]="^"+pe+"$";var he="[v=\\s]*"+$[ae]+$[ue]+"?"+$[fe]+"?",me=ee++;$[me]="^"+he+"$";var ye=ee++;$[ye]="((?:<|>)?=?)";var ge=ee++;$[ge]=$[ne]+"|x|X|\\*";var ve=ee++;$[ve]=$[te]+"|x|X|\\*";var _e=ee++;$[_e]="[v=\\s]*("+$[ve]+")(?:\\.("+$[ve]+")(?:\\.("+$[ve]+")(?:"+$[le]+")?"+$[fe]+"?)?)?";var Ee=ee++;$[Ee]="[v=\\s]*("+$[ge]+")(?:\\.("+$[ge]+")(?:\\.("+$[ge]+")(?:"+$[ue]+")?"+$[fe]+"?)?)?";var be=ee++;$[be]="^"+$[ye]+"\\s*"+$[_e]+"$";var Te=ee++;$[Te]="^"+$[ye]+"\\s*"+$[Ee]+"$";var Se=ee++;$[Se]="(?:~>?)";var we=ee++;$[we]="(\\s*)"+$[Se]+"\\s+",Z[we]=new RegExp($[we],"g");var Oe=ee++;$[Oe]="^"+$[Se]+$[_e]+"$";var Ce=ee++;$[Ce]="^"+$[Se]+$[Ee]+"$";var Pe=ee++;$[Pe]="(?:\\^)";var Ae=ee++;$[Ae]="(\\s*)"+$[Pe]+"\\s+",Z[Ae]=new RegExp($[Ae],"g");var Re=ee++;$[Re]="^"+$[Pe]+$[_e]+"$";var Me=ee++;$[Me]="^"+$[Pe]+$[Ee]+"$";var ke=ee++;$[ke]="^"+$[ye]+"\\s*("+he+")$|^$";var Ie=ee++;$[Ie]="^"+$[ye]+"\\s*("+pe+")$|^$";var Ne=ee++;$[Ne]="(\\s*)"+$[ye]+"\\s*("+he+"|"+$[_e]+")",Z[Ne]=new RegExp($[Ne],"g");var Le=ee++;$[Le]="^\\s*("+$[_e]+")\\s+-\\s+("+$[_e]+")\\s*$";var je=ee++;$[je]="^\\s*("+$[Ee]+")\\s+-\\s+("+$[Ee]+")\\s*$";var xe=ee++;$[xe]="(<|>)?=?\\s*\\*";for(var De=0;De<ee;De++)Y(De,$[De]),Z[De]||(Z[De]=new RegExp($[De]));t.parse=r,t.valid=o,t.clean=a,t.SemVer=i,i.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},i.prototype.toString=function(){return this.version},i.prototype.compare=function(e){return Y("SemVer.compare",this.version,this.loose,e),e instanceof i||(e=new i(e,this.loose)),this.compareMain(e)||this.comparePre(e)},i.prototype.compareMain=function(e){return e instanceof i||(e=new i(e,this.loose)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)},i.prototype.comparePre=function(e){if(e instanceof i||(e=new i(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(Y("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)},i.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=s,t.diff=l,t.compareIdentifiers=u;var Ue=/^[0-9]+$/;t.rcompareIdentifiers=c,t.major=f,t.minor=d,t.patch=p,t.compare=h,t.compareLoose=m,t.rcompare=y,t.sort=g,t.rsort=v,t.gt=_,t.lt=E,t.eq=b,t.neq=T,t.gte=S,t.lte=w,t.cmp=O,t.Comparator=C;var Fe={};C.prototype.parse=function(e){var t=this.loose?Z[ke]:Z[Ie],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new i(n[2],this.loose):this.semver=Fe},C.prototype.toString=function(){return this.value},C.prototype.test=function(e){return Y("Comparator.test",e,this.loose),this.semver===Fe||("string"==typeof e&&(e=new i(e,this.loose)),O(e,this.operator,this.semver,this.loose))},C.prototype.intersects=function(e,t){if(!(e instanceof C))throw new TypeError("a Comparator is required");var n;if(""===this.operator)return n=new P(e.value,t),q(this.value,n,t);if(""===e.operator)return n=new P(this.value,t),q(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=O(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=O(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||a&&i||s||l},t.Range=P,P.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},P.prototype.toString=function(){return this.range},P.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),Y("range",e,t);var n=t?Z[je]:Z[Le];e=e.replace(n,U),Y("hyphen replace",e),e=e.replace(Z[Ne],"$1$2$3"),Y("comparator trim",e,Z[Ne]),e=e.replace(Z[we],"$1~"),e=e.replace(Z[Ae],"$1^"),e=e.split(/\s+/).join(" ");var r=t?Z[ke]:Z[Ie],o=e.split(" ").map(function(e){return R(e,t)}).join(" ").split(/\s+/);return this.loose&&(o=o.filter(function(e){return!!e.match(r)})),o=o.map(function(e){return new C(e,t)})},P.prototype.intersects=function(e,t){if(!(e instanceof P))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=A,P.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new i(e,this.loose));for(var t=0;t<this.set.length;t++)if(F(this.set[t],e))return!0;return!1},t.satisfies=q,t.maxSatisfying=B,t.minSatisfying=G,t.validRange=H,t.ltr=W,t.gtr=z,t.outside=K,t.prerelease=V,t.intersects=Q}).call(t,n("lNQ5"))},"6dSa":function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(t,n,r){var o=void 0;return t&&(o=e.createElement("img",{src:t,alt:(0,g.__)("Profile photo"),styleName:"profile-avatar-img"})),n&&(o=e.createElement("img",{src:n,alt:(0,g.__)("Profile photo"),styleName:"profile-avatar-img"})),t||n||(o=e.createElement("div",{styleName:"avatar-default"},r[0])),o}Object.defineProperty(t,"__esModule",{value:!0});var s=n("4Dn6"),l=n("uPk2"),u=a(l),c=n("b9xx"),f=n("Zrtp"),d=a(f),p=n("KSGD"),h=a(p),m=n("ZqFP"),y=a(m),g=n("eyXk"),v=n("wJqg"),_=a(v),E=n("Yz2p"),b=a(E),T=function(t){var n=t.onSubmit,o=t.userLocation,a=t.onLocationChange,l=t.onLocationInputChange,f=t.locationPredictions,p=t.isLoadingLocations,h=t.nanodegrees,m=t.user,v=t.isCroppingPhoto,E=t.photoUrl,b=t.photoBase64,T=t.onRemovePhotoClick,S=t.onPhotoEditorCloseClick,w=t.onSavePhotoClick,O=t.uploadPhotoFile,C=t.showLocation,P=t.onShowLocationClick,A=t.verifyPhotoFile,R=t.needs_initializing,M=t.agreeToGuidelines,k=t.onAgreeCheckboxChange,I=E||b,N=I?(0,g.__)("Change Photo"):(0,g.__)("Add Photo"),L=R?(0,g.__)("You’re one short step away! Fill out your profile to share & connect with your classmates."):(0,g.__)("Edit your student profile and return to the conversation."),j="profile-container "+(R?"":"profile-height-with-agree-checkbox");return e.createElement("form",{styleName:j},e.createElement("h3",{styleName:"direction"},L),e.createElement("hr",{styleName:"line-break"}),e.createElement("div",{styleName:"form-content"},e.createElement("h4",{styleName:"name"},m),e.createElement("div",{styleName:"photo-container"},i(E,b,m),e.createElement("div",{styleName:"avatar-direction"},e.createElement("div",{styleName:"avatar-title"},(0,g.__)("Profile photo")),e.createElement("div",{styleName:"avatar-size"},(0,g.__)("Min: 120px by 120px, Max: 5MB")),e.createElement(c.Dropfile,{theme:_.default,verify:A,uploadFiles:O},e.createElement("div",{styleName:"add-photo"},N)),I&&e.createElement("a",{href:"#",onClick:T,styleName:"remove-photo",title:"remove"},(0,g.__)("remove"))),e.createElement(u.default,{isOpen:v,photoUrl:E,photoBase64:b,onPhotoEditorCloseClick:S,onSavePhotoClick:w})),e.createElement("label",{htmlFor:"userLocation",styleName:"label"},(0,g.__)("Where are you studying from?")),e.createElement(y.default,{autoBlur:!0,id:"userLocation",isLoading:p,labelKey:"description",name:"location",styleName:"location",arrowRenderer:null,onChange:a,onInputChange:l,options:f,disabled:!C,placeholder:(0,g.__)("Enter your city"),noResultsText:(0,g.__)("Type to search"),value:o,valueKey:"location_id"}),e.createElement("div",{styleName:"location-pref"},e.createElement(s.Checkbox,{onChange:P,defaultChecked:C,required:!0,"aria-required":"true"},e.createElement("span",null,(0,g.__)("Share my location")))),e.createElement("div",{styleName:"label"},(0,g.__)("Program Enrollments")),e.createElement("ul",{styleName:"nanodegrees-list"},r.map(h,function(t,n){return e.createElement("li",{styleName:"nanodegrees-entry",key:t+n},t)}))),e.createElement("div",{styleName:"btn-container"},R&&e.createElement("div",{styleName:"agree-checkbox"},e.createElement(s.Checkbox,{onChange:k,checked:M},e.createElement("div",{styleName:"agree-label-text"},e.createElement("span",{styleName:"red-asterisk"},"*"),(0,g.__)("I agree to adhere to the Udacity")," ",e.createElement("a",{href:"https://www.udacity.com/legal/community-guidelines",target:"_blank"},(0,g.__)("Community Guidelines")),".",e.createElement(d.default,{glyph:"information-md",text:(0,g.__)("Information about community guidelines")})))),e.createElement(s.Button,{type:"primary",onClick:n,styleName:"save-btn",disabled:R&&!M},(0,g.__)("Save and Continue"))))};T.propTypes={onSubmit:h.default.func.isRequired,userLocation:h.default.object,onLocationChange:h.default.func.isRequired,onLocationInputChange:h.default.func.isRequired,isLoadingLocations:h.default.bool,nanodegrees:h.default.arrayOf(h.default.string),user:h.default.string.isRequired,isCroppingPhoto:h.default.bool,photoUrl:h.default.string,photoBase64:h.default.string,onRemovePhotoClick:h.default.func.isRequired,onPhotoEditorCloseClick:h.default.func.isRequired,onSavePhotoClick:h.default.func.isRequired,showLocation:h.default.bool.isRequired,onShowLocationClick:h.default.func.isRequired,verifyPhotoFile:h.default.func.isRequired,uploadPhotoFile:h.default.func.isRequired},t.default=o(b.default,{allowMultiple:!0})(T)}).call(t,n("U7vG"),n("M4fF"),n("211U"))},"6o+p":function(e,t,n){function r(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var o=n("VORN"),a=n("KMSM");r.prototype=o(a.prototype),r.prototype.constructor=r,e.exports=r},"6pAr":function(e,t){function n(e){this.message=e}function r(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,a,i=0,s=0,l="";a=t.charAt(s++);~a&&(r=i%4?64*r+a:a,i++%4)?l+=String.fromCharCode(255&r>>(-2*i&6)):0)a=o.indexOf(a);return l}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||r},"6vb+":function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(t){return e.chain(t).map(e.size).values().sum()}Object.defineProperty(t,"__esModule",{value:!0});var c,f,d,p,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=n("kcq/"),y=n("QBEk"),g=n("qkBN"),v=a(g),_=n("pN1M"),E=a(_),b=n("3Cd/"),T=a(b),S=n("4Dn6"),w=n("ZD/T"),O=a(w),C=n("KSGD"),P=a(C),A=n("DtqQ"),R=n("j5LV"),M=n("x4aR"),k=a(M),I=n("ksUF"),N=a(I),L=n("zLFy"),j=a(L),x=n("GBFD"),D=a(x),U=n("c4Rz"),F=n("RH2O"),q=n("crWv"),B=a(q),G=n("/Hzi"),H=a(G),W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),K=(c=r(H.default,{allowMultiple:!0}))((p=d=function(t){function n(){var e,t,r,o;i(this,n);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return t=r=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.handleRemove=function(e){r.props.removeToast(e)},o=t,s(r,o)}return l(n,t),z(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.checkWebsocket,n=e.fetchProfile,r=e.myProfile;this.trackSessionInit(this.props),this.isProfileLoaded(r)||n(),t()}},{key:"componentWillReceiveProps",value:function(t){var n=t.isCommunityOpen,r=t.onCommunityClose,o=t.hasNotification,a=t.onNotification,i=t.fetchProfile,s=t.myProfile,l=t.createToast,c=t.updateScreen,f=t.screen,d=t.mentions;if(this.trackSessionStart(t,this.props),this.props.hasNotification!==o){var p=u(d);a(o,(0,y.displayMentionCount)(p))}return this.props.isCommunityOpen||!n||this.isProfileLoaded(s)?this.props.myProfile===s||s.loading?void 0:s.error&&n?(l(j.default.createError({message:"Unable to load profile, please try again."})),void r()):e.get(s,"needs_initializing",!1)?void c({screenType:A.Screens.PROFILE}):e.isEmpty(f)?void c({screenType:A.Screens.HOME}):void 0:void i()}},{key:"componentDidUpdate",value:function(e){this.trackSessionEnd(this.props,e)}},{key:"componentWillUnmount",value:function(){var e=this.props.closeWebsocket;this.trackSessionEnd(null,this.props),e()}},{key:"isScreenLoaded",value:function(t){return!e.isEmpty(t)}},{key:"isProfileLoaded",value:function(e){return e&&!e.loading&&!e.error}},{key:"trackSessionInit",value:function(t){return(0,t.setUserData)(e.pick(t,["ndKey","ndId","ndTitle","userId","locale","partKey","moduleKey","lessonKey","conceptKey"]))}},{key:"trackSessionStart",value:function(t,n){var r=t.userId,o=t.ndId,a=t.setUserData,i=t.userData;if(!e.get(n,"isCommunityOpen",!1)&&t.isCommunityOpen){var s=(0,y.generateSessionIDString)(r,o),l=e.get(n,"hasNotification",!1),u=W({},i,{sessionId:s,hadNotification:l});v.default.track(m.UCHAT_START,u),a({sessionId:s})}}},{key:"trackSessionEnd",value:function(t,n){var r=n.userData;if(n.isCommunityOpen&&!e.get(t,"isCommunityOpen",!1)){var o=W({},r);v.default.track(m.UCHAT_END,o)}}},{key:"renderScreen",value:function(t,n){(0,B.default)(!e.isEmpty(t),"there should always be a screen present");var r=e.last(t);switch(r.screenType){case A.Screens.HOME:return o.createElement(T.default,{ndId:n});case A.Screens.CHAT:return o.createElement(E.default,{screen:r,roomTitle:r.roomTitle});case A.Screens.PROFILE:return o.createElement(O.default,null);case A.Screens.THREADLIST:return o.createElement(k.default,null);case A.Screens.THREAD:return o.createElement(N.default,{roomId:r.roomId,roomTitle:r.roomTitle,messageId:r.messageId});default:return(0,B.default)(!1,"UChatContainer tried to render invalid screen "+r.screenType),null}}},{key:"render",value:function(){var e=this.props,t=e.isCommunityOpen,n=e.screen,r=e.ndId,a=e.toasts,i=e.myProfile,s=this.isProfileLoaded(i),l=this.isScreenLoaded(n),u=!s||!l;return o.createElement("div",null,o.createElement("div",{styleName:t?"container":"hidden"},u?o.createElement(S.LoadingWrapper,{isLoading:!0}):this.renderScreen(n,r)),o.createElement(D.default,{toasts:a,onRemove:this.handleRemove}))}}]),n}(o.Component),d.propTypes={isCommunityOpen:P.default.bool.isRequired,onCommunityClose:P.default.func.isRequired,ndId:P.default.number.isRequired,ndKey:P.default.string,ndTitle:P.default.string,userId:P.default.string,locale:P.default.string,screen:R.ScreensShape.isRequired,partKey:P.default.string,moduleKey:P.default.string,lessonKey:P.default.string,conceptKey:P.default.string},f=p))||f,V=function(e){return{myProfile:e.profiles.me,screen:e.screen,toasts:e.toasts,isCommunityOpen:e.window.opened,onCommunityClose:e.window.toggleFn,hasNotification:e.notifications.has_notification,mentions:e.notifications.unreadMentions,onNotification:e.window.toggleNotification,userData:e.userData}},Q=(0,U.actionsBinder)("updateScreen","fetchProfile","removeToast","createToast","setUserData","checkWebsocket","closeWebsocket");t.default=(0,F.connect)(V,Q)(K)}).call(t,n("M4fF"),n("211U"),n("U7vG"))},"6xqu":function(e,t,n){function r(e){if(l(e)&&!s(e)&&!(e instanceof o)){if(e instanceof a)return e;if(f.call(e,"__wrapped__"))return u(e)}return new a(e)}var o=n("2VmA"),a=n("6o+p"),i=n("KMSM"),s=n("NGEn"),l=n("UnEC"),u=n("6RRl"),c=Object.prototype,f=c.hasOwnProperty;r.prototype=i.prototype,r.prototype.constructor=r,e.exports=r},"7I8Q":function(e,t,n){var r=n("oM53"),o=n("Zk5a"),a=o(r);e.exports=a},"7jYp":function(e,t,n){function r(e,t,n){var r=t?n(i(e),s):i(e);return a(r,o,new e.constructor)}var o=n("nWuj"),a=n("3rZI"),i=n("octw"),s=1;e.exports=r},"8NDG":function(e,t){function n(e,t,n,o){for(var a=-1,i=e.length,s=-1,l=n.length,u=-1,c=t.length,f=r(i-l,0),d=Array(f+c),p=!o;++a<f;)d[a]=e[a];for(var h=a;++u<c;)d[h+u]=t[u];for(;++s<l;)(p||a<i)&&(d[h+n[s]]=e[a++]);return d}var r=Math.max;e.exports=n},"8euC":function(e,t,n){var r=n("b6tY"),o=r("flowRight",n("qojq"));o.placeholder=n("qXkD"),e.exports=o},"8gK5":function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},"9I+q":function(e,t){!function(){function t(e,t){for(var n=2;n<arguments.length;n++)for(var r=0;r<arguments[n].length;r++)e[t++]=arguments[n].charAt(r)}function n(e){return String.fromCharCode(e>>8&255,255&e)}function r(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function o(e){return String.fromCharCode(255&e,e>>8&255)}var a=function(e,a,i){this.width=e,this.height=a,this.depth=i,this.pix_size=a*(e+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*i+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+i+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var s=new Array,l=0;l<this.buffer_size;l++)this.buffer[l]="\0";t(this.buffer,this.ihdr_offs,r(this.ihdr_size-12),"IHDR",r(e),r(a),"\b"),t(this.buffer,this.plte_offs,r(this.plte_size-12),"PLTE"),t(this.buffer,this.trns_offs,r(this.trns_size-12),"tRNS"),t(this.buffer,this.idat_offs,r(this.idat_size-12),"IDAT"),t(this.buffer,this.iend_offs,r(this.iend_size-12),"IEND");var u=30912;u+=31-u%31,t(this.buffer,this.idat_offs+8,n(u));for(var l=0;(l<<16)-1<this.pix_size;l++){var c,f;l+65535<this.pix_size?(c=65535,f="\0"):(c=this.pix_size-(l<<16)-l,f=""),t(this.buffer,this.idat_offs+8+2+(l<<16)+(l<<2),f,o(c),o(~c))}for(var l=0;l<256;l++){for(var d=l,p=0;p<8;p++)d=1&d?-306674912^d>>1&2147483647:d>>1&2147483647;s[l]=d}this.index=function(e,t){var n=t*(this.width+1)+e+1;return this.idat_offs+8+2+5*Math.floor(n/65535+1)+n},this.color=function(e,t,n,r){r=r>=0?r:255;var o=((r<<8|e)<<8|t)<<8|n;if(void 0===this.palette[o]){if(this.pindex==this.depth)return"\0";var a=this.plte_offs+8+3*this.pindex;this.buffer[a+0]=String.fromCharCode(e),this.buffer[a+1]=String.fromCharCode(t),this.buffer[a+2]=String.fromCharCode(n),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(r),this.palette[o]=String.fromCharCode(this.pindex++)}return this.palette[o]},this.getBase64=function(){var e,t,n,r,o,a,i,s=this.getDump(),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=s.length,c=0,f="";do{e=s.charCodeAt(c),r=e>>2,t=s.charCodeAt(c+1),o=(3&e)<<4|t>>4,n=s.charCodeAt(c+2),a=u<c+2?64:(15&t)<<2|n>>6,i=u<c+3?64:63&n,f+=l.charAt(r)+l.charAt(o)+l.charAt(a)+l.charAt(i)}while((c+=3)<u);return f},this.getDump=function(){function e(e,n,o){for(var a=-1,i=4;i<o-4;i+=1)a=s[255&(a^e[n+i].charCodeAt(0))]^a>>8&16777215;t(e,n+o-4,r(-1^a))}for(var n=1,o=0,a=5552,i=0;i<this.height;i++)for(var l=-1;l<this.width;l++)n+=this.buffer[this.index(l,i)].charCodeAt(0),o+=n,0==(a-=1)&&(n%=65521,o%=65521,a=5552);return n%=65521,o%=65521,t(this.buffer,this.idat_offs+this.idat_size-8,r(o<<16|n)),e(this.buffer,this.ihdr_offs,this.ihdr_size),e(this.buffer,this.plte_offs,this.plte_size),e(this.buffer,this.trns_offs,this.trns_size),e(this.buffer,this.idat_offs,this.idat_size),e(this.buffer,this.iend_offs,this.iend_size),"PNG\r\n\n"+this.buffer.join("")}};void 0!==e&&void 0!==e.exports?e.exports=a:window.PNGlib=a}()},"9I0a":function(e,t,n){"use strict";(function(e,r,o){Object.defineProperty(t,"__esModule",{value:!0});var a=n("j5LV"),i=n("DtqQ"),s=n("eyXk"),l=n("Yz2p"),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(t){var n=t.profile,o=e.find(n.roles,{type:i.RoleTypes.MENTOR});if(!o)return null;var a=e.get(o,"payload.bio"),l=e.get(o,"payload.certifications",[]),u=!e.isEmpty(l);return r.createElement("div",null,r.createElement("div",null,r.createElement("h3",{styleName:"display-title"},(0,s.__)("Biography")),r.createElement("p",{styleName:"display-detail"},a)),u&&r.createElement("div",null,r.createElement("h3",{styleName:"display-title"},(0,s.__)("Certification")),r.createElement("ul",null,e.map(l,function(e,t){return r.createElement("li",{key:t},e)}))))};c.propTypes={profile:a.ProfileShape.isRequired},t.default=o(u.default,{allowMultiple:!0})(c)}).call(t,n("M4fF"),n("U7vG"),n("211U"))},"9UkZ":function(e,t,n){function r(e){if(!i(e)||o(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var o=n("aCM0"),a=n("vi0E"),i=n("UnEC"),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=c.call(Object);e.exports=r},"9gx7":function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchThread=void 0;var i=n("kQbS"),s=o(i),l=n("Z4sO"),u=o(l),c=n("c4Rz"),f=n("taKU"),d=function(t){return e.resolve({room_id:t,messages:[],cursor:{total:0,has_next:!1,has_prev:!1}})};t.fetchThread=function(e,t){return function(n){return u.default.fetchThread(e,t).then(function(t){var o=t.room_id;return(r.get(t,"room_payload.has_replies",!1)?u.default.fetchMessages(o):d(o)).then(function(r){var i=[].concat(a((0,f.extractMessageParticipants)(r.messages)),[t.room_payload.user_id]),l={info:t,messages:r},u={roomId:o,parentRoomId:e,actors:i};return n((0,c.createAction)(s.default.FETCH_ROOM,o)),n((0,c.createAction)(s.default.FETCH_ROOM_COMPLETE,l,u)),{thread:t,messages:r}})})}}}).call(t,n("0Qa9"),n("M4fF"))},"9j4f":function(e,t,n){function r(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function o(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function a(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function i(e){return function(t){return e({},t)}}function s(e,t){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[t],i=o.slice(0,t);return a&&d.apply(i,a),t!=r&&d.apply(i,o.slice(t+1)),e.apply(this,i)}}function l(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=t.apply(void 0,r);return e.apply(void 0,r),o}}}function u(e,t,n,d){function p(e,t){if(P.cap){var n=c.iterateeRearg[e];if(n)return b(t,n);var r=!O&&c.iterateeAry[e];if(r)return E(t,r)}return t}function h(e,t,n){return A||P.curry&&n>1?D(t,n):t}function m(e,t,n){if(P.fixed&&(R||!c.skipFixed[e])){var r=c.methodSpread[e],o=r&&r.start;return void 0===o?L(t,n):s(t,o)}return t}function y(e,t,n){return P.rearg&&n>1&&(M||!c.skipRearg[e])?G(t,c.methodRearg[e]||c.aryRearg[n]):t}function g(e,t){t=W(t);for(var n=-1,r=t.length,o=r-1,a=x(Object(e)),i=a;null!=i&&++n<r;){var s=t[n],l=i[s];null!=l&&(i[t[n]]=x(n==o?l:Object(l))),i=i[s]}return a}function v(e){return V.runInContext.convert(e)(void 0)}function _(e,t){var n=c.aliasToReal[e]||e,r=c.remap[n]||n,o=d;return function(e){var a=O?I:N,i=O?I[r]:t,s=j(j({},o),e);return u(a,n,i,s)}}function E(e,t){return T(e,function(e){return"function"==typeof e?o(e,t):e})}function b(e,t){return T(e,function(e){var n=t.length;return r(G(o(e,n),t),n)})}function T(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var o=P.rearg?0:n-1;return r[o]=t(r[o]),e.apply(void 0,r)}}function S(e,t){var n,r=c.aliasToReal[e]||e,o=t,s=K[r];return s?o=s(t):P.immutable&&(c.mutate.array[r]?o=l(t,a):c.mutate.object[r]?o=l(t,i(t)):c.mutate.set[r]&&(o=l(t,g))),U(z,function(e){return U(c.aryMethod[e],function(t){if(r==t){var a=c.methodSpread[r],i=a&&a.afterRearg;return n=i?m(r,y(r,o,e),e):y(r,m(r,o,e),e),n=p(r,n),n=h(r,n,e),!1}}),!n}),n||(n=o),n==t&&(n=A?D(n,1):function(){return t.apply(this,arguments)}),n.convert=_(r,t),c.placeholder[r]&&(w=!0,n.placeholder=t.placeholder=k),n}var w,O="function"==typeof t,C=t===Object(t);if(C&&(d=n,n=t,t=void 0),null==n)throw new TypeError;d||(d={});var P={cap:!("cap"in d)||d.cap,curry:!("curry"in d)||d.curry,fixed:!("fixed"in d)||d.fixed,immutable:!("immutable"in d)||d.immutable,rearg:!("rearg"in d)||d.rearg},A="curry"in d&&d.curry,R="fixed"in d&&d.fixed,M="rearg"in d&&d.rearg,k=O?n:f,I=O?n.runInContext():void 0,N=O?n:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isFunction:e.isFunction,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},L=N.ary,j=N.assign,x=N.clone,D=N.curry,U=N.forEach,F=N.isArray,q=N.isFunction,B=N.keys,G=N.rearg,H=N.toInteger,W=N.toPath,z=B(c.aryMethod),K={castArray:function(e){return function(){var t=arguments[0];return F(t)?e(a(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),a=r.length;return P.cap&&"number"==typeof n?(n=n>2?n-2:1,a&&a<=n?r:o(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!q(n))return e(n,Object(t));var r=[];return U(B(t),function(e){q(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),U(r,function(e){var t=e[1];q(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:H(t)+1;return D(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return D(e(t,n),r)}},runInContext:function(t){return function(n){return u(e,t(n),d)}}};if(!C)return S(t,n);var V=n,Q=[];return U(z,function(e){U(c.aryMethod[e],function(e){var t=V[c.remap[e]||e];t&&Q.push([e,S(e,t)])})}),U(B(V),function(e){var t=V[e];if("function"==typeof t){for(var n=Q.length;n--;)if(Q[n][0]==e)return;t.convert=_(e,t),Q.push([e,t])}}),U(Q,function(e){V[e[0]]=e[1]}),V.convert=v,w&&(V.placeholder=k),U(B(V),function(e){U(c.realToAlias[e]||[],function(t){V[t]=V[e]})}),V}var c=n("5Sa3"),f=n("qXkD"),d=Array.prototype.push;e.exports=u},Bl2K:function(e,t,n){"use strict";(function(e,r,o){Object.defineProperty(t,"__esModule",{value:!0});var a=n("j5LV"),i=n("DtqQ"),s=n("eyXk"),l=n("Yz2p"),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(t){var n=t.profile,o=e.find(n.roles,{type:i.RoleTypes.STAFF});if(!o)return null;var a=e.get(o,"payload.bio");return r.createElement("div",null,r.createElement("h3",{styleName:"display-title"},(0,s.__)("Biography")),r.createElement("p",{styleName:"display-detail"},a))};c.propTypes={profile:a.ProfileShape.isRequired},t.default=o(u.default,{allowMultiple:!0})(c)}).call(t,n("M4fF"),n("U7vG"),n("211U"))},C2y9:function(e,t){function n(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var a=e[t];a&&(o[r++]=a)}return o}e.exports=n},"C6j/":function(e,t,n){function r(e){return decodeURIComponent(o(e).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}var o=n("6pAr");e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return r(t)}catch(e){return o(t)}}},CJML:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("xT2y"),a=["animationName"],i=function(e){var t=e.style,n=e.className;return r({},t?{style:(0,o.pickDirectStyles)(t,a)}:{},n?{className:n}:{})};t.default=i,e.exports=t.default},CSeo:function(e,t,n){function r(e,t){for(var n=e.length,r=i(t.length,n),s=o(e);r--;){var l=t[r];e[r]=a(l,n)?s[l]:void 0}return e}var o=n("hrPF"),a=n("ZGh9"),i=Math.min;e.exports=r},Cf65:function(e,t,n){function r(e,t){return t.length<2?e:o(e,a(t,0,-1))}var o=n("uCi2"),a=n("M1c9");e.exports=r},D2c0:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zrtp"),i=o(a),s=n("eyXk"),l=n("Dji7"),u=o(l),c=function(){return e.createElement("div",{styleName:"mentor-badge"},e.createElement("span",{styleName:"badge-icon"},e.createElement(i.default,{glyph:"diamond-md-filled",text:(0,s.__)("Mentor Icon")})," "),e.createElement("span",{styleName:"mentor-badge-label"},(0,s.__)("Mentor")))};t.default=r(u.default,{allowMultiple:!0})(c)}).call(t,n("U7vG"),n("211U"))},"DG+v":function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return g.default.last(e.split("/")).split(".")[0]}function l(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}function u(e,t){var n=void 0;return g.default.isFunction(e)?(d("\n      UREACT-I18N - DEPRECATION WARNING: use of 'require.context' when initializing a new I18n instance is deprecated. See updated usage documentation at: https://github.com/udacity/ureact-i18n#step-1-instantiate-a-new-i18n-object\n    "),n=g.default.chain(e.keys()).filter(function(e){return/\.js$/.test(e)}).map(function(t){return[s(t).toLowerCase(),e(t)]}).fromPairs().value()):n=e,g.default.reduce(n,function(e,n,r){return e[r]=g.default.isUndefined(t)||g.default.isUndefined(t[r])?n:C({},t[r],n),e},t||{})}function c(e){var t=function(t){function n(){return i(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),P(n,[{key:"render",value:function(){return S.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}}]),n}(S.default.Component);return S.default.createElement(t,null)}function f(e){var t=e[e.length-1];return t&&t.renderHTML}function d(e){}Object.defineProperty(t,"__esModule",{value:!0}),t.I18n=t.I18N_CONSTANTS=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n("wFBm"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),y=n("M4fF"),g=r(y),v=n("mtWM"),_=r(v),E=n("S67T"),b=r(E),T=n("U7vG"),S=r(T),w=n("aWNn"),O=r(w),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A={GEO_API_HEADER:"X-Berlioz-Country",GLOBAL_KEY:"@udacity/ureact-i18n__locale",GLOBAL_LOCALE_MAP_KEY:"@udacity/ureact-i18n__locale_map",JWT_TOKEN_KEY:"_jwt",JWT_TOKEN_KEY_OLD:"_jwt_token",LOCATION_METHOD:{QUERY_PARAM:"_setLocaleFromQueryParam",USER_PREFERENCE_API:"_setLocaleFromUserPreferenceApi",BROWSER_PREFERENCE:"_setLocaleFromBrowserPreference",GEO_API:"_setLocaleFromGeoAPI",DEFAULT:"_setDefaultLocale"},PSEUDOLOCALIZE_KEY:"__test__",USER_PREF_LANG_API:"https://classroom-content.udacity.com/api/v1/graphql"},R=t.I18N_CONSTANTS={DEFAULT_LOCALE:"en-us",DEFAULT_LOCATION:"US",GEO_API:"https://geode.udacity.com",LOCALE_MAP:{ar:"العربية",de:"Deutsch","en-us":"English",es:"Español",id:"Bahasa Indonesia",ja:"日本語",ko:"한국어","pt-br":"Português","zh-cn":"中文（简体）"}},M=[A.LOCATION_METHOD.QUERY_PARAM,A.LOCATION_METHOD.USER_PREFERENCE_API,A.LOCATION_METHOD.BROWSER_PREFERENCE,A.LOCATION_METHOD.GEO_API,A.LOCATION_METHOD.DEFAULT];t.I18n=function(){function t(e,n){var r=this;i(this,t),this.__=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=r._lookup(e,r.getLocale());return f(n)?c(a(n[0])):a(n[0])},this._lookup=g.default.memoize(function(e,t){var n=this._getLocaleMap(t),r=void 0;return r=this.options.debug&&t===A.PSEUDOLOCALIZE_KEY?(0,O.default)(e):e?n&&n[e]||e:"",-1!==r.indexOf("%s")?r:g.default.template(r)},function(e,t){return t+"-"+e}),this._tryNextLocaleMethod=function(e){return function(t){return t||r[e]()}};var o={allowPseudo:!1};this.options=C({},o,n),this._setLocaleMap(e)}return P(t,[{key:"activate",value:function(){var t=this,n=window[A.GLOBAL_KEY]||window[A.OLD_GLOBAL_KEY];return n?this._setLocale(n):M.reduce(function(e,n){return e.then(t._tryNextLocaleMethod(n)).catch(function(){return!1})},e.resolve(!1))}}]),P(t,[{key:"getLocale",value:function(){return window[A.GLOBAL_KEY]||d("UREACT-I18N - MISUSE WARNING: Component might not have been activated properly.\n         Make sure you run i18n.activate() before your DOM renders (check the docs).\n         Default language is "+R.DEFAULT_LOCALE),(window[A.GLOBAL_KEY]||R.DEFAULT_LOCALE).toLocaleLowerCase()}},{key:"_setDefaultLocale",value:function(){return this._setLocale(R.DEFAULT_LOCALE)}},{key:"_setLocaleFromGeoAPI",value:function(){var e=this;return this.fetchGeoLocation().then(function(t){return e._setLocale(t.countryCode)})}},{key:"_setLocaleFromBrowserPreference",value:function(){return this._setLocale(this._getNavigatorLocale())}},{key:"_setLocaleFromQueryParam",value:function(){return this._setLocale(l("locale",this._getCurrentURLParams()))}},{key:"_setLocaleFromUserPreference",value:function(){var e=this._getJWT();return this._setLocale(e?(0,b.default)(e).l:null)}},{key:"_setLocaleFromUserPreferenceApi",value:function(){var e=this,t=this._getJWT();return t?(0,_.default)({method:"POST",url:A.USER_PREF_LANG_API,headers:{Authorization:"Bearer "+t},data:{query:"\n    query UserSettingsQuery {\n      user {\n        preferred_language\n      }\n    }"}}).then(function(t){var n=void 0;return t.error&&t.error.length&&console.error(t.error[0]),n=g.default.get(t,"data.user.preferred_language")||g.default.get(t,"data.data.user.preferred_language"),e._setLocale(n||null)}):this._setLocale(null)}},{key:"fetchGeoLocation",value:function(){return _.default.get(R.GEO_API).then(function(e){return e.data})}},{key:"_setLocale",value:function(t){var n=this;return new e(function(e){return g.default.isString(t)&&""!==t?(t=t.toLocaleLowerCase(),window[A.GLOBAL_KEY]=t,n.options&&n.options.moment&&n.options.moment.locale(t),e(n.getLocale())):e(!1)})}},{key:"_setLocaleMap",value:function(e){window[A.GLOBAL_LOCALE_MAP_KEY]=u(e,window[A.GLOBAL_LOCALE_MAP_KEY])}},{key:"_getLocaleMap",value:function(e){return window[A.GLOBAL_LOCALE_MAP_KEY][e]||window[A.GLOBAL_LOCALE_MAP_KEY][e.split("-")[0]]}},{key:"_getCurrentURLParams",value:function(){return window.location.search}},{key:"_getNavigatorLocale",value:function(){return navigator.language||navigator.userLanguage}},{key:"_getJWT",value:function(){return m.get(A.JWT_TOKEN_KEY)||m.get(A.JWT_TOKEN_KEY_OLD)}}]),t}()}).call(t,n("0Qa9"))},"DKy/":function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zrtp"),i=o(a),s=n("KSGD"),l=o(s),u=n("eyXk"),c=n("Dji7"),f=o(c),d=function(t){var n=t.unreadCount,r=t.onJumpToRecent,o=t.onMarkAllRead;return e.createElement("div",{styleName:"new-msg-links"},e.createElement("div",{styleName:"new-msg-links-inner"},e.createElement("a",{href:"#",onClick:r},(0,u.__)("<%= count %> new messages",{count:n})),e.createElement("a",{href:"#",onClick:o,styleName:"mark-read"},(0,u.__)("Mark As Read"),e.createElement("span",{styleName:"mark-read-close"},e.createElement(i.default,{glyph:"close-md",text:(0,u.__)("Mark As Read")})))))};d.propTypes={unreadCount:l.default.number,onJumpToRecent:l.default.func.isRequired,onMarkAllRead:l.default.func.isRequired},t.default=r(f.default,{allowMultiple:!0})(d)}).call(t,n("U7vG"),n("211U"))},Dc7M:function(e,t,n){var r=n("Hxdr"),o=n("Fkvj"),a=n("Vi3P"),i=n("bIjD"),s=n("tv3T"),l=n("dYhQ"),u=n("2N6f"),c=n("xond"),f=u(function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,function(t){return t=i(t,e),u||(u=t.length>1),t}),s(e,c(e),n),u&&(n=o(n,7,l));for(var f=t.length;f--;)a(n,t[f]);return n});e.exports=f},Di3q:function(e,t){function n(e,t,n,o){for(var a=-1,i=e.length,s=n.length,l=-1,u=t.length,c=r(i-s,0),f=Array(u+c),d=!o;++l<u;)f[l]=t[l];for(;++a<s;)(d||a<i)&&(f[n[a]]=e[a]);for(;c--;)f[l++]=e[a++];return f}var r=Math.max;e.exports=n},Dji7:function(e,t){e.exports={"std-font-9":"styles--std-font-9--lIVYZ","project-font":"styles--project-font--2Ng5l","std-font-12":"styles--std-font-12--2FWDI","room-title-font":"styles--room-title-font--mJaVa","user-font":"styles--user-font--5-aFw","message-content-user":"styles--message-content-user--3fdr6","message-content-time":"styles--message-content-time--3s4UG","mentor-badge":"styles--mentor-badge--2H2WP","staff-badge":"styles--staff-badge--F19Vb","room-header":"styles--room-header--2umzN","new-msg-links":"styles--new-msg-links--1o_8U","message-content-thread":"styles--message-content-thread--3TDGQ","std-font-14":"styles--std-font-14--3biFd","message-content-actions-more":"styles--message-content-actions-more--25NZ0","action-label":"styles--action-label--oDOI7","message-content":"styles--message-content--3f10T","notice-content":"styles--notice-content--yolkB","connection-lost":"styles--connection-lost--2u_XC","input-msg":"styles--input-msg--1916A","room-loading-error":"styles--room-loading-error--1JfX9",inner:"styles--inner--1SLR-","std-font-16":"styles--std-font-16--3gVN5","std-font-18":"styles--std-font-18--3k2Mc","chatroom-title-font":"styles--chatroom-title-font--2kb3I","screen-content":"styles--screen-content--25YQv","profiles-pane":"styles--profiles-pane--e_f4N",circle:"styles--circle--DvzhI","gray-light":"styles--gray-light--3h5MY",turquoise:"styles--turquoise--2N3Mi","avatar-circle":"styles--avatar-circle--ta_y3","avatar-circle-default":"styles--avatar-circle-default--3wX4Z","role-mentor":"styles--role-mentor--2A0n9","role-staff":"styles--role-staff--_IMLX","avatar-img":"styles--avatar-img--11Y4U","avatar-default":"styles--avatar-default--3W0dB",clearfix:"styles--clearfix--1g9Yo","rel-pos":"styles--rel-pos--2t9TI",invisible:"styles--invisible--2_8EY",photo:"styles--photo--1Irt0","no-photo":"styles--no-photo--v1WbF","no-margin":"styles--no-margin--2YaDQ","room-container":"styles--room-container--3ceXI","room-container-inner":"styles--room-container-inner--3JkxV",hide:"styles--hide--3qT-c",room:"styles--room--2GOOS","room-header-mask":"styles--room-header-mask--q7Jiv","thread-header":"styles--thread-header--mhXY-","thread-header-message":"styles--thread-header-message--ORAFe","msg-list":"styles--msg-list--Z4aUY","new-msg-links-inner":"styles--new-msg-links-inner--1dGDg","mark-read":"styles--mark-read--2ZNhx","mark-read-close":"styles--mark-read-close--3VQpG","msg-list-inner":"styles--msg-list-inner--3Dd7Q","msg-list-message-container":"styles--msg-list-message-container--bWuwH","same-as-prev":"styles--same-as-prev--1dKcI","same-as-next":"styles--same-as-next--2JUf8","message-container":"styles--message-container--Ey34w","message-avatar":"styles--message-avatar--2C2mr","message-avatar-link":"styles--message-avatar-link--1d2CS","message-content-container":"styles--message-content-container--3dG4M","this-user":"styles--this-user--3Z8VW","other-user":"styles--other-user--Lthup","thread-user":"styles--thread-user--1lFSP","message-content-container-inner":"styles--message-content-container-inner--3ax6H","message-content-meta":"styles--message-content-meta--1QcDR","message-content-row":"styles--message-content-row--1W3zq","message-content-actions-container":"styles--message-content-actions-container--23Do1",active:"styles--active--2XQS5","message-content-actions-standard":"styles--message-content-actions-standard--3BVU1","message-content-actions-more-container":"styles--message-content-actions-more-container--29rKk",last:"styles--last--Z39Jx","message-triangle":"styles--message-triangle--Hn1wt",triangle:"styles--triangle--irwrg",notice:"styles--notice--2OwCc",highlight:"styles--highlight--3a9nn",error:"styles--error--2QAhP","with-lines":"styles--with-lines--2f3vX","fetching-more":"styles--fetching-more--1hdVr",show:"styles--show--1ScBT","input-fields":"styles--input-fields--u0VC3","input-label":"styles--input-label--2I7o0","profile-parent":"styles--profile-parent--2hway","profile-inner-content":"styles--profile-inner-content--20679","profile-outer-content":"styles--profile-outer-content--1galY","participant-avatar":"styles--participant-avatar--2EszD","activity-circle":"styles--activity-circle--3HRqF","profile-avatar":"styles--profile-avatar--3ljVH",inactive:"styles--inactive--3xd-f","participant-avatar-default-letter":"styles--participant-avatar-default-letter--2U55m","profile-modal":"styles--profile-modal--1Zp02","badge-icon":"styles--badge-icon--3SDee","mentor-badge-label":"styles--mentor-badge-label--iKoHg","staff-badge-label":"styles--staff-badge-label--2aMQU","thread-notification":"styles--thread-notification--djW1C","thread-mention":"styles--thread-mention--1GsbE"}},DtqQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Screens={HOME:"home",CHAT:"chat",PROFILE:"profile",THREAD:"thread",THREADLIST:"threadlist"},t.Keycodes={ENTER:13},t.EventTypes={HANDSHAKE:"handshake",ACCEPTED:"accepted",JOINED:"joined",QUIT:"quit",MESSAGE:"message",ACTIVITY:"activity",REPLY:"reply"},t.RoomTypes={COHORT:"cohort",PART:"part",PROJECT:"project",THREAD:"thread"},t.RoleTypes={COMMUNITY_MANAGER:"community_manager",MENTOR:"mentor",STAFF:"staff"},t.ScrollType={ABSOLUTE:"absolute",BOTTOM:"bottom",TOP:"top",RELATIVE:"relative",MSG:"msg",NOOP:"noop"},t.MESSAGE_FETCH_COUNT=40,t.MESSAGE_FETCH_DELAY=500,t.NUM_THREAD_PARTICIPANTS_PREVIEW=2,t.MAX_NEW_MESSAGES=7,t.UNREAD_MESSAGE_DELAY=4e3,t.MAX_HEADER_TITLE_CHARS=23,t.MAX_CHATROOM_LIST_TITLE_CHARS=23,t.MAX_LESSONS_TITLE_CHARS=54,t.MAX_PROJECT_TITLE_CHARS=50,t.MAX_MSG_TIME_DIFF=15,t.MIN_ACTIVE_STUDENTS=5,t.MAX_PROFILE_MODAL_WIDTH="25em",t.MAX_AUTH_TOKEN_ERRORS=3,t.PARTICIPANT_BATCH_SIZE=30,t.PARTICIPANT_SCROLLING_DEBOUNCE=100},EKta:function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function o(e){return 3*e.length/4-r(e)}function a(e){var t,n,o,a,i,s=e.length;a=r(e),i=new f(3*s/4-a),n=a>0?s-4:s;var l=0;for(t=0;t<n;t+=4)o=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],i[l++]=o>>16&255,i[l++]=o>>8&255,i[l++]=255&o;return 2===a?(o=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,i[l++]=255&o):1===a&&(o=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,i[l++]=o>>8&255,i[l++]=255&o),i}function i(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var r,o=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(i(r));return o.join("")}function l(e){for(var t,n=e.length,r=n%3,o="",a=[],i=0,l=n-r;i<l;i+=16383)a.push(s(e,i,i+16383>l?l:i+16383));return 1===r?(t=e[n-1],o+=u[t>>2],o+=u[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=u[t>>10],o+=u[t>>4&63],o+=u[t<<2&63],o+="="),a.push(o),a.join("")}t.byteLength=o,t.toByteArray=a,t.fromByteArray=l;for(var u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,h=d.length;p<h;++p)u[p]=d[p],c[d.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},EagF:function(e,t,n){function r(e,t,n){var r=t+"";return i(e,a(r,s(o(r),n)))}var o=n("EjY5"),a=n("MGe3"),i=n("WHce"),s=n("gY9g");e.exports=r},EjY5:function(e,t){function n(e){var t=e.match(r);return t?t[1].split(o):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,o=/,? & /;e.exports=n},EuP9:function(e,t,n){"use strict";(function(e){function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return i(this,e,t,n)}function i(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?c(e,t,n):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return s(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function u(e,t){if(s(t),e=o(e,t<0?0:0|h(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|y(t,n);e=o(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=f(e,t),e}function p(e,t){if(a.isBuffer(t)){var n=0|h(t.length);return e=o(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?o(e,0):f(e,t);if("Buffer"===t.type&&Z(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),a.alloc(+e)}function y(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return P(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,o);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,o){function a(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}var i=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,s/=2,l/=2,n/=2}var u;if(o){var c=-1;for(u=n;u<s;u++)if(a(e,u)===a(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*i}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,d=0;d<l;d++)if(a(e,u+d)!==a(t,d)){f=!1;break}if(f)return u}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var i=0;i<r;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[n+i]=s}return i}function T(e,t,n,r){return Q(W(t,e.length-n),e,n,r)}function S(e,t,n,r){return Q(z(t),e,n,r)}function w(e,t,n,r){return S(e,t,n,r)}function O(e,t,n,r){return Q(V(t),e,n,r)}function C(e,t,n,r){return Q(K(t,e.length-n),e,n,r)}function P(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var a=e[o],i=null,s=a>239?4:a>223?3:a>191?2:1;if(o+s<=n){var l,u,c,f;switch(s){case 1:a<128&&(i=a);break;case 2:l=e[o+1],128==(192&l)&&(f=(31&a)<<6|63&l)>127&&(i=f);break;case 3:l=e[o+1],u=e[o+2],128==(192&l)&&128==(192&u)&&(f=(15&a)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(i=f);break;case 4:l=e[o+1],u=e[o+2],c=e[o+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(i=f)}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return R(r)}function R(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=$));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",a=t;a<n;++a)o+=H(e[a]);return o}function N(e,t,n){for(var r=e.slice(t,n),o="",a=0;a<r.length;a+=2)o+=String.fromCharCode(r[a]+256*r[a+1]);return o}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,a=Math.min(e.length-n,2);o<a;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,a=Math.min(e.length-n,4);o<a;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function U(e,t,n,r,o,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,o){return o||U(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,o){return o||U(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,r,52,8),n+8}function B(e){if(e=G(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,r=e.length,o=null,a=[],i=0;i<r;++i){if((n=e.charCodeAt(i))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,o,a=[],i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,o=n%256,a.push(o),a.push(r);return a}function V(e){return J.toByteArray(B(e))}function Q(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e){return e!==e}var J=n("EKta"),X=n("ujcs"),Z=n("Ht8P");t.Buffer=a,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return i(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return l(null,e,t,n)},a.allocUnsafe=function(e){return u(null,e)},a.allocUnsafeSlow=function(e){return u(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,o){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var i=o-r,s=n-t,l=Math.min(i,s),u=this.slice(r,o),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){i=u[f],s=c[f];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=a.prototype;else{var o=t-e;r=new a(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},a.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],o=1,a=0;++a<t&&(o*=256);)r+=this[e+a]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,o=1,a=this[e+--r];r>0&&(o*=256);)a+=this[e+--r]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),X.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),X.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),X.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),X.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){j(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){j(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);j(this,e,t,n,o-1,-o)}var a=0,i=1,s=0;for(this[t]=255&e;++a<n&&(i*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);j(this,e,t,n,o-1,-o)}var a=n-1,i=1,s=0;for(this[t+a]=255&e;--a>=0&&(i*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/i>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=a.isBuffer(e)?e:W(new a(e,r).toString()),l=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n("DuR2"))},F47E:function(e,t){function n(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}e.exports=n},F8Tc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("kQbS"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n("c4Rz");t.default={createToast:function(e){return(0,a.createAction)(o.default.CREATE_TOAST,e)},removeToast:function(e){return(0,a.createAction)(o.default.REMOVE_TOAST,e)}}},FV3X:function(e,t,n){function r(e,t,n,r){function l(){for(var t=-1,a=arguments.length,s=-1,f=r.length,d=Array(f+a),p=this&&this!==i&&this instanceof l?c:e;++s<f;)d[s]=r[s];for(;a--;)d[s++]=arguments[++t];return o(p,u?n:this,d)}var u=t&s,c=a(e);return l}var o=n("8AZL"),a=n("iu+1"),i=n("TQ3y"),s=1;e.exports=r},Feoa:function(e,t){e.exports={progressbar:"progressbar--progressbar--5ncsS",bar:"progressbar--bar--1JKK2",filled:"progressbar--filled--2zadW",text:"progressbar--text--4bHBT"}},Fkvj:function(e,t,n){function r(e,t,n,k,I,N){var L,j=t&S,x=t&w,D=t&O;if(n&&(L=I?n(e,k,I,N):n(e)),void 0!==L)return L;if(!b(e))return e;var U=_(e);if(U){if(L=y(e),!j)return c(e,L)}else{var F=m(e),q=F==P||F==A;if(E(e))return u(e,j);if(F==R||F==C||q&&!I){if(L=x||q?{}:v(e),!j)return x?d(e,l(L,e)):f(e,s(L,e))}else{if(!M[F])return I?e:{};L=g(e,F,r,j)}}N||(N=new o);var B=N.get(e);if(B)return B;N.set(e,L);var G=D?x?h:p:x?keysIn:T,H=U?void 0:G(e);return a(H||e,function(o,a){H&&(a=o,o=e[a]),i(L,a,r(o,t,n,a,e,N))}),L}var o=n("bJWQ"),a=n("PqYH"),i=n("i4ON"),s=n("jD7S"),l=n("py9u"),u=n("mKB/"),c=n("hrPF"),f=n("Nkkh"),d=n("1QDk"),p=n("MoMe"),h=n("xond"),m=n("gHOb"),y=n("UfSK"),g=n("5/Qr"),v=n("WQFf"),_=n("NGEn"),E=n("ggOT"),b=n("yCNF"),T=n("ktak"),S=1,w=2,O=4,C="[object Arguments]",P="[object Function]",A="[object GeneratorFunction]",R="[object Object]",M={};M[C]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M[R]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M[P]=M["[object WeakMap]"]=!1,e.exports=r},Fp5l:function(e,t,n){function r(e){return a(e)&&o(e)}var o=n("bGc4"),a=n("UnEC");e.exports=r},G0Wc:function(e,t,n){function r(e){if(!o(e))return i(e);var t=a(e),n=[];for(var r in e)("constructor"!=r||!t&&l.call(e,r))&&n.push(r);return n}var o=n("yCNF"),a=n("HT7L"),i=n("8gK5"),s=Object.prototype,l=s.hasOwnProperty;e.exports=r},G5Zz:function(e,t,n){var r=n("efQZ"),o=n("2N6f"),a=o(function(e,t){return r(e,256,void 0,void 0,void 0,t)});e.exports=a},GBFD:function(e,t,n){"use strict";var r=n("xHdR"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e.exports=o.default},GDpH:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o=n("ZiXM"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=function(t){var n=t.size,r=t.image,o=t.highlight,a={width:n,height:n,backgroundImage:"url("+r+")"};return e.createElement("div",{styleName:"image "+(o&&"highlight"),style:a})};i.defaultProps={size:"2em"},i.propTypes={size:e.PropTypes.string,image:e.PropTypes.string,highlight:e.PropTypes.bool},t.default=r(i,a.default,{allowMultiple:!0})}).call(t,n("U7vG"),n("211U"))},GZFc:function(e,t){e.exports={dropfile:"dropfile--dropfile--3juQJ",placeholder:"dropfile--placeholder--1K7dC",dragging:"dropfile--dragging--2KQ_M",uploading:"dropfile--uploading--3_olU",header:"dropfile--header--1v4u7",preview:"dropfile--preview--eV7NW",progressbar:"dropfile--progressbar--1BWg_",text:"dropfile--text--3Re6a",error:"dropfile--error--nuf9-"}},HN2V:function(e,t,n){var r=n("HbnZ"),o=n("0DSl"),a=o(function(e,t,n){r(e,t,n)});e.exports=a},HbnZ:function(e,t,n){function r(e,t,n,c,f){e!==t&&i(t,function(i,u){if(l(i))f||(f=new o),s(e,t,u,n,r,c,f);else{var d=c?c(e[u],i,u+"",e,t,f):void 0;void 0===d&&(d=i),a(e,u,d)}},u)}var o=n("bJWQ"),a=n("O1jc"),i=n("rpnb"),s=n("jMi8"),l=n("yCNF"),u=n("t8rQ");e.exports=r},Hc94:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a=n("uDAK"),i=o(a),s=n("mYw3"),l=o(s),u=n("9gx7"),c=o(u),f=n("kQbS"),d=r(f),p=n("j2BQ"),h=r(p),m=n("dwwA"),y=r(m),g=n("gnsU"),v=r(g),_=n("nkqC"),E=r(_),b=n("Q9u5"),T=r(b),S=n("F8Tc"),w=r(S),O=n("5JTN"),C=r(O),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=P({Types:d.default},h.default,l,E.default,i,T.default,w.default,y.default,C.default,c,v.default)},Ht8P:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},IeOD:function(e,t){e.exports={"std-font-9":"styles--std-font-9--1UysA","project-font":"styles--project-font--3mm3-","std-font-12":"styles--std-font-12--3RNuw","room-title-font":"styles--room-title-font--2rMBc","user-font":"styles--user-font--3yVAw","std-font-14":"styles--std-font-14--1tsuU","std-font-16":"styles--std-font-16--2kQVj","std-font-18":"styles--std-font-18--2K3lu","chatroom-title-font":"styles--chatroom-title-font--3Wtup","screen-content":"styles--screen-content--1Dx-Q",circle:"styles--circle--4k4E8","gray-light":"styles--gray-light--2YE7D",turquoise:"styles--turquoise--2frJp","avatar-circle":"styles--avatar-circle--uxo5F","avatar-circle-default":"styles--avatar-circle-default--2DPqV","role-mentor":"styles--role-mentor--1SLJB","role-staff":"styles--role-staff--3D6su","avatar-img":"styles--avatar-img--3nYsQ","avatar-default":"styles--avatar-default--uO3eV",clearfix:"styles--clearfix--3Du5F","rel-pos":"styles--rel-pos--3L8ZR",invisible:"styles--invisible--1-9ZO",photo:"styles--photo--3YTZo","no-photo":"styles--no-photo--1MZzN","no-margin":"styles--no-margin--g8jhz","participant-avatar":"styles--participant-avatar--M9l3u","no-photo-loading":"styles--no-photo-loading--3t_PD","display-avatar-img":"styles--display-avatar-img--2pdUL","display-avatar-img-mentor":"styles--display-avatar-img-mentor--3dTi0 styles--display-avatar-img--2pdUL","display-avatar-img-staff":"styles--display-avatar-img-staff--1w4RL styles--display-avatar-img--2pdUL",suggestion:"styles--suggestion--3uKS2","suggestion-mentor":"styles--suggestion-mentor--3t_Xf styles--suggestion--3uKS2","suggestion-staff":"styles--suggestion-staff--1LjmB styles--suggestion--3uKS2"}},Igs2:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n("gGqR"),u=r(l),c=n("wSKX"),f=r(c),d=n("Dc7M"),p=r(d),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n("U7vG"),g=n("hYij"),v=r(g),_=n("cUJE"),E=r(_),b=n("Isy5"),T=function(e){return!e.prototype.render},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};return function(r){var l=function(l){function c(t,n){a(this,c);var r=i(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t,n)),s=t.style,l=t.className,f=t.classNames,d=o(t,["style","className","classNames"]);return r.substyle=(0,E.default)({style:s,className:l,classNames:f},r.context[b.PROPS_DECORATOR_CONTEXT_NAME]),r.setWrappedInstance=r.setWrappedInstance.bind(r),(0,u.default)(e)&&(r.defaultStyle=e(d)),r}return s(c,l),m(c,[{key:"componentWillReceiveProps",value:function(t){var r=t.style,a=t.className,i=t.classNames,s=o(t,["style","className","classNames"]),l=this.props,c=l.style,f=l.className,d=l.classNames,p=o(l,["style","className","classNames"]);r===c&&a===f&&i===d||(this.substyle=(0,E.default)({style:r,className:a,classNames:i},this.context[b.PROPS_DECORATOR_CONTEXT_NAME])),(0,u.default)(e)&&n(s,p)&&(this.defaultStyle=e(s))}},{key:"render",value:function(){var n=(0,p.default)(this.props,["style","className","classNames"]),r=this.getWrappedComponent(),o=t&&t(n);return(0,y.createElement)(r,h({style:this.substyle(o,this.defaultStyle||e),ref:T(r)?void 0:this.setWrappedInstance},n))}},{key:"getWrappedComponent",value:function(){var e=this.context[b.ENHANCER_CONTEXT_NAME],t=void 0===e?f.default:e;return this.memoizedEnhance!==t&&(this.memoizedEnhance=t,this.enhancedWrappedComponent=t(r),this.enhancedWrappedComponent.propTypes&&(this.enhancedWrappedComponent.propTypes=h({},this.enhancedWrappedComponent.propTypes,{style:b.PropTypes.style}))),this.enhancedWrappedComponent||r}},{key:"getWrappedInstance",value:function(){return this.wrappedInstance}},{key:"setWrappedInstance",value:function(e){this.wrappedInstance=e}}]),c}(y.Component),c=r.displayName||r.name;return l.displayName="withDefaultStyle("+c+")",l.propTypes=h({},r.propTypes,b.PropTypes),l.contextTypes=b.ContextTypes,l.WrappedComponent=r,(0,v.default)(l,r)}};t.default=S,e.exports=t.default},"Ilb/":function(e,t,n){function r(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var o=n("Kzd6");e.exports=r},Isy5:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextTypes=t.PropTypes=t.PROPS_DECORATOR_CONTEXT_NAME=t.ENHANCER_CONTEXT_NAME=void 0;var o,a=n("KSGD"),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n("U7vG"),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(s),t.ENHANCER_CONTEXT_NAME="__substyle__enhancer"),u=t.PROPS_DECORATOR_CONTEXT_NAME="__substyle__propsDecorator",c=i.default.oneOfType([i.default.func,i.default.object]),f=i.default.objectOf(i.default.string);t.PropTypes={style:c,className:i.default.string,classNames:f},t.ContextTypes=(o={},r(o,l,i.default.func),r(o,u,i.default.func),o)},"J+Hc":function(e,t){e.exports={mentions:"input--mentions--pWb8m",mentions__suggestions__list:"input--mentions__suggestions__list--2Xsbh",mentions__suggestions__item:"input--mentions__suggestions__item--aoGuF","mentions__suggestions__item--focused":"input--mentions__suggestions__item--focused--3YDY6",mentions__suggestions:"input--mentions__suggestions--28gBb"}},JDN0:function(e,t,n){function r(e){return"string"==typeof e||!a(e)&&i(e)&&o(e)==s}var o=n("aCM0"),a=n("NGEn"),i=n("UnEC"),s="[object String]";e.exports=r},JH27:function(e,t,n){function r(e,t){var n=e[1],r=t[1],m=n|r,y=m<(l|u|d),g=r==d&&n==f||r==d&&n==p&&e[7].length<=t[8]||r==(d|p)&&t[7].length<=t[8]&&n==f;if(!y&&!g)return e;r&l&&(e[2]=t[2],m|=n&l?0:c);var v=t[3];if(v){var _=e[3];e[3]=_?o(_,v,t[4]):v,e[4]=_?i(e[3],s):t[4]}return v=t[5],v&&(_=e[5],e[5]=_?a(_,v,t[6]):v,e[6]=_?i(e[5],s):t[6]),v=t[7],v&&(e[7]=v),r&d&&(e[8]=null==e[8]?t[8]:h(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}var o=n("Di3q"),a=n("8NDG"),i=n("akIm"),s="__lodash_placeholder__",l=1,u=2,c=4,f=8,d=128,p=256,h=Math.min;e.exports=r},JUs9:function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}var o=n("G8ar");e.exports=r},JZ4Z:function(e,t){e.exports={container:"toast--container--2TRXN",toast:"toast--toast--3-Dkf",notification:"toast--notification--1R46Z toast--toast--3-Dkf",error:"toast--error--J0r-o toast--toast--3-Dkf",message:"toast--message--1R0h7",dismiss:"toast--dismiss--1Q7eI","toast-enter":"toast--toast-enter--2PNut","toast-enter-active":"toast--toast-enter-active--1_EbD",fadeInUp:"toast--fadeInUp--1iwaX","toast-leave":"toast--toast-leave--2jsl5","toast-leave-active":"toast--toast-leave-active--6RXD4",fadeOutDown:"toast--fadeOutDown--3C2zc"}},JZNo:function(e,t,n){"use strict";(function(e,r,o,a){function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n("4Dn6"),m=n("lNS7"),y=n("QBEk"),g=n("DtqQ"),v=n("dSVv"),_=i(v),E=n("eyXk"),b=n("HW6M"),T=i(b),S=n("RH2O"),w=n("taKU"),O=n("uDAK"),C=n("mYw3"),P=n("+PK3"),A=i(P),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=(f=e(A.default,{allowMultiple:!0}))(d=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleThreadOrMsgClick=function(e,t,r,o){(0,n.props.pushScreen)({screenType:o,roomId:e,roomTitle:t,messageId:r})},n.state={loading:!0},n}return c(t,e),R(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.lobby,r=t.loadProfiles,i=o.map(o.get(n,"threads",[]),"room_payload"),l=o.chain(i).groupBy("room_id").mapValues(w.extractMessageParticipants).mapValues(function(e,t){return o.map(e,function(e){return{user:e,room:t}})}).flatMap().uniqBy("user").groupBy("room").mapValues(function(e){return o.map(e,"user")}).value();a.all(o.map(l,function(e,t){return r.apply(void 0,[t].concat(s(e)))})).then(function(){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.lobby,a=t.profiles,i=t.notifications,s=o.get(this.state,"loading",!0),l=o.get(n,"threads",[]),u=o.chain(n.rooms).map(function(e){return[e.room_id,e.room_title]}).fromPairs().value();return s?r.createElement(h.LoadingWrapper,{isLoading:!0}):r.createElement("ul",{styleName:"thread-list"},l.map(function(t){var n=o.get(t,"room_id"),s=o.get(i.unread,[n,"count"],0)>0,l=t.room_payload,c="message-"+l.user_id+"-"+l.message_id,f=o.get(l,"thread.message_count",0),d=u[l.room_id],p=o.get(l,"thread.participants",[]),v=(0,m.isMessageFromMentor)(l,o.get(a,l.user_id)),b=(0,m.isMessageFromStaff)(l,o.get(a,l.user_id)),S=function(t){t.preventDefault(),e.handleThreadOrMsgClick(l.room_id,d,l.message_id,g.Screens.THREAD)},w=function(t){t.preventDefault(),e.handleThreadOrMsgClick(l.room_id,d,l.message_id,g.Screens.CHAT)},O=o.get(i.unreadMentions,n,[]).length,C={"role-mentor":v,"role-staff":b};return r.createElement("li",{key:c,styleName:(0,T.default)("thread-item-container",C)},r.createElement("div",{styleName:"thread-item-meta-container"},r.createElement("a",{href:"#",onClick:w},r.createElement("span",{styleName:"thread-item-meta-room"},d))),r.createElement(_.default,{message:l,timeFormat:"long",showActions:!1,threadingEnabled:!1,sameAsPrev:!1,isMsgFromCurrentUser:!1,avatarClickable:!1,profiles:a}),r.createElement("div",{styleName:"thread-item-action-container"},s&&r.createElement("span",{styleName:O>0?"thread-unread-badge-mention":"thread-unread-badge","data-mention-count":(0,y.displayMentionCount)(O)}),r.createElement(h.Tooltip,{placement:"right",overlay:r.createElement("div",null,r.createElement("h6",{style:{fontWeight:600}},(0,E.__)("Participants")),r.createElement("div",null,r.createElement("span",null,(0,y.makeUserListRight)(p,a))))},r.createElement("a",{href:"#",styleName:"thread-item-action-link",onClick:S},(0,y.makeThreadRepliesMessage)(f)))))}))}}]),t}(r.Component))||d,k=function(e){return{lobby:e.lobby,unread:e.notifications.unread,profiles:e.profiles,notifications:e.notifications}};t.default=(0,S.connect)(k,{loadProfiles:O.loadProfiles,pushScreen:C.pushScreen})(M)}).call(t,n("211U"),n("U7vG"),n("M4fF"),n("0Qa9"))},Jpmr:function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./pt-br":"eWjT","./pt-br.js":"eWjT"};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="Jpmr"},Jqj6:function(e,t,n){function r(e,t,n){var r=t?n(i(e),s):i(e);return a(r,o,new e.constructor)}var o=n("U7Aq"),a=n("3rZI"),i=n("WFiI"),s=1;e.exports=r},Jyyl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};r={communityApiUrl:"https://community-api.udacity.com/api/v1",uchatRealTimeApiUrl:"wss://uchat-realtime.udacity.com",profilesApiUrl:"https://profiles-api.udacity.com",googleMapsApiKey:"AIzaSyDYMz1TBeOM_daW7uR9B4vfxQKT_NoQE5U",segmentWriteKey:"0FT6d0lW4bSMFiV1Rv9fQDDjh031iOqX"},t.default=r},K96V:function(e,t,n){function r(e){for(var t=e.name+"",n=o[t],r=i.call(o,t)?n.length:0;r--;){var a=n[r],s=a.func;if(null==s||s==e)return a.name}return t}var o=n("d6Sb"),a=Object.prototype,i=a.hasOwnProperty;e.exports=r},KMSM:function(e,t){function n(){}e.exports=n},KiQM:function(e,t,n){(function(t){!function(){var r;r=void 0!==e&&void 0!==e.exports?n("9I+q"):window.PNGlib;var o=function(e,t){if("string"!=typeof e||e.length<15)throw"A hash of at least 15 characters is required.";this.defaults={background:[240,240,240,255],margin:.08,size:64,saturation:.7,brightness:.5,format:"png"},this.options="object"==typeof t?t:this.defaults,"number"==typeof arguments[1]&&(this.options.size=arguments[1]),arguments[2]&&(this.options.margin=arguments[2]),this.hash=e,this.background=this.options.background||this.defaults.background,this.size=this.options.size||this.defaults.size,this.format=this.options.format||this.defaults.format,this.margin=void 0!==this.options.margin?this.options.margin:this.defaults.margin;var n=parseInt(this.hash.substr(-7),16)/268435455,r=this.options.saturation||this.defaults.saturation,o=this.options.brightness||this.defaults.brightness;this.foreground=this.options.foreground||this.hsl2rgb(n,r,o)};o.prototype={background:null,foreground:null,hash:null,margin:null,size:null,format:null,image:function(){return this.isSvg()?new a(this.size,this.foreground,this.background):new r(this.size,this.size,256)},render:function(){var e,t,n=this.image(),r=this.size,o=Math.floor(r*this.margin),a=Math.floor((r-2*o)/5),i=Math.floor((r-5*a)/2),s=n.color.apply(n,this.background),l=n.color.apply(n,this.foreground);for(e=0;e<15;e++)t=parseInt(this.hash.charAt(e),16)%2?s:l,e<5?this.rectangle(2*a+i,e*a+i,a,a,t,n):e<10?(this.rectangle(1*a+i,(e-5)*a+i,a,a,t,n),this.rectangle(3*a+i,(e-5)*a+i,a,a,t,n)):e<15&&(this.rectangle(0*a+i,(e-10)*a+i,a,a,t,n),this.rectangle(4*a+i,(e-10)*a+i,a,a,t,n));return n},rectangle:function(e,t,n,r,o,a){if(this.isSvg())a.rectangles.push({x:e,y:t,w:n,h:r,color:o});else{var i,s;for(i=e;i<e+n;i++)for(s=t;s<t+r;s++)a.buffer[a.index(i,s)]=o}},hsl2rgb:function(e,t,n){return e*=6,t=[n+=t*=n<.5?n:1-n,n-e%1*t*2,n-=t*=2,n,n+e%1*t,n+t],[255*t[~~e%6],255*t[(16|e)%6],255*t[(8|e)%6]]},toString:function(e){return e?this.render().getDump():this.render().getBase64()},isSvg:function(){return this.format.match(/svg/i)}};var a=function(e,t,n){this.size=e,this.foreground=this.color.apply(this,t),this.background=this.color.apply(this,n),this.rectangles=[]};a.prototype={size:null,foreground:null,background:null,rectangles:null,color:function(e,t,n,r){var o=[e,t,n].map(Math.round);return o.push(r>=0&&r<=255?r/255:1),"rgba("+o.join(",")+")"},getDump:function(){var e,t,n,r=this.foreground,o=this.background,a=.005*this.size;for(t="<svg xmlns='http://www.w3.org/2000/svg' width='"+this.size+"' height='"+this.size+"' style='background-color:"+o+";'><g style='fill:"+r+"; stroke:"+r+"; stroke-width:"+a+";'>",e=0;e<this.rectangles.length;e++)n=this.rectangles[e],n.color!=o&&(t+="<rect  x='"+n.x+"' y='"+n.y+"' width='"+n.w+"' height='"+n.h+"'/>");return t+="</g></svg>"},getBase64:function(){if(btoa)return btoa(this.getDump());if(t)return new t(this.getDump(),"binary").toString("base64");throw"Cannot generate base64 output"}},void 0!==e&&void 0!==e.exports?e.exports=o:window.Identicon=o}()}).call(t,n("EuP9").Buffer)},KuGv:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,f,d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n("U7vG"),h=r(p),m=n("KSGD"),y=r(m),g=n("211U"),v=r(g),_=n("mZZ9"),E=r(_),b=n("+xaz"),T=r(b),S=(l=(0,v.default)(E.default,{allowMultiple:!0}))((f=c=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.glyph,n=e.text,r=e.className,o=e.style;return E.default["icon-"+t]?h.default.createElement("span",{styleName:"icon-"+t+" icon",className:r,style:o,title:n},h.default.createElement("i",null,n)):null}}]),t}(h.default.Component),c.propTypes={glyph:y.default.oneOf(T.default).isRequired,text:y.default.string,className:y.default.string,style:y.default.object},c.defaultProps={text:"",className:null,style:null},u=f))||u;t.default=S},Kzd6:function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}var o=n("qwTf");e.exports=r},L8MQ:function(e,t,n){function r(e){return null==e?[]:o(e,a(e))}var o=n("ktnU"),a=n("ktak");e.exports=r},L8Wf:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n("DtqQ"),i=n("heZw"),s=r(i),l=n("Z4sO"),u=r(l),c=n("6S2P"),f=r(c),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p={minReconnectionDelay:50,reconnectionDelayGrowFactor:2,debug:!1},h=function(){function e(t,n,r){o(this,e),this.websocketURL=t,this.userID=n,this.rooms=r,this.authenticated=!1,this.authenticationError=!1,this.authenticationTokenErrors=0}return d(e,[{key:"listen",value:function(){var e=this;if(!this.socket){this.socket=new s.default(this.websocketURL,[],p),this.socket.onopen=function(){e._authenticateConnection()},this.socket.onclose=function(t){1008===t.code&&(e.authenticationError=!0,e.socket.close(1e3,"client disconnected",{keepClosed:!0,fastClose:!0})),e.authenticated=!1},this.socket.onmessage=function(t){var n=JSON.parse(t.data),r=n.version,o=!1;switch(n.type){case a.EventTypes.ACCEPTED:e.authenticated=!0,e.authenticationError=!1,e.onauthenticated(),o=!0;break;case a.EventTypes.JOINED:case a.EventTypes.QUIT:case a.EventTypes.MESSAGE:case a.EventTypes.REPLY:(function(e){return!f.default.satisfies(r,e)})("1.x")&&(o=!0);break;default:o=!0}o||e.onmessage(t)};this.heartbeat=setInterval(function(){var t=e.connected();e.onping(t)},100)}}},{key:"close",value:function(){this.heartbeat&&clearInterval(this.heartbeat),this.socket&&this.socket.close(1e3,"client disconnected",{keepClosed:!0})}},{key:"enterRoom",value:function(e){if(this.connected()){var t={type:a.EventTypes.ACTIVITY,version:"v1.3.0",room_id:e,payload:{status:"active"}};this.socket.send(JSON.stringify(t))}}},{key:"leaveRoom",value:function(e){if(this.connected()){var t={type:a.EventTypes.ACTIVITY,version:"v1.3.0",room_id:e,payload:{status:"inactive"}};this.socket.send(JSON.stringify(t))}}},{key:"connected",value:function(){return!!this.socket&&(this.authenticated&&this.socket.readyState===WebSocket.OPEN)}},{key:"_authenticateConnection",value:function(){var e=this;return u.default.fetchConnectToken(this.rooms).then(function(t){e.authenticationTokenErrors=0;var n={type:a.EventTypes.HANDSHAKE,version:"v1.3.0",payload:{user_id:e.userID,rooms:e.rooms,challenge_token:t}};e.socket.send(JSON.stringify(n))}).catch(function(){e.authenticationTokenErrors++,e.authenticationError=!0,e.authenticationTokenErrors>=a.MAX_AUTH_TOKEN_ERRORS?e.socket.close(1e3,"client disconnecting",{keepClosed:!0}):e.socket.close(1e3,"client disconnecting",{keepClosed:!1,delay:5e3})})}},{key:"onauthenticated",value:function(){}},{key:"onmessage",value:function(){}},{key:"onping",value:function(){}}]),e}();t.default=h},LXwc:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageActions=void 0;var u,c,f,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n("kcq/"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),y=n("rzv0"),g=n("qkBN"),v=a(g),_=n("Zrtp"),E=a(_),b=n("j5LV"),T=n("KSGD"),S=a(T),w=n("eyXk"),O=n("RH2O"),C=n("Dji7"),P=a(C),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=t.MessageActions=(u=e(P.default,{allowMultiple:!0}))((d=f=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleViewThreadClick=function(e){(0,n.props.onThreadClick)(e),v.default.track(m.ACTION_VIEW_THREAD,n.trackingProperties())},n.handleMoreClick=function(e){e&&e.preventDefault(),n.setState(function(e){return{showMore:!e.showMore}}),v.default.track(m.ACTION_VIEW_MORE,n.trackingProperties())},n.handleReportPost=function(){v.default.track(m.ACTION_REPORT_MESSAGE,n.trackingProperties())},n.state={showMore:!1},n}return l(t,e),R(t,[{key:"trackingProperties",value:function(){var e=this.props,t=e.userData,n=e.message;return A({},t,{roomId:n.room_id,messageId:n.message_id,userId:n.user_id,has_thread:o.get(n,"has_replies",!1),thread_count:o.get(n,"thread.message_count",0)})}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.message,a=e.isLastMessage,i=e.features,s=e.onActive,l=e.userData,u=o.get(n,"has_replies",!1)&&o.get(n,"thread.message_count",0)>0,c=o.get(i,"reportMessageEnabled",!1),f=t?"active":"",d=u?"chat-view-thread-sm":"chat-new-thread-sm",p=a?"last":"",h=o.get(y.supportEmails,o.get(l,"ndKey"),y.supportEmailDefault),m=o.get(n,"parent_message_id",0)>0;return r.createElement("div",{styleName:"message-content-actions-container "+f},r.createElement("div",{styleName:"message-content-actions-standard "+f},!m&&r.createElement("a",{href:"#",onFocus:s,onClick:this.handleViewThreadClick},r.createElement(E.default,{glyph:d,text:(0,w.__)("Reply to this message")})),c&&r.createElement("a",{href:"#",onFocus:s,onClick:this.handleMoreClick},r.createElement(E.default,{glyph:"more-options-sm",text:(0,w.__)("More actions...")}))),c&&this.state.showMore&&r.createElement("div",{styleName:"message-content-actions-more-container"},r.createElement("div",{styleName:"message-content-actions-more "+p},r.createElement("a",{href:"mailto:"+h+"?subject="+y.supportSubject+"&body="+(0,y.reportMessageBody)(n.user_id,n.message_id)+"\n                ",onClick:this.handleReportPost},r.createElement(E.default,{glyph:"alert-xl",text:(0,w.__)("Report Post")})," ",r.createElement("span",{styleName:"action-label"},(0,w.__)("Report Post"))))))}}]),t}(r.PureComponent),f.propTypes={active:S.default.bool.isRequired,message:b.MessageEventPayloadShape.isRequired,isLastMessage:S.default.bool.isRequired,onActive:S.default.func.isRequired,onThreadClick:S.default.func.isRequired},c=d))||c,k=function(e){return{features:e.window.features,userData:e.userData}};t.default=(0,O.connect)(k)(M)}).call(t,n("211U"),n("U7vG"),n("M4fF"))},LmP8:function(e,t){e.exports={mention:"mention-suggestion--mention--1uYH2",badge:"mention-suggestion--badge--19D4H"}},MGe3:function(e,t){function n(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(r,"{\n/* [wrapped with "+t+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=n},MfeS:function(e,t,n){function r(e,t,n){function r(){return(this&&this!==a&&this instanceof r?l:e).apply(s?n:this,arguments)}var s=t&i,l=o(e);return r}var o=n("iu+1"),a=n("TQ3y"),i=1;e.exports=r},Nkkh:function(e,t,n){function r(e,t){return o(e,a(e),t)}var o=n("tv3T"),a=n("l9Lx");e.exports=r},NqMn:function(e,t,n){function r(e,t,n){function r(){for(var a=arguments.length,d=Array(a),p=a,h=l(r);p--;)d[p]=arguments[p];var m=a<3&&d[0]!==h&&d[a-1]!==h?[]:u(d,h);return(a-=m.length)<n?s(e,t,i,r.placeholder,void 0,d,m,void 0,void 0,n-a):o(this&&this!==c&&this instanceof r?f:e,this,d)}var f=a(e);return r}var o=n("8AZL"),a=n("iu+1"),i=n("b2mn"),s=n("v0t+"),l=n("XVfB"),u=n("akIm"),c=n("TQ3y");e.exports=r},O1jc:function(e,t,n){function r(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||o(e,t,n)}var o=n("nw3t"),a=n("22B7");e.exports=r},OV5o:function(e,t,n){function r(e,t,n){t=n?void 0:t;var i=o(e,a,void 0,void 0,void 0,void 0,void 0,t);return i.placeholder=r.placeholder,i}var o=n("efQZ"),a=8;r.placeholder={},e.exports=r},PBOS:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("j5LV"),s=n("DtqQ"),l=n("p2Wj"),u=a(l),c=n("KSGD"),f=a(c),d=n("Y6KL"),p=n("crWv"),h=a(p),m=n("QBEk"),y=n("Dji7"),g=a(y),v=function(t){var n=t.event,o=t.profiles,a=t.showTime;(0,h.default)(n.type===s.EventTypes.JOINED,"only JOINED event is supported");var i=e.filter(n.payload.users||[n.payload.user_id],function(t){return e.has(o,t)});if(0===i.length)return null;var l=a?" ("+(0,d.getLocalTime)(n.timestamp)+")":"",c=(0,m.makeJoinedNotice)(i,o,l);return r.createElement(u.default,{showSep:!1},c)};v.propTypes={event:i.EventShape.isRequired,profiles:f.default.objectOf(i.ProfileShape).isRequired,showTime:f.default.bool},t.default=o(g.default,{allowMultiple:!0})(v)}).call(t,n("M4fF"),n("U7vG"),n("211U"))},"PHN+":function(e,t,n){"use strict";(function(e){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];switch(n.type){case a.default.CLEAR_ALL:return[];case a.default.CREATE_TOAST:return e.concat(t,n.payload);case a.default.REMOVE_TOAST:return e.reject(t,function(e){return e.id===n.payload.id});default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.toasts=r;var o=n("kQbS"),a=function(e){return e&&e.__esModule?e:{default:e}}(o)}).call(t,n("M4fF"))},PooJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("RDCo"),o=n("4ufr"),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=[a.default,r.profilesResolver]},Q9u5:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("c4Rz"),i=n("DtqQ"),s=n("Jyyl"),l=o(s),u=n("kQbS"),c=o(u),f=n("L8Wf"),d=o(f),p=n("crWv"),h=o(p),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default={closeWebsocket:function(){return(0,a.createAction)(c.default.SOCKET_CLOSE,{})},updateActivity:function(t,n){return function(o,a){var i=a();if(!e.has(i,"socket.listener"))return r.resolve();var s=i.socket.listener;return n?s.enterRoom(t):s.leaveRoom(t),r.resolve()}},checkWebsocket:function(){return function(t,n){var o=n();if(!e.has(o,"lobby")||!e.has(o,"profiles.me.id"))return r.resolve();var s=o.lobby,u=o.profiles.me.id,f=e.uniq(e.filter(s.rooms,"is_available").map(function(e){return e.room_id}));if(0===f.length)return r.resolve();if(f.sort(),e.join(e.get(o,["socket","rooms"],[]))===e.join(f))return r.resolve();e.has(o,["socket","listener"])&&o.socket.listener.close();var p=new d.default(l.default.uchatRealTimeApiUrl,u,f);p.onmessage=function(n){var r=JSON.parse(n.data),o=r.room_id;(0,h.default)(o,"no room id associated with event, skipping"),r.type===i.EventTypes.MESSAGE&&(r.payload=m({},e.get(r,"payload",{}),{room_id:o}));var s=new a.ActionBuilder(c.default.SOCKET_EVENT,r).withRoom(o).withUser(u);r.payload.user_id&&(s=s.withActors(r.payload.user_id));var l=s.build();t(l)},p.onauthenticated=function(){t((0,a.createAction)(c.default.SOCKET_CONNECTED));var r=n(),o=e.last(r.screen);if(o&&o.screenType===i.Screens.CHAT){var s=o.roomId;s&&e.get(r,["rooms",s,"loaded"],!1)&&p.enterRoom(s)}};var y=0,g=Date.now();p.onping=function(r){var o=Date.now(),i=o-g;g=o,r?y=0:y<5e3&&(y=Math.min(5e3,y+i));var s=e.get(n(),["socket","connected"],!1);y>=5e3&&s&&t((0,a.createAction)(c.default.SOCKET_DISCONNECTED))};var v={listener:p,rooms:f};return t((0,a.createAction)(c.default.SOCKET_OPEN,v)),p.listen(),r.resolve(v)}}}}).call(t,n("M4fF"),n("0Qa9"))},QBEk:function(e,t,n){"use strict";(function(e){function r(t,n,r){if(!e.isString(n))return t;var o=n.codePointAt(0);return o?t+" "+String.fromCodePoint(o).toUpperCase()+(r?"":"."):t}function o(t){if(!e.isString(t))return t;var n=t.codePointAt(0);return n?String.fromCodePoint(n):t}function a(e){return e[Math.floor(Math.random()*e.length)]}function i(e){return e<g.MIN_ACTIVE_STUDENTS?(0,v.__)("Start Chatting!"):(0,v.__)("<%= count %> classmates active",{count:e})}function s(t){var n=e.get(_.supportEmails,"default");return e.get(_.supportEmails,t.toLowerCase(),n)}function l(e,t){return e+"-"+t.toString()+"-"+Date.now().toString()}function u(e,t,n){var o=r(t[e[0]].first_name,t[e[0]].last_name,!0),a=r(t[e[e.length-1]].first_name,t[e[e.length-1]].last_name,!0);if(1===e.length)return(0,v.__)("<%= student1 %> has joined<%=timestamp%>.",{student1:o,timestamp:n});if(2===e.length)return(0,v.__)("<%= student1 %> and <%= lastStudent %> have joined<%= timestamp %>.",{student1:o,lastStudent:a,timestamp:n});if(e.length>=3&&e.length<=6){var i=e.slice(0,e.length-1).map(function(e){return r(t[e].first_name,t[e].last_name,!0)}).join(", ");return(0,v.__)("<%= studentList %>, and <%= lastStudent %> have joined<%= timestamp %>.",{studentList:i,lastStudent:a,timestamp:n})}return e.length>6?(0,v.__)("+<%= count %> students have joined<%= timestamp %>.",{count:e.length,timestamp:n}):void 0}function c(e,t){return d(e,t,{trailing:!1})}function f(e,t){return d(e,t,{trailing:!0})}function d(t,n,r){var o=r.trailing,a=e.chain(t).filter(function(t){return e.has(n,t)}).map(function(e){return n[e].first_name}).value(),i=o?e.takeRight(a,5):a;if(e.isEmpty(i))return"";var s=e.zipObject(["student1","student2","student3","student4","student5"],i);switch(a.length){case 1:return i[0];case 2:return(0,v.__)("<%= student1 %> and <%= student2 %>",s);case 3:return(0,v.__)("<%= student1 %>, <%= student2 %>, and <%= student3 %>",s);case 4:return(0,v.__)("<%= student1 %>, <%= student2 %>, <%= student3 %>, and <%= student4 %>",s);case 5:return(0,v.__)("<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %>, and <%= student5 %>",s);case 6:return(0,v.__)("<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %>, <%= student5 %>, and 1 other",s);default:return(0,v.__)("<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %>, <%= student5 %>, and <%= count %> others",E({},s,{count:e.size(a)-e.size(s)}))}}function p(e,t){var n=Math.max(0,e?t:t-1);return 1===n?(0,v.__)("<%= numClassmates %> classmate",{numClassmates:n}):(0,v.__)("<%= numClassmates %> classmates",{numClassmates:n})}function h(e){return 1===e?(0,v.__)("View 1 reply",{count:e}):(0,v.__)("View <%= count %> replies",{count:e})}function m(e){return 1===e?(0,v.__)("1 reply",{count:e}):(0,v.__)("<%= count %> replies",{count:e})}function y(e){return e<1?"":e>=99?"99":e}Object.defineProperty(t,"__esModule",{value:!0}),t.makeUserName=r,t.firstLetter=o,t.selectRandomString=a,t.makeActiveStudentsMsg=i,t.makeSupportEmail=s,t.generateSessionIDString=l,t.makeJoinedNotice=u,t.makeUserList=c,t.makeUserListRight=f,t.classmatesCountMessage=p,t.makeThreadRepliesMessage=h,t.makeThreadRepliesSummary=m,t.displayMentionCount=y;var g=n("DtqQ"),v=n("eyXk"),_=n("rzv0"),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}).call(t,n("M4fF"))},Qp3N:function(e,t,n){function r(e){return i(e)||a(e)||!!(s&&e&&e[s])}var o=n("NkRn"),a=n("1Yb9"),i=n("NGEn"),s=o?o.isConcatSpreadable:void 0;e.exports=r},"Qqn+":function(e,t){e.exports={"std-font-9":"styles--std-font-9--2ndRM","project-font":"styles--project-font--2gZa5","std-font-12":"styles--std-font-12--3rm10","room-title-font":"styles--room-title-font--3lmsz","user-font":"styles--user-font--170FD","std-font-14":"styles--std-font-14--3_-gS","thread-loading-error":"styles--thread-loading-error--3xBA3",inner:"styles--inner--nb4xD","std-font-16":"styles--std-font-16--3VMw-","std-font-18":"styles--std-font-18--2jYWk","chatroom-title-font":"styles--chatroom-title-font--101AX","screen-content":"styles--screen-content--3peoN",circle:"styles--circle--Y0cHt","gray-light":"styles--gray-light--3cJMR",turquoise:"styles--turquoise--2BrKk","avatar-circle":"styles--avatar-circle--2FzEM","avatar-circle-default":"styles--avatar-circle-default--S65mA","role-mentor":"styles--role-mentor--Hz-2f","role-staff":"styles--role-staff--3pSx4","avatar-img":"styles--avatar-img--21dVq","avatar-default":"styles--avatar-default--2BmKy",clearfix:"styles--clearfix--ueEtT","rel-pos":"styles--rel-pos--18sQT",invisible:"styles--invisible--12Ou6",photo:"styles--photo--3WReV","no-photo":"styles--no-photo--2OFXD","no-margin":"styles--no-margin--2kfRz"}},R1Zq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("2KeS"),o=n("dt47"),a=n("2CrM"),i=n("S09/"),s=n("kViW"),l=n("kjQF"),u=n("3vYp"),c=n("PHN+"),f=n("qQbw"),d=n("tUlS"),p=(0,r.combineReducers)({lobby:o.lobby,screen:l.screen,rooms:s.rooms,profiles:i.profiles,toasts:c.toasts,window:d.window,userData:f.userData,socket:u.socket,notifications:a.notifications});t.default=p},RDCo:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.profilesResolver=void 0;var o=n("kQbS"),a=r(o),i=n("Z4sO"),s=r(i),l=n("c4Rz"),u=n("crWv"),c=r(u);t.profilesResolver=function(t){return function(n){return function(r){if(!r.meta||!r.meta.actors)return n(r);var o=t.getState(),i=o.profiles,u=e.get(r.meta,"parentRoomId",r.meta.roomId),f=e.filter(r.meta.actors,function(t){return!e.has(i,t)});return 0===f.length?(r.meta.resolved=e.map(r.meta.actors,function(t){return e.get(i,t)}),n(r)):s.default.viewProfiles(u,f).then(function(o){t.dispatch((0,l.createAction)(a.default.RESOLVED_PROFILES,o));var i=t.getState();return r.meta.resolved=e.map(r.meta.actors,function(t){return e.get(i.profiles,t)}),n(r)}).catch(function(e){console.log(e),(0,c.default)(!1,"unable to resolve profiles, skipping")})}}}}).call(t,n("M4fF"))},"S09/":function(e,t,n){"use strict";(function(e){function r(t,n){return Object.assign({},t,e.reduce(n,function(e,t){return t.id?(e[t.id]=t,e):e},{}))}function o(e,t){var n=Object.assign({},e);return n.me=t,t.id&&(n[t.id]=t),n}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case s.default.CLEAR_ALL:return{};case s.default.FETCH_PROFILE:return o(e,{loading:!0});case s.default.FETCH_PROFILE_COMPLETE:case s.default.CREATE_PROFILE_COMPLETE:case s.default.UPDATE_PROFILE_COMPLETE:if(t.error){return o(e,{error:t.payload})}return o(e,t.payload);case s.default.RESOLVED_PROFILES:return r(e,t.payload);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.profiles=a;var i=n("kQbS"),s=function(e){return e&&e.__esModule?e:{default:e}}(i)}).call(t,n("M4fF"))},S5CU:function(e,t,n){!function(t,r){e.exports=r(n("KSGD"),n("U7vG"),n("O27J"))}(0,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var i=function(e){var t="undefined"==typeof DOMParser?null:new DOMParser;return t?t.parseFromString(e,"text/html"):null},s=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if("text/html"===r.type){r.getAsString(function(e){var n=i(e).querySelector("img");n&&n.src&&t(n.src)});break}}},l=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=!("undefined"==typeof window||"undefined"==typeof navigator||!("ontouchstart"in window||navigator.msMaxTouchPoints>0)),d="undefined"!=typeof File,p={touch:{react:{down:"onTouchStart",mouseDown:"onMouseDown",drag:"onTouchMove",drop:"onTouchEnd",move:"onTouchMove",mouseMove:"onMouseMove",up:"onTouchEnd",mouseUp:"onMouseUp"},native:{down:"touchstart",mouseDown:"mousedown",drag:"touchmove",drop:"touchend",move:"touchmove",mouseMove:"mousemove",up:"touchend",mouseUp:"mouseup"}},desktop:{react:{down:"onMouseDown",drag:"onDragOver",drop:"onDrop",move:"onMouseMove",up:"onMouseUp"},native:{down:"mousedown",drag:"dragStart",drop:"drop",move:"mousemove",up:"mouseup"}}},h=f?p.touch:p.desktop,m="undefined"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,y=function(e,t,n,r,o,a){if(0===a)e.rect(t,n,r,o);else{var i=r-a,s=o-a;e.translate(t,n),e.arc(a,a,a,Math.PI,1.5*Math.PI),e.lineTo(i,0),e.arc(i,a,a,1.5*Math.PI,2*Math.PI),e.lineTo(r,s),e.arc(i,s,a,2*Math.PI,.5*Math.PI),e.lineTo(a,o),e.arc(a,s,a,.5*Math.PI,Math.PI),e.translate(-t,-n)}},g=function(e){function i(){var e,t,n,a;r(this,i);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return t=n=o(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(c))),n.state={drag:!1,my:null,mx:null,image:{x:.5,y:.5}},n.handleMouseDown=function(e){(e=e||window.event).preventDefault(),n.setState({drag:!0,mx:null,my:null})},n.handleMouseUp=function(){n.state.drag&&(n.setState({drag:!1}),n.props.onMouseUp())},n.handleMouseMove=function(e){if(e=e||window.event,!1!==n.state.drag){var t=e.targetTouches?e.targetTouches[0].pageX:e.clientX,r=e.targetTouches?e.targetTouches[0].pageY:e.clientY,o={mx:t,my:r},a=n.props.rotate;if(a%=360,a=a<0?a+360:a,n.state.mx&&n.state.my){var i=n.state.mx-t,s=n.state.my-r,l=n.state.image.width*n.props.scale,c=n.state.image.height*n.props.scale,f=n.getCroppingRect(),d=f.x,p=f.y;d*=l,p*=c;var h=function(e){return e*(Math.PI/180)},m=Math.cos(h(a)),y=Math.sin(h(a)),g=p+-i*y+s*m,v={x:(d+i*m+s*y)/l+1/n.props.scale*n.getXScale()/2,y:g/c+1/n.props.scale*n.getYScale()/2};n.props.onPositionChange(v),o.image=u({},n.state.image,v)}n.setState(o),n.props.onMouseMove(e)}},n.handleDragOver=function(e){(e=e||window.event).preventDefault()},n.handleDrop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;if(e.stopPropagation(),e.preventDefault(),e.dataTransfer){var t=e.dataTransfer,r=t.files,o=t.items;r&&r.length?(n.props.onDropFile(e),n.loadImageFile(r[0])):o&&o.length&&s(o,function(e){return n.loadImage(e)})}},n.setCanvas=function(e){n.canvas=e},a=t,o(n,a)}return a(i,t.Component),c(i,[{key:"isVertical",value:function(){return this.props.rotate%180!=0}},{key:"getBorders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.border;return Array.isArray(e)?e:[e,e]}},{key:"getDimensions",value:function(){var e=this.props,t=e.width,n=e.height,r=e.rotate,o=e.border,a={},i=this.getBorders(o),s=l(i,2),u=s[0],c=s[1],f=t,d=n;return this.isVertical()?(a.width=d,a.height=f):(a.width=f,a.height=d),a.width+=2*u,a.height+=2*c,{canvas:a,rotate:r,width:t,height:n,border:o}}},{key:"getImage",value:function(){var e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;var n=document.createElement("canvas");this.isVertical()?(n.width=e.height,n.height=e.width):(n.width=e.width,n.height=e.height);var r=n.getContext("2d");return r.translate(n.width/2,n.height/2),r.rotate(this.props.rotate*Math.PI/180),r.translate(-n.width/2,-n.height/2),this.isVertical()&&r.translate((n.width-n.height)/2,(n.height-n.width)/2),r.drawImage(t.resource,-e.x,-e.y),n}},{key:"getImageScaledToCanvas",value:function(){var e=this.getDimensions(),t=e.width,n=e.height,r=document.createElement("canvas");return this.isVertical()?(r.width=n,r.height=t):(r.width=t,r.height=n),this.paintImage(r.getContext("2d"),this.state.image,0,1),r}},{key:"getXScale",value:function(){var e=this.props.width/this.props.height,t=this.state.image.width/this.state.image.height;return Math.min(1,e/t)}},{key:"getYScale",value:function(){var e=this.props.height/this.props.width,t=this.state.image.height/this.state.image.width;return Math.min(1,e/t)}},{key:"getCroppingRect",value:function(){var e=this.props.position||{x:this.state.image.x,y:this.state.image.y},t=1/this.props.scale*this.getXScale(),n=1/this.props.scale*this.getYScale(),r={x:e.x-t/2,y:e.y-n/2,width:t,height:n},o=0,a=1-r.width,i=0,s=1-r.height;return(t>1||n>1)&&(o=-r.width,a=1,i=-r.height,s=1),u({},r,{x:Math.max(o,Math.min(r.x,a)),y:Math.max(i,Math.min(r.y,s))})}},{key:"isDataURL",value:function(e){if(null===e)return!1;var t=/^\s*data:([a-z]+\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i;return!!e.match(t)}},{key:"loadImage",value:function(e){d&&e instanceof File?this.loadImageFile(e):"string"==typeof e&&this.loadImageURL(e)}},{key:"loadImageURL",value:function(e){var t=new Image;t.onload=this.handleImageReady.bind(this,t),t.onerror=this.props.onLoadFailure,!this.isDataURL(e)&&this.props.crossOrigin&&(t.crossOrigin=this.props.crossOrigin),t.src=e}},{key:"loadImageFile",value:function(e){var t=this,n=new FileReader;n.onload=function(e){return t.loadImageURL(e.target.result)},n.readAsDataURL(e)}},{key:"componentDidMount",value:function(){var e=n.findDOMNode(this.canvas).getContext("2d");if(this.props.image&&this.loadImage(this.props.image),this.paint(e),document){var t=h.native;document.addEventListener(t.move,this.handleMouseMove,!1),document.addEventListener(t.up,this.handleMouseUp,!1),f&&(document.addEventListener(t.mouseMove,this.handleMouseMove,!1),document.addEventListener(t.mouseUp,this.handleMouseUp,!1))}}},{key:"componentWillUnmount",value:function(){if(document){var e=h.native;document.removeEventListener(e.move,this.handleMouseMove,!1),document.removeEventListener(e.up,this.handleMouseUp,!1),f&&(document.removeEventListener(e.mouseMove,this.handleMouseMove,!1),document.removeEventListener(e.mouseUp,this.handleMouseUp,!1))}}},{key:"componentDidUpdate",value:function(e,t){var r=n.findDOMNode(this.canvas),o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),this.paint(o),this.paintImage(o,this.state.image,this.props.border),e.image===this.props.image&&e.width===this.props.width&&e.height===this.props.height&&e.position===this.props.position&&e.scale===this.props.scale&&e.rotate===this.props.rotate&&t.my===this.state.my&&t.mx===this.state.mx&&t.image.x===this.state.image.x&&t.image.y===this.state.image.y||this.props.onImageChange()}},{key:"handleImageReady",value:function(e){var t=this.getInitialSize(e.width,e.height);t.resource=e,t.x=.5,t.y=.5,this.setState({drag:!1,image:t},this.props.onImageReady),this.props.onLoadSuccess(t)}},{key:"getInitialSize",value:function(e,t){var n=void 0,r=void 0,o=this.getDimensions();return o.height/o.width>t/e?r=e*((n=this.getDimensions().height)/t):n=t*((r=this.getDimensions().width)/e),{height:n,width:r}}},{key:"componentWillReceiveProps",value:function(e){(e.image&&this.props.image!==e.image||this.props.width!==e.width||this.props.height!==e.height)&&this.loadImage(e.image)}},{key:"paintImage",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(this.props.rotate*Math.PI/180),e.translate(-e.canvas.width/2,-e.canvas.height/2),this.isVertical()&&e.translate((e.canvas.width-e.canvas.height)/2,(e.canvas.height-e.canvas.width)/2),e.scale(r,r),e.globalCompositeOperation="destination-over",e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}}},{key:"calculatePosition",value:function(e,t){e=e||this.state.image;var n=this.getBorders(t),r=l(n,2),o=r[0],a=r[1],i=this.getCroppingRect(),s=e.width*this.props.scale,u=e.height*this.props.scale,c=-i.x*s,f=-i.y*u;return this.isVertical()?(c+=a,f+=o):(c+=o,f+=a),{x:c,y:f,height:u,width:s}}},{key:"paint",value:function(e){e.save(),e.scale(m,m),e.translate(0,0),e.fillStyle="rgba("+this.props.color.slice(0,4).join(",")+")";var t=this.props.borderRadius,n=this.getDimensions(),r=this.getBorders(n.border),o=l(r,2),a=o[0],i=o[1],s=n.canvas.height,u=n.canvas.width;t=Math.max(t,0),t=Math.min(t,u/2-a,s/2-i),e.beginPath(),y(e,a,i,u-2*a,s-2*i,t),e.rect(u,0,-u,s),e.fill("evenodd"),e.restore()}},{key:"render",value:function(){var e=this.getDimensions(),n={width:e.canvas.width,height:e.canvas.height,cursor:this.state.drag?"grabbing":"grab"},r={width:e.canvas.width*m,height:e.canvas.height*m,style:u({},n,this.props.style)};return r[h.react.down]=this.handleMouseDown,r[h.react.drag]=this.handleDragOver,this.props.disableDrop||(r[h.react.drop]=this.handleDrop),f&&(r[h.react.mouseDown]=this.handleMouseDown),t.createElement("canvas",u({ref:this.setCanvas},r))}}]),i}();return g.propTypes={scale:e.number,rotate:e.number,image:e.oneOfType([e.string].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(d?[e.instanceOf(File)]:[]))),border:e.oneOfType([e.number,e.arrayOf(e.number)]),borderRadius:e.number,width:e.number,height:e.number,position:e.shape({x:e.number,y:e.number}),color:e.arrayOf(e.number),style:e.object,crossOrigin:e.oneOf(["","anonymous","use-credentials"]),onDropFile:e.func,onLoadFailure:e.func,onLoadSuccess:e.func,onImageReady:e.func,onImageChange:e.func,onMouseUp:e.func,onMouseMove:e.func,onPositionChange:e.func,disableDrop:e.bool},g.defaultProps={disableDrop:!1,scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],style:{},onDropFile:function(){},onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){}},g})},S5nd:function(e,t,n){"use strict";(function(t,r){function o(e,n,o,a,s){return new t(function(t,l){function u(){c||(c=!0,r.isFunction(s)&&s.apply(this,arguments),t(arguments))}if(!window.analytics)return void l(new Error("Missing window.analytics"));var c=!1;window.analytics[e](n,o,a,u),setTimeout(u,i)})}var a=n("gXwY"),i=300;e.exports={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!window.analytics)throw new Error("Missing Segment snippet in index.html");if(!window.analytics.load)throw new Error("Segment has already been loaded");window.analytics.load(e),t&&window.analytics.ready(function(){window.analytics._integrations["Segment.io"].options.apiHost="analyticsevents.udacity.com/v1",window.analytics.page()})},track:function(e,t,n,r){return o("track",e,t,n,r)},page:function(e,t,n,r){return o("page",e,t,n,r)},identify:function(e,t){return o("identify",e.id,{email:e.email},null,t)},createAgent:a.createAgent}}).call(t,n("0Qa9"),n("M4fF"))},S67T:function(e,t,n){"use strict";function r(e){this.message=e}var o=n("C6j/");r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");t=t||{};var n=!0===t.header?0:1;try{return JSON.parse(o(e.split(".")[n]))}catch(e){throw new r("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=r},T0ro:function(e,t,n){e.exports=n("8euC")},TRr9:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,f,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n("eLhX"),m=n("Zrtp"),y=a(m),g=n("4Dn6"),v=n("KSGD"),_=a(v),E=n("sOoA"),b=a(E),T=n("nkqC"),S=a(T),w=n("eyXk"),O=n("RH2O"),C=n("9gx7"),P=n("Qqn+"),A=a(P),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=S.default.leaveRoom,k=(u=e(A.default,{allowMultiple:!0}))((d=f=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLoading:!0,hasError:!1,threadId:null},n}return l(t,e),R(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.roomId,r=t.messageId;(0,t.fetchThread)(n,r).catch(function(){e.setState({isLoading:!1,hasError:!0})}).then(function(t){var n=o.get(t,"thread.room_id");e.setState({isLoading:!1,threadId:n})})}},{key:"componentWillUnmount",value:function(){var e=this.props.leaveRoom,t=this.state.threadId;t&&e(t)}},{key:"render",value:function(){var e=this.props,t=e.rooms,n=e.roomTitle,a=e.messageId,i=this.state,s=i.threadId,l=i.hasError,u=i.isLoading,c=o.get(t,s),f=o.has(c,"info");return u?r.createElement(g.LoadingWrapper,{isLoading:!0}):l?r.createElement("div",{styleName:"thread-loading-error"},r.createElement("div",{styleName:"thread-loading-error inner"},r.createElement("span",null,r.createElement(y.default,{glyph:"alert-xl",text:(0,w.__)(h.ERR_UNABLE_TO_LOAD_ROOM)}),(0,w.__)(h.ERR_UNABLE_TO_LOAD_ROOM)))):f&&r.createElement(b.default,{room:c,roomTitle:n,messageId:a})}}]),t}(r.Component),f.propTypes={roomId:_.default.string.isRequired,roomTitle:_.default.string.isRequired,messageId:_.default.number.isRequired},c=d))||c,I=function(e){return{rooms:e.rooms}};t.default=(0,O.connect)(I,{fetchThread:C.fetchThread,leaveRoom:M})(k)}).call(t,n("211U"),n("U7vG"),n("M4fF"))},Td32:function(e,t,n){"use strict";(function(e,r,o,a){function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new r(function(e,n){function o(a,i){try{var s=t[a](i),l=s.value}catch(e){return void n(e)}if(!s.done)return r.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}return o("next")})}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(t){var n=e.get(t,"participants.active",[]),r=e.get(t,"participants.inactive",[]);return[].concat(l(e.get(t,"participants.admins",[])),l(n),l(r))}function c(t,n,r){var o=e.get(n,"userId");return(t||[]).filter(function(t){var n=e.get(t,"first","");return t.id!==o&&n.toLowerCase().includes(r.toLowerCase())}).slice(0,8)}function f(t,n){var r=e.orderBy(n,["first_name","last_name"],["asc","asc"]),o=e.filter(r,function(e){return(0,p.isMentorInRoom)(e,(0,p.getRoomId)(t))}),a=e.groupBy(r,"isActive"),i=e.get(a,"true",[]),s=e.get(a,"false",[]);return e.uniq([].concat(l(o),l(i),l(s)))}Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0,t.getParticipants=u,t.findSuggestions=c,t.orderSuggestions=f;var d=n("v3l+"),p=n("lNS7"),h=n("KSGD"),m=i(h),y=n("slJS"),g=i(y),v=n("J+Hc"),_=i(v),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(){var t=s(regeneratorRuntime.mark(function t(n,r,o){var a,i,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.get(n,"participants.active",[]),i=r.map(function(e){return e.id}),s=e.get(n,"info.room_id"),t.next=5,o.apply(void 0,[s].concat(l(i)));case 5:return u=t.sent,t.abrupt("return",u.map(function(t){var n=!!e.find(a,{id:t.id}),r=e.get(t,"first_name",""),o=e.get(t,"last_name","");return E({},t,{isActive:n,display:r+o})}));case 7:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}(),T=t.Input=function(t){var n=t.userMsg,r=t.onHandleChangeMsg,a=t.onHandleKeyDown,i=t.addAtMention,l=t.room,h=t.placeholderTextForInput,m=t.userData,y=t.mentionEnabled,v=t.loadProfiles,E=u(l),T=(0,p.getRoomId)(l);return o.createElement(d.MentionsInput,{autoFocus:!0,value:n,onChange:r,onKeyDown:a,id:"userMsg",classNames:_.default,markup:"[@__display__](__type__://__id__)",placeholder:h,displayTransform:function(e,t){return"@"+t}},y&&o.createElement(d.Mention,{type:"user",trigger:"@",data:e.throttle(function(){var e=s(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c(E,m,t),e.next=3,b(l,r,v);case 3:return o=e.sent,a=f(l,o),e.abrupt("return",n(a));case 6:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),30),renderSuggestion:function(e){return o.createElement(g.default,{suggestion:e,roomId:T})},onAdd:i,appendSpaceOnAdd:!0}))};T.propTypes={userMsg:m.default.string,participants:m.default.array,placeholderTextForInput:m.default.string,userData:m.default.object,onHandleChangeMsg:m.default.func,onHandleKeyDown:m.default.func,addAtMention:m.default.func,loadProfiles:m.default.func},T.defaultProps={userMsg:"",participants:[],placeholderTextForInput:"",userData:{},onHandleChangeMsg:function(){},onHandleKeyDown:function(){},addAtMention:function(){},loadProfiles:function(){}},t.default=a(_.default,{allowMultiple:!0})(T)}).call(t,n("M4fF"),n("0Qa9"),n("U7vG"),n("211U"))},TlPD:function(e,t,n){function r(e){return o(e,a(e))}var o=n("tv3T"),a=n("t8rQ");e.exports=r},U7Aq:function(e,t){function n(e,t){return e.set(t[0],t[1]),e}e.exports=n},UDxG:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={getBase64:function(t){return new e(function(e,n){var r=new window.FileReader;r.onloadend=function(){e(r.result)},r.onerror=function(e){n(e)},r.readAsDataURL(t)})}}}).call(t,n("0Qa9"))},UfSK:function(e,t){function n(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,o=r.hasOwnProperty;e.exports=n},Upw2:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":d(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":d(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,f,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n("j5LV"),h=n("KSGD"),m=o(h),y=n("U7vG"),g=o(y),v=n("EFqf"),_=o(v),E=n("tnID"),b=o(E),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=/(user:\/\/u?\d.*)/,w=function(t,n,r,o){var a=e.get(t,"mentions",[]),i=o.slice(7).toString();if((a||[]).includes(i)){var s=e.get(n,"id").toString(),l=e.get(t,"user_id","").toString(),u=s===l?"mention-me":"mention-other";return r.slice(0,2)+"\n       data-id="+i+"\n       data-tst='mention'\n       class="+b.default[u]+"\n       "+r.slice(3)}return r},O=function(t,n){var r=new _.default.Renderer;r.link=function(e,r,o){var a="@"===o.charAt(0),i=S.test(e);if(a&&o.slice(1)&&i){var s=_.default.Renderer.prototype.link.call(this,"#",o,o);return w(t,n,s,e)}var l=_.default.Renderer.prototype.link.call(this,e,e,e);return l.slice(0,2)+' target="_blank" '+l.slice(3)},r.heading=function(e,t,n){return _.default.Renderer.prototype.heading.call(this,e,5,n)},r.image=function(e,t){return _.default.Renderer.prototype.link.call(this,e,t,e)};var o=e.assign({},_.default.defaults,{renderer:r,tables:!1,sanitize:!0}),a=new _.default.Lexer(o),i=new _.default.Parser(o),s=function(){};return s.exec=s,a.rules.table=s,{lexer:a,parser:i}},C=(l=r(b.default,{allowMultiple:!0}))((f=c=function(t){function n(){var e,t,r,o;a(this,n);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.getDOMAtMentions=function(){if(r.node)return r.node.querySelectorAll("a[data-tst='mention']")},r.addProfileToDOMAtMentions=function(e){Array.from(e).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),r.props.onProfileAvatarClick(e.dataset.id)})})},o=t,i(r,o)}return s(n,t),T(n,[{key:"componentDidMount",value:function(){var e=this.getDOMAtMentions();e&&this.addProfileToDOMAtMentions(e)}},{key:"shouldComponentUpdate",value:function(e){return this.props.text!==e.text}},{key:"render",value:function(){var t=this,n=this.props,r=n.className,o=n.message,a=n.me,i=O(o,a),s=i.lexer,l=i.parser,u=e.get(o,"content.message",o.content),c=s.lex(u),f=l.parse(c);return g.default.createElement("div",{styleName:"markdown "+r,dangerouslySetInnerHTML:{__html:f},ref:function(e){return t.node=e}})}}]),n}(g.default.PureComponent),c.propTypes={message:p.MessageEventPayloadShape.isRequired,me:p.ProfileShape.isRequired,className:m.default.string},c.defaultProps={message:{},me:{},className:"",onProfileAvatarClick:function(){}},u=f))||u;t.default=C}).call(t,n("M4fF"),n("211U"))},VORN:function(e,t,n){var r=n("yCNF"),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},Vgd3:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("j5LV"),s=n("lNS7"),l=n("KSGD"),u=a(l),c=n("dSVv"),f=a(c),d=n("eyXk"),p=n("HW6M"),h=a(p),m=n("PJh5"),y=a(m),g=n("Dji7"),v=a(g),_=function(t){var n=t.room,o=t.profiles,a=t.onProfileAvatarClick,i=e.get(n,"info.room_payload"),l=e.get(i,"user_id"),u=e.get(o,l),c=!e.isEmpty(u),p=e.get(u,"first_name"),m=(0,y.default)(i.created_at).format("L"),g={"role-mentor":(0,s.isMessageFromMentor)(i,u),"role-staff":(0,s.isMessageFromStaff)(i,u)};return r.createElement("div",{styleName:"thread-header"},r.createElement("div",{styleName:"room-header"},r.createElement("div",{styleName:"room-header-mask"},r.createElement("span",{styleName:"circle turquoise"}),c?r.createElement("span",null,(0,d.__)("<%= first_name %>'s original post from <%= date %>",{first_name:p,date:m})):r.createElement("span",null,(0,d.__)("Original post from <%= date %>",{date:m})))),r.createElement("div",{styleName:(0,h.default)("thread-header-message",g)},r.createElement(f.default,{message:i,timeFormat:"long",showActions:!1,threadingEnabled:!1,sameAsPrev:!1,isMsgFromCurrentUser:!1,isThreadHeader:!0,profiles:o,avatarClickable:!0,onProfileAvatarClick:a})))};_.propTypes={room:i.RoomShape.isRequired,profiles:u.default.objectOf(i.ProfileShape).isRequired,onProfileAvatarClick:u.default.func.isRequired},t.default=o(v.default,{allowMultiple:!0})(_)}).call(t,n("M4fF"),n("U7vG"),n("211U"))},Vi3P:function(e,t,n){function r(e,t){return t=o(t,e),null==(e=i(e,t))||delete e[s(a(t))]}var o=n("bIjD"),a=n("oqL2"),i=n("Cf65"),s=n("Ubhr");e.exports=r},Vr8f:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n("U7vG"),c=r(u),f=n("KSGD"),d=r(f),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){var n;a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.continueOpenCollapsible=function(){var e,t="height"===r.props.collapsingProp?r.refs.inner.offsetHeight:r.refs.inner.offsetWidth;r.setState((e={},o(e,r.props.collapsingProp,t),o(e,"transition",r.props.collapsingProp+" "+r.props.transitionTime+"ms "+r.props.easing),o(e,"isClosed",!1),o(e,"hasBeenOpened",!0),o(e,"inTransition",!0),o(e,"shouldOpenOnNextCycle",!1),e))},r.handleTriggerClick=function(e){e.preventDefault(),r.props.handleTriggerClick?r.props.handleTriggerClick(r.props.accordionPosition):!0===r.state.isClosed?(r.openCollapsible(),r.props.onOpening()):(r.closeCollapsible(),r.props.onClosing())},r.handleTransitionEnd=function(){if(r.state.isClosed)r.setState({inTransition:!1}),r.props.onClose();else{var e;r.setState((e={},o(e,r.props.collapsingProp,"auto"),o(e,"overflow",r.props.overflowWhenOpen),o(e,"inTransition",!1),e)),r.props.onOpen()}},r.state=(n={isClosed:!0,shouldSwitchAutoOnNextCycle:!1,hasBeenOpened:!1,overflow:"hidden",inTransition:!1},o(n,e.collapsingProp,0),o(n,"transition",e.collapsingProp+" "+e.transitionTime+"ms "+e.easing),n),r}return s(t,e),p(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.shouldOpenOnNextCycle&&this.continueOpenCollapsible(),"auto"===t[this.props.collapsingProp]&&!0===this.state.shouldSwitchAutoOnNextCycle&&(this.timeout=window.setTimeout(function(){var e;n.setState((e={},o(e,n.props.collapsingProp,0),o(e,"overflow","hidden"),o(e,"isClosed",!0),o(e,"shouldSwitchAutoOnNextCycle",!1),e)),n.timeout=null},50))}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"closeCollapsible",value:function(){var e,t="height"===this.props.collapsingProp?this.refs.inner.offsetHeight:this.refs.inner.offsetWidth;this.setState((e={shouldSwitchAutoOnNextCycle:!0},o(e,this.props.collapsingProp,t),o(e,"transition","height "+this.props.transitionTime+"ms "+this.props.easing),o(e,"inTransition",!0),e))}},{key:"openCollapsible",value:function(){this.setState({inTransition:!0,shouldOpenOnNextCycle:!0})}},{key:"render",value:function(){var e=o({WebkitTransition:this.state.transition,msTransition:this.state.transition,transition:this.state.transition,overflow:this.state.overflow},this.props.collapsingProp,this.state[this.props.collapsingProp]),t=this.state.isClosed?"is-closed":"is-open",n=!1===this.state.isClosed&&void 0!==this.props.triggerWhenOpen?this.props.triggerWhenOpen:this.props.trigger,r=this.props.lazyRender&&!this.state.hasBeenOpened&&this.state.isClosed&&!this.state.inTransition?null:this.props.children,a=this.props.classParentString+"__trigger "+t+" "+(this.state.isClosed?this.props.triggerClassName:this.props.triggerOpenedClassName),i=this.props.classParentString+" "+(this.state.isClosed?this.props.className:this.props.openedClassName),s=this.props.classParentString+"__contentOuter "+this.props.contentOuterClassName,l=this.props.classParentString+"__contentInner "+this.props.contentInnerClassName;return c.default.createElement("div",{className:i.trim()},c.default.createElement("span",{className:a.trim(),onClick:this.handleTriggerClick},n),c.default.createElement("div",{className:s.trim(),ref:"outer",style:e,onTransitionEnd:this.handleTransitionEnd,"aria-expanded":!this.state.isClosed},c.default.createElement("div",{className:l.trim(),ref:"inner"},r)))}}]),t}(u.Component);h.propTypes={transitionTime:d.default.number,easing:d.default.string,classParentString:d.default.string,openedClassName:d.default.string,triggerClassName:d.default.string,triggerOpenedClassName:d.default.string,contentOuterClassName:d.default.string,contentInnerClassName:d.default.string,accordionPosition:d.default.oneOfType([d.default.string,d.default.number]),handleTriggerClick:d.default.func,onOpen:d.default.func,onClose:d.default.func,onOpening:d.default.func,onClosing:d.default.func,trigger:d.default.oneOfType([d.default.string,d.default.element]),triggerWhenOpen:d.default.oneOfType([d.default.string,d.default.element]),lazyRender:d.default.bool,overflowWhenOpen:d.default.oneOf(["hidden","visible","auto","scroll","inherit","initial","unset"]),collapsingProp:d.default.oneOf(["height","width"])},h.defaultProps={transitionTime:400,easing:"linear",classParentString:"Collapsible",lazyRender:!1,overflowWhenOpen:"hidden",openedClassName:"",triggerClassName:"",triggerOpenedClassName:"",contentOuterClassName:"",contentInnerClassName:"",className:"",onOpen:function(){},onClose:function(){},onOpening:function(){},onClosing:function(){},collapsingProp:"height"},t.default=h},WIJI:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("mU73"),i=o(a),s=n("j5LV"),l=n("KSGD"),u=o(l),c=n("DtqQ"),f=n("HW6M"),d=o(f),p=n("Dji7"),h=o(p),m=function(t){var n=t.participant,r=t.isActive,o=t.profile,s=t.roleType,l=t.onParticipantAvatarClick,u=r?"active":"inactive",f=function(e){e.preventDefault(),l(n.id)},p={"role-mentor":s===c.RoleTypes.MENTOR,"role-staff":s===c.RoleTypes.STAFF};return e.createElement("li",{key:n.id,"data-participant-id":n.id},e.createElement("a",{href:"#",onClick:f,styleName:"profile-avatar "+u},e.createElement("span",{styleName:(0,d.default)("participant-avatar",p)},e.createElement(i.default,{profile:o,participant:n,theme:(0,a.getAvatarTheme)(a.AvatarTypes.PARTICIPANT),size:32}))))};m.propTypes={participant:s.ParticipantShape.isRequired,isActive:u.default.bool.isRequired,profile:s.ProfileShape,roleType:s.RoleTypeShape,onParticipantAvatarClick:u.default.func.isRequired},t.default=r(h.default,{allowMultiple:!0})(m)}).call(t,n("U7vG"),n("211U"))},WQFf:function(e,t,n){function r(e){return"function"!=typeof e.constructor||i(e)?{}:o(a(e))}var o=n("VORN"),a=n("vi0E"),i=n("HT7L");e.exports=r},WyC4:function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},Wzbc:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("rzv0"),s=n("Zrtp"),l=a(s),u=n("j5LV"),c=n("KSGD"),f=a(c),d=n("eyXk"),p=n("QBEk"),h=n("Yz2p"),m=a(h),y=function(t){var n=t.profile,o=t.viewerId,a=t.ndKey,s=t.onEditProfileClick,u=t.onReportBehaviourClick,c=e.get(n,"show_location",!1),f=n.id===o,h=(0,p.makeSupportEmail)(a);return r.createElement("div",null,c&&r.createElement("div",null,r.createElement("h3",{styleName:"display-title"},(0,d.__)("Learning From")),r.createElement("p",{styleName:"display-detail"},e.get(n,"location.description"))),r.createElement("h3",{styleName:"display-title"},(0,d.__)("Program Enrollments")),r.createElement("ul",{styleName:"display-detail enrollments"},e.map(n.nanodegrees,function(e){return r.createElement("li",{key:e.id},e.title)})),!f&&r.createElement("div",{styleName:"display-report"},r.createElement("a",{onClick:u,href:"mailto:"+h+"?subject="+i.supportSubject+"&body="+i.supportBody},r.createElement("span",{styleName:"display-alert-icon"},r.createElement(l.default,{glyph:"alert-sm",text:(0,d.__)("Alert")})),r.createElement("span",null,(0,d.__)("Report User Behavior to Support")))),f&&r.createElement("a",{href:"#",onClick:s,title:"edit",styleName:"display-edit-profile"},(0,d.__)("Edit Student Profile")))};y.propTypes={viewerId:f.default.string.isRequired,ndKey:f.default.string.isRequired,profile:u.ProfileShape.isRequired,onEditProfileClick:f.default.func.isRequired,onReportBehaviourClick:f.default.func.isRequired},t.default=o(m.default,{allowMultiple:!0})(y)}).call(t,n("M4fF"),n("U7vG"),n("211U"))},XVfB:function(e,t){function n(e){return e.placeholder}e.exports=n},XZDv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AvatarTypes={PROFILE:"profile",SUGGESTION:"suggestion",PARTICIPANT:"participant"},t.AvatarThemes={DEFAULT:"DEFAULT",PROFILE_DEFAULT:"PROFILE_DEFAULT",PROFILE_MENTOR:"PROFILE_MENTOR",PROFILE_STAFF:"PROFILE_STAFF",PARTICIPANT:"PARTICIPANT",SUGGESTION_DEFAULT:"SUGGESTION_DEFAULT",SUGGESTION_MENTOR:"SUGGESTION_MENTOR",SUGGESTION_STAFF:"SUGGESTION_STAFF"}},Y6KL:function(e,t,n){"use strict";function r(e,t){var n=(0,u.default)(e).diff((0,u.default)(t),"minutes");return{showTime:n>i.MAX_MSG_TIME_DIFF,showDate:n>1440,calendarTime:(0,u.default)(e).calendar(null,{sameDay:"["+(0,s.__)("Today")+"]",lastDay:"["+(0,s.__)("Yesterday")+"]",lastWeek:"dddd, MMM Do",sameElse:"dddd, MMM Do"})}}function o(e){return(0,u.default)(e).format("LT")}function a(e){return(0,u.default)(e).calendar()}Object.defineProperty(t,"__esModule",{value:!0}),t.calcTimeDiffValues=r,t.getLocalTime=o,t.getCalendarTime=a;var i=n("DtqQ"),s=n("eyXk"),l=n("PJh5"),u=function(e){return e&&e.__esModule?e:{default:e}}(l)},Yz2p:function(e,t){e.exports={"std-font-9":"styles--std-font-9--3G3Lb","project-font":"styles--project-font--3vvhd","std-font-12":"styles--std-font-12--1AXXk","room-title-font":"styles--room-title-font--1iGe6","user-font":"styles--user-font--B564r","add-photo":"styles--add-photo--1khB8","remove-photo":"styles--remove-photo--2MvTl","std-font-14":"styles--std-font-14--2nUt7",direction:"styles--direction--33xAU",label:"styles--label--1Nr65","avatar-title":"styles--avatar-title--2oMhm","avatar-size":"styles--avatar-size--2VSBE",location:"styles--location--1ObHt","location-pref":"styles--location-pref--NGPEx","nanodegrees-entry":"styles--nanodegrees-entry--3he3d","display-content":"styles--display-content--39mbo","display-badge-mentor":"styles--display-badge-mentor--TyVne","display-badge-staff":"styles--display-badge-staff--Seq9N","display-title":"styles--display-title--3e7ly","display-detail":"styles--display-detail--ClJsR","agree-label-text":"styles--agree-label-text--3jwM0","std-font-16":"styles--std-font-16--3pQyT",name:"styles--name--2tAdN","display-user-name":"styles--display-user-name--2xNz6","std-font-18":"styles--std-font-18--xuHUw","avatar-default":"styles--avatar-default--1T7Cj","chatroom-title-font":"styles--chatroom-title-font--1FA4g","screen-content":"styles--screen-content--1Z_UP",circle:"styles--circle--2nvib","gray-light":"styles--gray-light--3AXNK",turquoise:"styles--turquoise--k7QDi","avatar-circle":"styles--avatar-circle--2GL5Z","avatar-circle-default":"styles--avatar-circle-default--dcN0B","role-mentor":"styles--role-mentor--1xoar","role-staff":"styles--role-staff--1jsoW","avatar-img":"styles--avatar-img--rW6Pr",clearfix:"styles--clearfix--13VU0","rel-pos":"styles--rel-pos--6UIY2",invisible:"styles--invisible--MNvjv",photo:"styles--photo--36NaU","no-photo":"styles--no-photo--36OBm","no-margin":"styles--no-margin--1WH6Y","profile-container":"styles--profile-container--1LFAi","profile-height-with-agree-checkbox":"styles--profile-height-with-agree-checkbox--zbcHF","line-break":"styles--line-break--3gNfs","btn-container":"styles--btn-container--2gNTf","save-btn":"styles--save-btn--2c4wC","photo-container":"styles--photo-container--q1OXx","avatar-direction":"styles--avatar-direction--gXJf8","avatar-btn":"styles--avatar-btn--3dDGt","profile-avatar-img":"styles--profile-avatar-img--35VlX","nanodegrees-list":"styles--nanodegrees-list--3XYPM","display-header":"styles--display-header--3wsYb","display-user-name-container":"styles--display-user-name-container--4R19c","display-avatar":"styles--display-avatar--2swSp","display-avatar-img":"styles--display-avatar-img--2IS8a","display-avatar-default":"styles--display-avatar-default--1mJvS","display-avatar-letter":"styles--display-avatar-letter--15E0A",enrollments:"styles--enrollments--34tg_","display-report":"styles--display-report--1myko","display-alert-icon":"styles--display-alert-icon--2KvvY","display-edit-profile":"styles--display-edit-profile--2ogQl","agree-checkbox":"styles--agree-checkbox--2u1tq","form-content":"styles--form-content--1_45M","red-asterisk":"styles--red-asterisk--1nIKe"}},Z4sO:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("DtqQ"),i=n("Jyyl"),s=o(i),l=n("deT9"),u=o(l),c=n("lNS7"),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(e,t){return u.default.makeGetRequest(s.default.communityApiUrl,e,t)},p=function(e,t){return u.default.makePostRequest(s.default.communityApiUrl,e,t)};t.default={fetchChatRooms:function(t){return d("/myNanodegreeRooms?ndid="+t).then(function(t){var n=e.chain(t.rooms).filter(function(e){return e.room_type===a.RoomTypes.COHORT||e.room_type===a.RoomTypes.PROJECT}).map(function(e){return f({},e,{room_title:(0,c.getRoomTitle)(e)})}).value(),r=e.keyBy(n,"room_id"),o=e.filter(t.threads,function(t){return e.has(r,t.room_payload.room_id)}),i=e.pick(t.notifications,e.keys(r));return f({},t,{rooms:n,threads:o,notifications:i})})},updateLastVisited:function(e,t,n){return p("/unread/update",{room_id:e,last_visited:t}).then(function(){return{roomId:e,lastVisited:t,numNextMessages:n}})},fetchRoom:function(e){return d("/rooms/"+encodeURIComponent(e))},fetchThread:function(e,t){return d("/threads/"+encodeURIComponent(e)+"/"+encodeURIComponent(t))},fetchNotifications:function(t){return d("/unread?rooms="+e.join(t.map(encodeURIComponent)))},fetchMessages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.MESSAGE_FETCH_COUNT,o={count:r};return t&&(o.before=t),n&&(o.after=n),d("/messages/"+encodeURIComponent(e),{params:o})},postMessage:function(e,t){return p("/messages/"+encodeURIComponent(t),e)},replyTo:function(e,t,n){return p("/messages/"+encodeURIComponent(e),f({},n,{reply_to:t}))},fetchConnectToken:function(t){return d("/tokens?rooms="+e.join(t.map(encodeURIComponent)))},fetchProfile:function(){return d("/profiles/me")},createProfile:function(e){return p("/profiles/me",e)},updateProfile:function(e){return p("/profiles/me/update",e)},viewProfiles:function(t,n){if(!n||0===n.length)return r.resolve([]);var o={user_ids:e.join(e.map(n,function(t){return e.trim(t)}),",")};return d("/profiles/room/"+encodeURIComponent(t),{params:o})},viewParticipants:function(e){return d("/participants/"+encodeURIComponent(e))}}}).call(t,n("M4fF"),n("0Qa9"))},"ZD/T":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":s(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n("crC2"),u=r(l),c=n("ifSu"),f=r(c),d=n("U7vG"),p=r(d),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),h(t,[{key:"render",value:function(){return p.default.createElement("div",null,p.default.createElement(u.default,{isBackButtonVisible:!1}),p.default.createElement(f.default,null))}}]),t}(p.default.Component);t.default=m},ZiXM:function(e,t){e.exports={image:"image--image--3HFK9",highlight:"image--highlight--27WPX"}},Zrtp:function(e,t,n){"use strict";e.exports=n("KuGv")},aWNn:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];return e+"~".repeat(Math.floor(e.trim().length*t))}function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("").map(function(e){var t=i[e]||e;return t[Math.floor(Math.random()*t.length)]}).join("")}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.35,n=/(<%=?.+?%>)/g;return e.split(n).map(function(e){return n.test(e)?e:e.split(/\b/).map(function(e){return r(o(e),t)}).join("")}).join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i={A:String.fromCharCode(192,193,194,195,196,197,256,258,260,506,512,514),a:String.fromCharCode(224,225,226,227,228,229,257,259,261,507,513,515),B:String.fromCharCode(223,385,579,665),b:String.fromCharCode(384,386,387,388,389,595),C:String.fromCharCode(262,264,266,268),c:String.fromCharCode(263,265,267,269),D:String.fromCharCode(270,272,393,394),d:String.fromCharCode(271,273),E:String.fromCharCode(274,276,278,280,282,516,518),e:String.fromCharCode(275,277,279,281,283,517,519),F:String.fromCharCode(401),f:String.fromCharCode(402),G:String.fromCharCode(284,286,288,290),g:String.fromCharCode(285,287,289,291),H:String.fromCharCode(292,294),h:String.fromCharCode(293,295),I:String.fromCharCode(296,298,300,302,304),i:String.fromCharCode(297,299,301,303,305),J:String.fromCharCode(309),j:String.fromCharCode(308),K:String.fromCharCode(310,408),k:String.fromCharCode(311,312,409),L:String.fromCharCode(313,315,317,319,321),l:String.fromCharCode(314,316,318,320,322),N:String.fromCharCode(323,325,327,330,413),n:String.fromCharCode(324,326,328,329,331,414),O:String.fromCharCode(332,334,336,416),o:String.fromCharCode(333,335,337,417),P:String.fromCharCode(420),p:String.fromCharCode(421,447),Q:String.fromCharCode(490,492),q:String.fromCharCode(491,493,587),R:String.fromCharCode(340,342,344,422),r:String.fromCharCode(341,343,345),S:String.fromCharCode(346,348,350,352),s:String.fromCharCode(347,349,351,353),T:String.fromCharCode(354,356,358),t:String.fromCharCode(355,357,359),U:String.fromCharCode(360,362,364,366,368,370),u:String.fromCharCode(361,363,365,367,369,371),W:String.fromCharCode(372),w:String.fromCharCode(373),Y:String.fromCharCode(374,376,435,562,590),y:String.fromCharCode(375,436,563,591),Z:String.fromCharCode(377,379,381,437),z:String.fromCharCode(378,380,382,438)}},akIm:function(e,t){function n(e,t){for(var n=-1,o=e.length,a=0,i=[];++n<o;){var s=e[n];s!==t&&s!==r||(e[n]=r,i[a++]=n)}return i}var r="__lodash_placeholder__";e.exports=n},b1FX:function(e,t,n){e.exports={ary:n("ikcs"),assign:n("jD7S"),clone:n("rezj"),curry:n("OV5o"),forEach:n("PqYH"),isArray:n("NGEn"),isFunction:n("gGqR"),iteratee:n("pJm+"),keys:n("/GnY"),rearg:n("G5Zz"),toInteger:n("5Zxu"),toPath:n("nHsE")}},b2mn:function(e,t,n){function r(e,t,n,_,E,b,T,S,w,O){function C(){for(var p=arguments.length,h=Array(p),m=p;m--;)h[m]=arguments[m];if(M)var y=u(C),g=i(h,y);if(_&&(h=o(h,_,E,M)),b&&(h=a(h,b,T,M)),p-=g,M&&p<O){var v=f(h,y);return l(e,t,r,C.placeholder,n,h,v,S,w,O-p)}var N=A?n:this,L=R?N[e]:e;return p=h.length,S?h=c(h,S):k&&p>1&&h.reverse(),P&&w<p&&(h.length=w),this&&this!==d&&this instanceof C&&(L=I||s(L)),L.apply(N,h)}var P=t&g,A=t&p,R=t&h,M=t&(m|y),k=t&v,I=R?void 0:s(e);return C}var o=n("Di3q"),a=n("8NDG"),i=n("F47E"),s=n("iu+1"),l=n("v0t+"),u=n("XVfB"),c=n("CSeo"),f=n("akIm"),d=n("TQ3y"),p=1,h=2,m=8,y=16,g=128,v=512;e.exports=r},b6tY:function(e,t,n){function r(e,t,n){return o(a,e,t,n)}var o=n("9j4f"),a=n("b1FX");e.exports=r},b9xx:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Image=t.Progressbar=t.Dropfile=void 0;var o=n("vwcy"),a=r(o),i=n("0J+u"),s=r(i),l=n("GDpH"),u=r(l);t.Dropfile=a.default,t.Progressbar=s.default,t.Image=u.default},c4Rz:function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return e.reduce(n,function(n,r){var o=l.default[r];if(!e.isFunction(o))throw"Unknown action creator: "+r;return n[r]=function(){return t(o.apply(l.default,arguments))},n},{})}}function a(e,t,n){var r=t instanceof Error;return{type:e,payload:r?{stack:t.stack,message:t.message}:t,meta:n,error:r}}function i(t,n,r,o){return function(i,s){i(a(t,{},o));var l=e.partial(a,n);return o&&(l=e.partialRight(l,o)),r(i,s).then(function(e){return i(l(e)),e}).catch(function(e){throw i(l(e)),e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBuilder=void 0,t.actionsBinder=o,t.createAction=a,t.createAsyncAction=i;var s=n("Hc94"),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ActionBuilder=function(){function t(e,n){r(this,t),this.type=e,this.payload=n,this.meta={}}return u(t,[{key:"withRoom",value:function(e){return this.meta.roomId=e,this}},{key:"withUser",value:function(e){return this.meta.userId=e,this}},{key:"withActors",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?this:(this.meta.actors||(this.meta.actors=[]),this.meta.actors=e.concat(this.meta.actors,n),this)}},{key:"build",value:function(){return a(this.type,this.payload,this.meta)}}]),t}()}).call(t,n("M4fF"))},cUJE:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){var t=e.style,n=e.className,r=e.classNames,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.default,l=(0,m.default)(t),c=n||D(r),d=l?t:(0,x.default)(function(e,n){var l=(0,L.default)(e);(0,A.default)((0,f.default)(l),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),(0,A.default)(!n||(0,p.default)(n),"Optional second parameter must be a plain object.");var d=(0,u.default)(I.isModifier,l),h=(0,u.default)(I.isElement,l),m=h.length>0?function(e){return(0,S.default)((0,k.pickNestedStyles)(e,h))}:function(e){return[e]},y=(0,s.default)(m,function(e){return(0,k.hoistModifierStylesRecursive)(e,d)}),g=U(c,h,d);return a(C({},(t||n)&&{style:b.default.apply(void 0,[{}].concat(o(y(n)),o(y(t))))},g&&{className:g.join(" ")},r&&{classNames:r}),i)}),h=C({},l?t:{style:t}),y=[].concat(o(h.className?h.className.split(" "):[]),o(c?c.split(" "):[])),v=r?(0,g.default)(y.map(function(e){return r[e]})):y,E=i(C({},h,v.length>0&&{className:v.join(" ")}));return(0,_.default)(d,E),d}Object.defineProperty(t,"__esModule",{value:!0});var i=n("T0ro"),s=r(i),l=n("w0lJ"),u=r(l),c=n("NGEn"),f=r(c),d=n("9UkZ"),p=r(d),h=n("gGqR"),m=r(h),y=n("C2y9"),g=r(y),v=n("BUAs"),_=r(v),E=n("HN2V"),b=r(E),T=n("L8MQ"),S=r(T),w=n("ktak"),O=r(w),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=n("crWv"),A=r(P),R=n("CJML"),M=r(R),k=n("xT2y"),I=n("5UqS"),N=n("xrSP"),L=r(N),j=n("wm+6"),x=r(j),D=function(e){var t=e&&(0,O.default)(e)[0];return t&&t.split("__")[0].split("--")[0]},U=function(e,t,n){if(e){var r=e.split(" ")[0],a=[].concat(o(0===t.length?n.map(function(e){return r+"--"+e.substring(1)}):[]),o(t.map(function(e){return r+"__"+e})));return 0===t.length?[e].concat(o(a)):a}};t.default=a,e.exports=t.default},crC2:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,f,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n("4Dn6"),m=n("Zrtp"),y=a(m),g=n("DtqQ"),v=n("KSGD"),_=a(v),E=n("eyXk"),b=n("c4Rz"),T=n("RH2O"),S=n("/Hzi"),w=a(S),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=(u=e(w.default,{allowMultiple:!0}))((d=f=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleBackClick=function(e){var t=r.props,n=t.popScreen,o=t.screens;e.preventDefault(),n(o)},o=n,s(r,o)}return l(t,e),O(t,[{key:"render",value:function(){var e=this.props,t=e.isBackButtonVisible,n=e.notifications,a=e.onCommunityClose,i=o.get(n,"has_notification_other",!1),s=i?w.default["arrow-left-activity"]:"",l=void 0,u=void 0,c="title";return this.props.title?(l=this.props.title,u=o.truncate(l,{length:g.MAX_HEADER_TITLE_CHARS,separator:" "})):(l="",u="Home",c+=" spacer"),r.createElement("h3",{styleName:"header"},t?r.createElement("span",null,r.createElement(h.Button,{styleName:"back-btn",onClick:this.handleBackClick},r.createElement(y.default,{className:s,glyph:"arrow-left-lg",text:(0,E.__)("Chatroom List")}))):r.createElement("span",{styleName:"community-icon"},r.createElement(y.default,{glyph:"community-lg",text:(0,E.__)("Chat")})),r.createElement("span",{styleName:c,title:l},u),r.createElement("span",null,r.createElement(h.Button,{styleName:"close-btn",onClick:a},r.createElement(y.default,{glyph:"close-lg",text:(0,E.__)("Close")}))))}}]),t}(r.Component),f.propTypes={title:_.default.string,isBackButtonVisible:_.default.bool.isRequired},c=d))||c,P=function(e){return{onCommunityClose:e.window.toggleFn,notifications:e.notifications,screens:e.screen}},A=(0,b.actionsBinder)("popScreen");t.default=(0,T.connect)(P,A)(C)}).call(t,n("211U"),n("U7vG"),n("M4fF"))},d6Sb:function(e,t){var n={};e.exports=n},dSVv:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":g(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":g(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r,o){return e||r?"":(0,x.default)("avatar-circle",{"avatar-circle-default":!o},{"role-mentor":t},{"role-staff":n})}function c(t,n,r,o){if(!t)return e.createElement("span",{styleName:"avatar-default"},e.createElement(_.default,{profile:t,theme:(0,v.getAvatarTheme)()}));var a=function(e){e.preventDefault(),r(t.id)};return n?e.createElement("a",{href:"#",styleName:"message-avatar-link",onFocus:o,onClick:a},e.createElement(_.default,{profile:t,theme:(0,v.getAvatarTheme)()})):e.createElement("span",{styleName:"message-avatar-link"},e.createElement(_.default,{profile:t,theme:(0,v.getAvatarTheme)()}))}function f(t,n){var o=r.get(t,["unreadMentions",n.thread_id],[]).length,a=o>0?"thread-mention":"thread-notification",i=(0,S.displayMentionCount)(o);return e.createElement("span",{styleName:a,"data-mention-count":o>0?i:""})}function d(t,n,o,a,i){if(!(r.get(t,"has_replies",!1)&&r.get(t,"thread.message_count",0)>0))return null;var s=t.thread,l=s.last_message_at,u=s.message_count,c=r.get(i.unread,[s.thread_id,"count"],[])>0,d=r.takeRight(r.filter(s.participants,function(e){return r.has(n,e)}),M.NUM_THREAD_PARTICIPANTS_PREVIEW);return e.createElement("div",{styleName:"message-content-thread"},d.map(function(r){var o={"role-mentor":(0,T.isMessageFromMentor)(t,n[r]),"role-staff":(0,T.isMessageFromStaff)(t,n[r])};return e.createElement("div",{styleName:(0,x.default)(o),key:r},e.createElement(_.default,{profile:n[r],theme:(0,v.getAvatarTheme)()}))}),c&&e.createElement("div",null,f(i,s)),e.createElement("a",{href:"#",onFocus:o,onClick:a},(0,S.makeThreadRepliesSummary)(u)),e.createElement("time",{dateTime:l},(0,b.getCalendarTime)(l)))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p,h,m,y,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=n("mU73"),_=a(v),E=n("j5LV"),b=n("Y6KL"),T=n("lNS7"),S=n("QBEk"),w=n("Upw2"),O=a(w),C=n("D2c0"),P=a(C),A=n("LXwc"),R=a(A),M=n("DtqQ"),k=n("KSGD"),I=a(k),N=n("ecUC"),L=a(N),j=n("HW6M"),x=a(j),D=n("Dji7"),U=a(D),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),q=(p=o(U.default,{allowMultiple:!0}))((y=m=function(t){function n(){var e,t,r,o;i(this,n);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return t=r=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.handleActive=function(){var e=r.props;(0,e.setActive)(e.uuid)},r.handleThreadClick=function(e){var t=r.props,n=t.onThreadClick,o=t.message;e.preventDefault(),n(o.room_id,o.message_id)},o=t,s(r,o)}return l(n,t),F(n,[{key:"render",value:function(){var t=this.props,n=t.active,o=t.message,a=t.showTime,i=t.timeFormat,s=t.showActions,l=t.sameAsPrev,f=t.isMsgFromCurrentUser,p=t.isLastMessage,h=t.isThreadHeader,m=t.profiles,y=t.avatarClickable,g=t.onProfileAvatarClick,v=t.threadingEnabled,_=t.notifications,E=m[o.user_id],w=(0,T.isMessageFromMentor)(o,E),C=(0,T.isMessageFromStaff)(o,E),A=!f&&!l,M=h?"thread-user":f?"this-user":"other-user",k=r.get(E,"photo_url"),I=u(f,w,C,l,k),N=n?"active":"",j=l?"":"triangle";return e.createElement("div",{styleName:"message-container",onMouseEnter:this.handleActive},e.createElement("div",{styleName:"message-avatar"},e.createElement("div",{styleName:I},A&&c(E,y,g,this.handleActive))),e.createElement("div",{styleName:"message-content-container "+M},e.createElement("div",{styleName:"message-content-container-inner "+M},e.createElement("div",{styleName:"message-content-meta"},A&&E&&e.createElement("div",{styleName:"message-content-user"},(0,S.makeUserName)(E.first_name,E.last_name)),A&&w&&e.createElement(P.default,null),A&&C&&e.createElement(L.default,null),a&&e.createElement("time",{dateTime:o.created_at,styleName:"message-content-time"},"short"===i?(0,b.getLocalTime)(o.created_at):(0,b.getCalendarTime)(o.created_at))),e.createElement("div",{styleName:"message-content-row "+M+" "+j+" "+N,tabIndex:0,onFocus:this.handleActive},e.createElement("div",{styleName:"message-content "+M+" "+N},e.createElement(O.default,{className:M,message:o,onProfileAvatarClick:g,me:m.me}))),s&&v&&e.createElement(R.default,{active:n,message:o,isLastMessage:p,onActive:this.handleActive,onThreadClick:this.handleThreadClick})),v&&d(o,m,this.handleActive,this.handleThreadClick,_)))}}]),n}(e.PureComponent),m.propTypes={uuid:I.default.string,active:I.default.bool,setActive:I.default.func,message:E.MessageEventPayloadShape.isRequired,showTime:I.default.bool,timeFormat:I.default.oneOf(["short","long"]),showActions:I.default.bool.isRequired,sameAsPrev:I.default.bool.isRequired,isMsgFromCurrentUser:I.default.bool.isRequired,isLastMessage:I.default.bool.isRequired,isThreadHeader:I.default.bool.isRequired,profiles:I.default.objectOf(E.ProfileShape).isRequired,threadingEnabled:I.default.bool.isRequired,avatarClickable:I.default.bool,onProfileAvatarClick:I.default.func,onThreadClick:I.default.func,notifications:I.default.object},m.defaultProps={active:!1,setActive:function(){},showTime:!0,timeFormat:"short",sameAsPrev:!1,avatarClickable:!1,isLastMessage:!1,isThreadHeader:!1},h=y))||h;t.default=q}).call(t,n("U7vG"),n("M4fF"),n("211U"))},dYhQ:function(e,t,n){function r(e){return o(e)?void 0:e}var o=n("9UkZ");e.exports=r},dt47:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.default.CLEAR_ALL:return{};case a.default.FETCH_CHAT_ROOMS:return{loading:!0};case a.default.FETCH_CHAT_ROOMS_COMPLETE:return t.error?{error:t.payload}:i({},t.payload,{loading:!1});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.lobby=r;var o=n("kQbS"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},dwwA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("DtqQ"),o=n("kQbS"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n("c4Rz");t.default={jumpToBottom:function(e){var t={roomId:e},n={type:r.ScrollType.ABSOLUTE,value:r.ScrollType.BOTTOM};return(0,i.createAction)(a.default.JUMP_TO,n,t)},jumpToPrevious:function(e,t){var n={roomId:e},o={type:r.ScrollType.RELATIVE,value:t};return(0,i.createAction)(a.default.JUMP_TO,o,n)},jumpToMsg:function(e,t){var n={roomId:e},o={type:r.ScrollType.MSG,msg:t};return(0,i.createAction)(a.default.JUMP_TO,o,n)},jumpToCompleted:function(e){var t={roomId:e},n={type:r.ScrollType.NOOP};return(0,i.createAction)(a.default.JUMP_TO_COMPLETED,n,t)}}},e0wB:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("Jyyl"),a=r(o),i=n("deT9"),s=r(i),l=function(e){return s.default.makeGqlRequest(a.default.profilesApiUrl,e)},u=function(e){return'query LocationsQuery {\n    locations(search: "'+e+'") {\n      description\n      location_id\n      }\n  }'},c=function(e){return'query LocationQuery {\n    location(location_id: "'+e+'") {\n      address_components {\n        long_name\n        short_name\n        type\n      }\n      location_id\n    }\n  }\n  '};t.default={fetchProfileLocations:function(t){var n=u(t);return l({query:n}).then(function(t){return e.get(t,"data.locations",[])})},fetchLocation:function(t){var n=c(t);return l({query:n}).then(function(t){return e.get(t,"data.location",null)})}}}).call(t,n("M4fF"))},eLhX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERR_UNABLE_TO_LOAD="Unable to load chat rooms, please try again.",t.ERR_UNABLE_TO_LOAD_ROOM="Unable to load chat room, please try again.",t.ERR_UNABLE_TO_SEND_MSG="Unable to send message",t.ERR_UNABLE_TO_FETCH_MSG="Unable to fetch more messages, please try again.",t.ERR_CONNECTION_LOST="You are no longer connected to the chat room. Check your connection and reload the page.",t.ERR_CONNECTION_RECONNECT="You are no longer connected to the chat room. Attempting to reconnect...",t.ALERT_RECONNECT="Reconnecting",t.ALERT_CONNECTION_LOST="Connection Lost"},eWjT:function(e,t,n){"use strict";e.exports={"<%= count %> classmates active":"<%= count %> colegas de classe ativos","<%= student1 %> has joined<%=timestamp%>.":"<%= student1 %> entrou<%= timestamp %>.","<%= student1 %> and <%= lastStudent %> have joined<%= timestamp %>.":"<%= student1 %> e <%= lastStudent %> entraram<%= timestamp %>.","<%= studentList %>, and <%= lastStudent %> have joined<%= timestamp %>.":"<%= studentList %> e <%= lastStudent %> entraram<%= timestamp %>.","+<%= count %> students have joined<%= timestamp %>.":"+<%= count %> alunos entraram<%= timestamp %>.","<%= count %> new messages":"<%= count %> novas mensagens","<%= numClassmates %> classmate":"<%= numClassmates %> colega","<%= numClassmates %> classmates":"<%= numClassmates %> colegas","1 reply":"1 resposta","<%= count %> replies":"<%= count %> respostas","View 1 reply":"Ver 1 resposta","View <%= count %> replies":"Ver <%= count %> respostas","1 New Activity in your Threads":"1 Nova atividade em seus tópicos","<%= count %> New Activities in your Threads":"<%=count %> Novas atividades em seus tópicos","All Threads":"Todos os tópicos","Thread: <%= roomTitle %>":"Tópico: <%= roomTitle %>","<%= student1 %> and <%= student2 %>":"<%= student1 %> e <%= student2 %>","<%= student1 %>, <%= student2 %>, and <%= student3 %>":"<%= student1 %>, <%= student2 %> e <%= student3 %>","<%= student1 %>, <%= student2 %>, <%= student3 %>, and <%= student4 %>":"<%= student1 %>, <%= student2 %>, <%= student3 %> e <%= student4 %>","<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %>, and <%= student5 %>":"<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %> e <%= student5 %>","<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %>, <%= student5 %>, and 1 other":"<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %>, <%= student5 %> e 1 outro","<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %>, <%= student5 %>, and <%= count %> others":"<%= student1 %>, <%= student2 %>, <%= student3 %>, <%= student4 %>, <%= student5 %> e <%= count %> outros","<%= first_name %>'s original post from <%= date %>":"Post original de <%= first_name %> de <%= date %>","Original post from <%= date %>":"Post original de <%= date %>",Participants:"Participantes","Reply to this message":"Responda a esta mensagem","More actions...":"Mais ações...",Today:"Hoje",Yesterday:"Ontem","Chatroom List":"Lista das salas de bate-papo",Chat:"Chat",Close:"Fechar","Start Chatting!":"Comece a conversar!","Please check your input and try again":"Confira as informações inseridas e tente novamente","Sorry, you are not authorized":"Desculpe, você não tem autorização","Resource not found":"Recurso não encontrado","The request timed out. Please try again later":"A solicitação expirou. Tente novamente mais tarde","Sorry, the server encountered an error. Please try again":"Desculpe, ocorreu um erro no servidor. Tente novamente mais tarde","An error occurred":"Ocorreu um erro","Beginning of the Conversation":"Início da conversa","Unable to fetch more messages, please try again.":"Não foi possível exibir mais mensagens. Tente novamente.","new messages":"novas mensagens","Mark As Read":"Marcar Como Lida","Profile photo":"Foto de perfil",PROFILES:"Perfils",HIDE:"Esconder","Unable to load chat rooms, please try again.":"Não foi possível carregar as salas de bate-papo. Tente novamente.","Unable to load chat room, please try again.":"Não foi possível carregar a sala de bate-papo. Tente novamente.","Up Arrow":"Seta para cima","Down Arrow":"Seta para baixo",General:"Geral","My Classmates":"Meus colegas de classe","There was a problem loading the chatrooms.":"Houve um problema ao carregar as salas de bate-papo.","Study Groups":"Grupos de estudo","Project Channels":"Canais de Projeto",Locked:"Bloqueado","Only allowed to upload one photo":"Só é permitido carregar uma foto","Please upload a .jpg or .png":"Você deve carregar um arquivo .jpg ou .png","Max file size allowed is 5MB":"O arquivo pode ter, no máximo, 5MB","Image must be at least 120px by 120px":"A imagem deve ter, no mínimo, 120px por 120px","Change Photo":"Alterar foto","Add Photo":"Adicione uma foto","You’re one short step away! Fill out your profile to share & connect with your classmates.":"Falta apenas um pequeno passo! Preencha seu perfil, compartilhe-o com seus colegas de classe e se conecte a eles.","Edit your student profile and return to the conversation.":"Edite seu perfil de aluno e retorne à conversa.","Min: 120px by 120px, Max: 5MB":"Tamanho mínimo: 120px por 120px. Máx.: 5MB",remove:"excluir","Where are you studying from?":"De onde você está estudando?",location:"localização","Share my location":"Compartilhar minha localização","Program Enrollments":"Inscrições em Nanodegrees","I agree to adhere to the Udacity":"Concordo em seguir as","Community Guidelines":"Diretrizes de comunidade da Udacity","Information about community guidelines":"Informações sobre diretrizes de comunidade da Udacity","Save and Continue":"Salvar e continuar","Learning From":"Estudando de","Report User Behavior to Support":"Reportar usuário ao suporte","Report User":"Reportar usuário","Report Post":"Reportar mensagem","Edit Student Profile":"Editar o perfil de aluno",zoom:"zoom",rotate:"rotacionar",left:"esquerda",right:"direita","save photo":"salvar foto",cancel:"cancelar","crop photo":"cortar foto","Unable to send message":"Não é possível enviar uma mensagem",Alert:"Atenção","Say hello!":"Diga olá","Share your thoughts":"Compartilhe seus pensamentos","Start a conversation":"Comece uma conversa","Need some help?":"Precisa de alguma ajuda?","Write something":"Escreva algo","Learn together!":"Aprender juntos!","What's on your mind?":"O que está em sua mente?","Enter your city":"Digite a sua cidade","Type to search":"Escreva para pesquisar","You are no longer connected to the chat room. Check your connection and reload the page.":"Você não está mais conectado à sala de bate-papo. Verifique a sua conexão e recarregue a página.","You are no longer connected to the chat room. Attempting to reconnect...":"Você não está mais conectado à sala de bate-papo. Tentando reconectar...",Reconnecting:"Reconectando","Connection Lost":"Conexão perdida","Tip: Use CTRL + CMD + Space keys to enter emojis":"Dica: use CTRL + CMD + tecla de espaço para inserir emojis","Tip: Use 3 back ticks to post code snippets like this...```code goes here```":"Dica: use 3 crase para enviar fragmentos de código como este... ```O código fica aqui```","Tip: Use Shift + Enter to move to the next line":"Dica: Use Shift + Enter para mover para a próxima linha","Tip: Hover over messages to reveal more actions":"Dica: Passe o mouse sobre as mensagens para revelar mais ações."}},ecUC:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Zrtp"),i=o(a),s=n("eyXk"),l=n("Dji7"),u=o(l),c=function(){return e.createElement("div",{styleName:"staff-badge"},e.createElement("span",{styleName:"badge-icon"},e.createElement(i.default,{glyph:"star-small-md-filled",text:(0,s.__)("Staff Icon")})," "),e.createElement("span",{styleName:"staff-badge-label"},(0,s.__)("Udacity Staff")))};t.default=r(u.default,{allowMultiple:!0})(c)}).call(t,n("U7vG"),n("211U"))},efQZ:function(e,t,n){function r(e,t,n,r,T,S,w,O){var C=t&y;if(!C&&"function"!=typeof e)throw new TypeError(h);var P=r?r.length:0;if(P||(t&=~(_|E),r=T=void 0),w=void 0===w?w:b(p(w),0),O=void 0===O?O:p(O),P-=T?T.length:0,t&E){var A=r,R=T;r=T=void 0}var M=C?void 0:u(e),k=[e,t,n,r,T,A,R,S,w,O];if(M&&c(k,M),e=k[0],t=k[1],n=k[2],r=k[3],T=k[4],O=k[9]=void 0===k[9]?C?0:e.length:b(k[9]-P,0),!O&&t&(g|v)&&(t&=~(g|v)),t&&t!=m)I=t==g||t==v?i(e,t,O):t!=_&&t!=(m|_)||T.length?s.apply(void 0,k):l(e,t,n,r);else var I=a(e,t,n);return d((M?o:f)(I,k),e,t)}var o=n("oM53"),a=n("MfeS"),i=n("NqMn"),s=n("b2mn"),l=n("FV3X"),u=n("wKps"),c=n("JH27"),f=n("7I8Q"),d=n("EagF"),p=n("5Zxu"),h="Expected a function",m=1,y=2,g=8,v=16,_=32,E=64,b=Math.max;e.exports=r},emvh:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,f,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n("eLhX"),m=n("Zrtp"),y=a(m),g=n("4Dn6"),v=n("j5LV"),_=n("KSGD"),E=a(_),b=n("sOoA"),T=a(b),S=n("TRr9"),w=a(S),O=n("eyXk"),C=n("c4Rz"),P=n("HW6M"),A=a(P),R=n("RH2O"),M=n("Dji7"),k=a(M),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=(u=e(k.default,{allowMultiple:!0}))((d=f=function(e){function t(e){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,e),I(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.roomId,n=e.myProfile,r=e.fetchRoom,o=e.updateActivity,a=e.messageId;r(t,n.id,a).then(function(){o(t,!0)})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.leaveRoom,n=e.updateActivity,r=e.roomId,o=e.clearEventsList;t(r),n(r,!1),o(r)}},{key:"isRoomLoading",value:function(e){return!!e&&o.get(e,"loading",!1)}},{key:"hasRoomError",value:function(e){return!!e&&o.has(e,"error")}},{key:"isRoomLoaded",value:function(e){return!!e&&o.get(e,"loaded",!1)}},{key:"render",value:function(){var e=this.props,t=e.roomId,n=e.roomTitle,a=e.rooms,i=e.activeThreadMessageId,s=o.get(a,t),l=this.isRoomLoading(s),u=this.hasRoomError(s),c=this.isRoomLoaded(s),f=o.isNumber(i);return l?r.createElement(g.LoadingWrapper,{isLoading:!0}):u?r.createElement("div",{styleName:"room-loading-error"},r.createElement("div",{styleName:"room-loading-error inner"},r.createElement("span",null,r.createElement(y.default,{glyph:"alert-xl",text:(0,O.__)(h.ERR_UNABLE_TO_LOAD_ROOM)}),(0,O.__)(h.ERR_UNABLE_TO_LOAD_ROOM)))):c&&r.createElement("div",{styleName:"room-container"},r.createElement("div",{styleName:(0,A.default)("room-container-inner",{hide:f})},r.createElement(T.default,{room:s,roomTitle:n})),f&&r.createElement("div",{styleName:"room-container-inner"},r.createElement(w.default,{roomId:t,messageId:i,roomTitle:n})))}}]),t}(r.Component),f.propTypes={roomId:E.default.string.isRequired,myProfile:v.ProfileShape.isRequired,activeThreadMessageId:E.default.number,messageId:E.default.number,leaveRoom:E.default.func,fetchRoom:E.default.func,jumpToBottom:E.default.func,updateActivity:E.default.func,clearEventsList:E.default.func},c=d))||c,L=function(e){return{myProfile:e.profiles.me,rooms:e.rooms}},j=(0,C.actionsBinder)("leaveRoom","fetchRoom","jumpToBottom","updateActivity","clearEventsList");t.default=(0,R.connect)(L,j)(N)}).call(t,n("211U"),n("U7vG"),n("M4fF"))},eyXk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__=t.i18n=void 0;var r=n("iknM"),o=n("PJh5"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=t.i18n=new r.I18n(n("Jpmr"),{moment:a.default});t.__=i.__},gXwY:function(e,t,n){"use strict";(function(e,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new(Function.prototype.bind.apply(u,[null].concat(t)))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s="https://analytics-iframe.udacity.com",l=console||e.reduce(["log","error","warn"],function(t,n){return t[n]=e.noop,t},{}),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.config=a({interval:1e3,src:s,threshold:100},e),this.iframe=null,this.queue=[]}return i(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.key,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.config.key=t,!t)throw new Error("No write key specified");var o=this.config.interval;return n.resolve(this.iframe).then(function(n){if(n)throw new Error("Analytics agent is already initialized");return e._push("load",[t]),e._createIframe()}).then(function(t){return e.iframe=t,r&&e._push("useProxy"),setInterval(e.dispatch.bind(e),o),e})}},{key:"dispatch",value:function(){var t=Date.now()+this.config.interval;for(this.queue.length>this.config.threshold&&this._flushAll();this.queue.length>0&&Date.now()<t&&e.isFunction(this.iframe.contentWindow.postMessage);){var n=this.queue.shift()||{};this.iframe.contentWindow.postMessage(JSON.stringify(a({type:"analytics"},n)),this.config.src)}}},{key:"identify",value:function(){var t=this,n=arguments,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.id,a=r.email,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.noop;return this._push("identify",[o,{email:a},null]).then(function(){return t._invoke(i,t,n)})}},{key:"page",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this,a=arguments,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.noop,l=e.assign({},{url:window.location.href,title:document.title,referrer:document.referrer,search:window.location.search,path:document.location.href},r);return this._push("page",[t,n,l,i]).then(function(){return o._invoke(s,o,a)})}},{key:"track",value:function(t,n){var r=this,o=arguments,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.noop;return this._push("track",[t,n,a]).then(function(){return r._invoke(i,r,o)})}},{key:"_createIframe",value:function(){var e=this;return new n(function(t,n){var r=document.createElement("iframe");r.src=e.config.src,r.style.display="none",r.height=0,r.width=0,r["aria-hidden"]="true",r.onload=function(){t(r)};try{document.body.appendChild(r)}catch(e){r.parentNode.removeChild(r),n(new Error("IFrame failed to load: "+e.message))}})}},{key:"_flushAll",value:function(){l.warn("Flushing "+this.queue.length+" events..."),this.queue.length=0}},{key:"_push",value:function(e,t){var r=this;return new n(function(n,o){e||o(new Error("Must supply method")),r.queue.push({method:e,args:t}),n()})}},{key:"_invoke",value:function(t,n,r){return e.isFunction(t)&&t.apply(n,r),r}}]),t}();t.default=u,t.createAgent=o}).call(t,n("M4fF"),n("0Qa9"))},gY9g:function(e,t,n){function r(e,t){return o(i,function(n){var r="_."+n[0];t&n[1]&&!a(e,r)&&e.push(r)}),e.sort()}var o=n("PqYH"),a=n("JUs9"),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=r},gnsU:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("kQbS"),a=r(o),i=n("Z4sO"),s=r(i),l=n("c4Rz");t.default={updateLastVisited:function(e,t,n){return(0,l.createAsyncAction)(a.default.UPDATE_LAST_VISITED,a.default.UPDATE_LAST_VISITED_COMPLETE,function(){return s.default.updateLastVisited(e,t,n)})},fetchThreadNotifications:function(e){return(0,l.createAsyncAction)(a.default.FETCH_THREAD_NOTIFICATIONS,a.default.FETCH_THREAD_NOTIFICATIONS_COMPLETE,function(){return s.default.fetchNotifications(e)})}}},h1vo:function(e,t,n){"use strict";(function(e,r,o,a){function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c,f,d,p,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=n("DtqQ"),y=n("qkBN"),g=i(y),v=n("kcq/"),_=n("eLhX"),E=n("4Dn6"),b=n("KSGD"),T=i(b),S=n("tARb"),w=i(S),O=n("zLFy"),C=i(O),P=n("eyXk"),A=n("c4Rz"),R=n("RH2O"),M=n("v6aw"),k=i(M),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=(c=e(k.default,{allowMultiple:!0}))((p=d=function(e){function t(){var e,n,r,a;s(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleRoomClick=function(e){e.preventDefault(),r.props.pushScreen({screenType:m.Screens.CHAT,roomTitle:e.currentTarget.getAttribute("data-title"),roomId:e.currentTarget.getAttribute("data-id")})},r.handleThreadsClick=function(e){e.preventDefault(),r.props.pushScreen({screenType:m.Screens.THREADLIST})},r.getThreadMentions=function(e){return o.chain(e).filter(function(e,t){return t.toLowerCase().includes("thread")}).map(o.size).values().sum().value()},a=n,l(r,a)}return u(t,e),I(t,[{key:"componentDidMount",value:function(){this.loadChatRooms(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.isCommunityOpen&&!this.props.isCommunityOpen&&this.loadChatRooms(e)}},{key:"loadChatRooms",value:function(e){var t=e.createToast,n=e.fetchChatRooms,r=e.fetchThreadNotifications,i=e.checkWebsocket,s=e.onCommunityClose,l=e.isCommunityOpen,u=e.userData;n(e.ndId).then(function(e){return i(),e}).then(function(e){var t=o.map(o.get(e,"threads"),"room_id");return o.isEmpty(t)?e:r(t)}).then(function(){return l?g.default.track(v.CHATLIST_OPEN,u):a.resolve()}).catch(function(){l&&(t(C.default.createError({message:(0,P.__)(_.ERR_UNABLE_TO_LOAD)})),s())})}},{key:"renderClassmatesGroup",value:function(e,t,n,a){var i=o.get(n,[e.room_id,"count"],0)>0,s=!o.isEmpty(t),l=o.filter(t,function(e){return o.get(n,e.room_id)}),u=!o.isEmpty(l),c=l.length,f=o.get(a,e.room_id,[]).length,d=this.getThreadMentions(a);return r.createElement("div",null,r.createElement("h3",{styleName:"room-title"},(0,P.__)("General")),r.createElement("ul",null,r.createElement("li",{key:e.room_id,styleName:"chatroom-list-item"},r.createElement(w.default,{subpart:e,title:(0,P.__)("My Classmates"),type:"cohort",onRoomClick:this.handleRoomClick,hasUnread:i,mentionCount:f})),s&&r.createElement("li",{key:"threads",styleName:"chatroom-list-item"},r.createElement(w.default,{subpart:t[0],title:(0,P.__)("All Threads"),type:"threads",onRoomClick:this.handleThreadsClick,hasUnread:u,unreadThreadCount:c,mentionCount:d}))))}},{key:"renderStudyGroups",value:function(e,t,n){var a=this;return r.createElement("ul",{styleName:"chatroom-list"},o.map(e,function(e){var i=e.room_title,s=o.get(t,[e.room_id,"count"],0)>0,l=o.get(n,e.room_id,[]).length;return r.createElement("li",{key:e.room_id,styleName:"chatroom-list-item"},r.createElement(w.default,{subpart:e,title:i,type:"project",onRoomClick:a.handleRoomClick,hasUnread:s,mentionCount:l}))}))}},{key:"isLobbyLoaded",value:function(e){return e&&!e.loading&&!e.error&&!o.isEmpty(e.rooms)}},{key:"render",value:function(){var e=this.props,t=e.lobby,n=e.unread,a=e.features,i=e.mentions,s=this.isLobbyLoaded(t),l=!!t.error,u=a.threadingEnabled?t.threads:[],c=o.find(t.rooms,{room_type:m.RoomTypes.COHORT}),f=o.reject(t.rooms,{room_type:m.RoomTypes.COHORT}),d=!o.isEmpty(f);return r.createElement(E.LoadingWrapper,{isLoading:t.loading},l&&r.createElement("div",null,_.ERR_UNABLE_TO_LOAD),s&&r.createElement("div",null,this.renderClassmatesGroup(c,u,n,i),d&&r.createElement("div",null,r.createElement("h3",{styleName:"room-title"},(0,P.__)("Project Channels")),this.renderStudyGroups(f,n,i))))}}]),t}(r.Component),d.propTypes={onCommunityClose:T.default.func.isRequired,ndId:T.default.number.isRequired,lobby:T.default.shape({loading:T.default.bool,error:T.default.shape({stack:T.default.string.isRequired,message:T.default.string.isRequired})})},f=p))||f,L=function(e){return{lobby:e.lobby,isCommunityOpen:e.window.opened,onCommunityClose:e.window.toggleFn,userData:e.userData,unread:e.notifications.unread,mentions:e.notifications.unreadMentions,features:e.window.features}},j=(0,A.actionsBinder)("checkWebsocket","fetchChatRooms","fetchThreadNotifications","pushScreen","createToast");t.default=(0,R.connect)(L,j)(N)}).call(t,n("211U"),n("U7vG"),n("M4fF"),n("0Qa9"))},hrPF:function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},ifSu:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n("qkBN"),f=a(c),d=n("UDxG"),p=a(d),h=n("u5Pr"),m=a(h),y=n("6dSa"),g=a(y),v=n("kcq/"),_=n("DtqQ"),E=n("zLFy"),b=a(E),T=n("eyXk"),S=n("c4Rz"),w=n("RH2O"),O=n("QBEk"),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(t){function n(){var e,t,o,a;i(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return t=o=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(u))),o.state={userLocation:r.get(o.props.profile,"location"),isLoadingLocations:!1,locationPredictions:null,locationQueryTimestamp:null,isCroppingPhoto:!1,showLocation:r.get(o.props.profile,"show_location"),photo_url:r.get(o.props.profile,"photo_url"),photo_base64:null,agreeToGuidelines:!1,editedPhoto:!1,editedGeo:!1,madeGeoPrivate:!1,madeGeoPublic:!0},o.handleRemovePhotoClick=function(e){e.preventDefault(),o.setState({photo_url:"",photo_base64:"",editedPhoto:!0})},o.handlePhotoEditorCloseClick=function(e){e.preventDefault(),o.setState({isCroppingPhoto:!1,photo_base64:null})},o.handleSavePhotoClick=function(e){o.setState({photo_base64:e,isCroppingPhoto:!1,editedPhoto:!0})},o.handleAgreeCheckboxChange=function(e){o.setState({agreeToGuidelines:e.target.checked})},o.trackSaveProfile=function(){var e=o.state,t=e.editedGeo,n=e.editedPhoto,r=e.madeGeoPublic,a=e.madeGeoPrivate,i=o.props.userData,s=C({},i,{editedPhoto:n,editedGeo:t,madeGeoPublic:r,madeGeoPrivate:a});f.default.track(v.SAVE_PROFILE,s)},o.handleSave=function(e){e.preventDefault();var t=o.props,n=t.createProfile,a=t.updateProfile,i=t.profile,s=t.updateScreen,l=t.popScreen,u={};u.location_id=r.get(o.state.userLocation,"location_id",null),u.photo_base64=o.state.photo_base64,u.show_location=o.state.showLocation,i.needs_initializing?n(u).then(function(){s({screenType:_.Screens.HOME})}):a(u).then(function(){l()}),o.trackSaveProfile()},o.handleLocationInputChange=function(e){if(e){var t=new Date,n=function(){return t>=o.state.locationQueryTimestamp};n()&&(o.setState({isLoadingLocations:!0,locationQueryTimestamp:t}),setTimeout(function(){if(n())return o.fetchLocations(e).then(function(e){n()&&o.setState({isLoadingLocations:!1,locationPredictions:e.options})})},300))}},o.handleLocationChange=function(e){o.setState({userLocation:e,editedGeo:!0})},o.handleShowLocationClick=function(){o.setState(function(e){var t=e.showLocation,n=!e.showLocation;return{showLocation:!e.showLocation,madeGeoPublic:n,madeGeoPrivate:t}})},o.verifyPhotoFile=function(e){if(e.length>1)throw new Error((0,T.__)("Only allowed to upload one photo"));var t=r.first(e);if(!r.includes(["image/jpeg","image/jpg","image/png"],t.type))throw new Error((0,T.__)("Please upload a .jpg or .png"));if(t.size>5242880)throw new Error((0,T.__)("Max file size allowed is 5MB"))},o.uploadPhotoFile=function(e,t){var n=t.updateProgress,a=r.first(e);p.default.getBase64(a).then(function(e){var t=new Image;t.onload=function(){if(t.width<120||t.height<120)return void o.props.createToast(b.default.createError({message:(0,T.__)("Image must be at least 120px by 120px")}));n({progress:100}),o.setState({photo_base64:e,isCroppingPhoto:!0})},t.src=e}).catch(function(e){b.default.createError(e)})},a=t,s(o,a)}return l(n,t),P(n,[{key:"fetchLocations",value:function(e){return r.isEmpty(e)?o.resolve({options:[]}):m.default.autocomplete(e).then(function(e){return{options:e}})}},{key:"render",value:function(){var t=this.state,n=t.userLocation,o=t.locationPredictions,a=t.isLoadingLocations,i=t.isCroppingPhoto,s=t.photo_base64,l=t.showLocation,u=t.photo_url,c=t.agreeToGuidelines,f=this.props.profile;return e.createElement("div",null,f&&e.createElement(g.default,{onSubmit:this.handleSave,userLocation:n,onLocationChange:this.handleLocationChange,onLocationInputChange:this.handleLocationInputChange,locationPredictions:o,isLoadingLocations:a,needs_initializing:f.needs_initializing,nanodegrees:r.map(f.nanodegrees,function(e){return e.title}),user:(0,O.makeUserName)(f.first_name,f.last_name),isCroppingPhoto:i,photoUrl:u,photoBase64:s,onRemovePhotoClick:this.handleRemovePhotoClick,onPhotoEditorCloseClick:this.handlePhotoEditorCloseClick,onSavePhotoClick:this.handleSavePhotoClick,showLocation:l,onShowLocationClick:this.handleShowLocationClick,uploadPhotoFile:this.uploadPhotoFile,verifyPhotoFile:this.verifyPhotoFile,agreeToGuidelines:c,onAgreeCheckboxChange:this.handleAgreeCheckboxChange}))}}]),n}(e.Component),R=function(e){return{profile:e.profiles.me,userData:e.userData}},M=(0,S.actionsBinder)("updateScreen","popScreen","createToast","createProfile","updateProfile");t.default=(0,w.connect)(R,M)(A)}).call(t,n("U7vG"),n("M4fF"),n("0Qa9"))},ihMG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.prompts=["Say hello!","Share your thoughts","Need some help?","Tip: Use 3 back ticks to post code snippets like this...```code goes here```","Tip: Use Shift + Enter to move to the next line","Tip: Hover over messages to reveal more actions"]},ikcs:function(e,t,n){function r(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,o(e,a,void 0,void 0,void 0,void 0,t)}var o=n("efQZ"),a=128;e.exports=r},iknM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("DG+v");Object.defineProperty(t,"I18n",{enumerable:!0,get:function(){return r.I18n}}),Object.defineProperty(t,"I18N_CONSTANTS",{enumerable:!0,get:function(){return r.I18N_CONSTANTS}})},"iu+1":function(e,t,n){function r(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=o(e.prototype),r=e.apply(n,t);return a(r)?r:n}}var o=n("VORN"),a=n("yCNF");e.exports=r},j2BQ:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("kQbS"),a=r(o),i=n("Z4sO"),s=r(i),l=n("c4Rz");t.default={fetchChatRooms:function(e){return(0,l.createAsyncAction)(a.default.FETCH_CHAT_ROOMS,a.default.FETCH_CHAT_ROOMS_COMPLETE,function(){return s.default.fetchChatRooms(e)})}}},j5LV:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){switch(e.type){case a.EventTypes.JOINED:return s.default.checkPropTypes(p.isRequired,e,t,n);case a.EventTypes.QUIT:return s.default.checkPropTypes(d.isRequired,e,t,n);case a.EventTypes.MESSAGE:return s.default.checkPropTypes(f.isRequired,e,t,n)}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.RoomShape=t.SocketShape=t.RoomInfoShape=t.ParticipantShape=t.ProfileShape=t.RoleShape=t.StaffRoleShape=t.MentorRoleShape=t.RoleTypeShape=t.EventsShape=t.EventShape=t.QuitEventPayloadShape=t.JoinEventPayloadShape=t.MessageEventPayloadShape=t.ScreensShape=t.ScreenShape=t.FeaturesShape=void 0;var a=n("DtqQ"),i=n("KSGD"),s=r(i),l=n("L8Wf"),u=r(l),c=(t.FeaturesShape=s.default.shape({threadingEnabled:s.default.bool,reportMessageEnabled:s.default.bool,mentionsEnabled:s.default.bool}),t.ScreenShape=s.default.shape({screenType:s.default.string,roomTitle:s.default.string,roomId:s.default.string})),f=(t.ScreensShape=s.default.arrayOf(c),t.MessageEventPayloadShape=s.default.shape({message_id:s.default.number.isRequired,message_id_str:s.default.string.isRequired,user_id:s.default.string.isRequired,content:s.default.oneOfType([s.default.shape({content:s.default.string,mentions:s.default.array}),s.default.string]).isRequired,created_at:s.default.string,updated_at:s.default.string})),d=t.JoinEventPayloadShape=s.default.shape({user_id:s.default.string.isRequired}),p=t.QuitEventPayloadShape=s.default.shape({user_id:s.default.string.isRequired}),h=t.EventShape=s.default.shape({type:s.default.string.isRequired,version:s.default.string.isRequired,timestamp:s.default.string.isRequired,room_id:s.default.string.isRequired,payload:o}),m=t.EventsShape=s.default.arrayOf(h),y=s.default.shape({id:s.default.number.isRequired,key:s.default.string.isRequired,locale:s.default.string,version:s.default.string,title:s.default.string.isRequired,summary:s.default.string,part_type:s.default.string,locked_reason:s.default.string,locked_until:s.default.number}),g=s.default.shape({id:s.default.number.isRequired,key:s.default.string,locale:s.default.string,version:s.default.string,title:s.default.string}),v=s.default.shape({id:s.default.number,key:s.default.string,locale:s.default.string,version:s.default.string,title:s.default.string.isRequired,is_project_lesson:s.default.bool.isRequired}),_=s.default.shape({part:y,lesson:v,module:g}),E=s.default.shape({location_id:s.default.string.isRequired,description:s.default.string}),b=s.default.shape({type:s.default.string.isRequired,id:s.default.number.isRequired,key:s.default.string.isRequired,locale:s.default.string,version:s.default.string.isRequired,title:s.default.string,is_graduated:s.default.bool}),T=t.RoleTypeShape=s.default.oneOf([a.RoleTypes.COMMUNITY_MANAGER,a.RoleTypes.MENTOR,a.RoleTypes.STAFF]),S=t.MentorRoleShape=s.default.shape({bio:s.default.string,certifications:s.default.arrayOf(s.default.string),rooms:s.default.arrayOf(s.default.string)}),w=t.StaffRoleShape=s.default.shape({bio:s.default.string,rooms:s.default.arrayOf(s.default.string)}),O=t.RoleShape=s.default.shape({type:T.isRequired,payload:function(e,t,n){switch(e.type){case a.RoleTypes.MENTOR:return s.default.checkPropTypes(S.isRequired,e,t,n);case a.RoleTypes.STAFF:return s.default.checkPropTypes(w.isRequired,e,t,n);case a.RoleTypes.COMMUNITY_MANAGER:default:return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Validation failed.")}}}),C=(t.ProfileShape=s.default.shape({id:s.default.string.isRequired,first_name:s.default.string.isRequired,last_name:s.default.string.isRequired,nanodegrees:s.default.arrayOf(b),location:E,photo_url:s.default.string,roles:s.default.arrayOf(O)}),t.ParticipantShape=s.default.shape({id:s.default.string.isRequired,first:s.default.string.isRequired,is_active:s.default.bool,type:T}),t.RoomInfoShape=s.default.shape({room_id:s.default.string.isRequired,room_type:s.default.string,room_payload:_,num_members:s.default.number.isRequired,num_active:s.default.number.isRequired,is_available:s.default.bool.isRequired})),P=t.SocketShape=s.default.shape({listener:s.default.instanceOf(u.default),heartbeat:s.default.number,connected:s.default.bool});t.RoomShape=s.default.shape({info:C,events:m,socket:P})},jD7S:function(e,t,n){function r(e,t){return e&&o(t,a(t),e)}var o=n("tv3T"),a=n("ktak");e.exports=r},jMi8:function(e,t,n){function r(e,t,n,r,v,_,E){var b=e[n],T=t[n],S=E.get(T);if(S)return void o(e,n,S);var w=_?_(b,T,n+"",e,t,E):void 0,O=void 0===w;if(O){var C=c(T),P=!C&&d(T),A=!C&&!P&&y(T);w=T,C||P||A?c(b)?w=b:f(b)?w=s(b):P?(O=!1,w=a(T,!0)):A?(O=!1,w=i(T,!0)):w=[]:m(T)||u(T)?(w=b,u(b)?w=g(b):(!h(b)||r&&p(b))&&(w=l(T))):O=!1}O&&(E.set(T,w),v(w,T,r,_,E),E.delete(T)),o(e,n,w)}var o=n("O1jc"),a=n("mKB/"),i=n("Ilb/"),s=n("hrPF"),l=n("WQFf"),u=n("1Yb9"),c=n("NGEn"),f=n("Fp5l"),d=n("ggOT"),p=n("gGqR"),h=n("yCNF"),m=n("9UkZ"),y=n("YsVG"),g=n("TlPD");e.exports=r},jQYE:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("U7vG"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n("KSGD"),f=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n("Isy5"),p=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"getChildContext",value:function(){var e;return e={},r(e,d.ENHANCER_CONTEXT_NAME,this.props.enhancer),r(e,d.PROPS_DECORATOR_CONTEXT_NAME,this.props.propsDecorator),e}},{key:"render",value:function(){return u.Children.only(this.props.children)}}]),t}(u.Component);t.default=p,p.propTypes={enhancer:f.default.func,propsDecorator:f.default.func,children:f.default.element.isRequired},p.childContextTypes=d.ContextTypes,p.displayName="EnhancerProvider",e.exports=t.default},kQbS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CLEAR_ALL:"CLEAR_ALL",FETCH_CHAT_ROOMS:"FETCH_CHAT_ROOMS",FETCH_CHAT_ROOMS_COMPLETE:"FETCH_CHAT_ROOMS_COMPLETE",UPDATE_MESSAGES:"UPDATE_MESSAGES",UPDATE_MESSAGES_COMPLETE:"UPDATE_MESSAGES_COMPLETE",UPDATE_MESSAGES_FAILURE:"UPDATE_MESSAGES_FAILURE",UPDATE_LAST_VISITED:"UPDATE_LAST_VISITED",UPDATE_LAST_VISITED_COMPLETE:"UPDATE_LAST_VISITED_COMPLETE",FETCH_THREAD_NOTIFICATIONS:"FETCH_THREAD_NOTIFICATIONS",FETCH_THREAD_NOTIFICATIONS_COMPLETE:"FETCH_THREAD_NOTIFICATIONS_COMPLETE",UPDATE_SCREEN:"UPDATE_SCREEN",PUSH_SCREEN:"PUSH_SCREEN",POP_SCREEN:"POP_SCREEN",UPDATE_WINDOW:"UPDATE_WINDOW",SET_USER_DATA:"SET_USER_DATA",FETCH_ROOM:"FETCH_ROOM",FETCH_ROOM_COMPLETE:"FETCH_ROOM_COMPLETE",LEAVE_ROOM:"LEAVE_ROOM",CLEAR_EVENT_LIST:"CLEAR_EVENT_LIST",FETCH_MORE_MESSAGES:"FETCH_MORE_MESSAGES",FETCH_MORE_MESSAGES_COMPLETE:"FETCH_MORE_MESSAGES_COMPLETE",FETCH_PROFILE:"FETCH_PROFILE",FETCH_PROFILE_COMPLETE:"FETCH_PROFILE_COMPLETE",FETCH_PARTICIPANTS:"FETCH_PARTICIPANTS",FETCH_PARTICIPANTS_COMPLETE:"FETCH_PARTICIPANTS_COMPLETE",CLEAR_PARTICIPANTS:"CLEAR_PARTICIPANTS",LOAD_PROFILES:"LOAD_PROFILES",RESOLVED_PROFILES:"RESOLVED_PROFILES",CREATE_PROFILE:"CREATE_PROFILE",CREATE_PROFILE_COMPLETE:"CREATE_PROFILE_COMPLETE",UPDATE_PROFILE:"UPDATE_PROFILE",UPDATE_PROFILE_COMPLETE:"UPDATE_PROFILE_COMPLETE",SOCKET_OPEN:"SOCKET_OPEN",SOCKET_CLOSE:"SOCKET_CLOSE",SOCKET_EVENT:"SOCKET_EVENT",SOCKET_CONNECTED:"SOCKET_CONNECTED",SOCKET_DISCONNECTED:"SOCKET_DISCONNECTED",CREATE_TOAST:"CREATE_TOAST",REMOVE_TOAST:"REMOVE_TOAST",JUMP_TO:"JUMP_TO",JUMP_TO_COMPLETED:"JUMP_TO_COMPLETED"}},kViW:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return t in e?m({},e[t]):{}}function i(e,t,n){if(!t||!n)return e;var r=m({},e);return r[t]=n,r}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case c.default.CLEAR_ALL:return{};case c.default.CLEAR_EVENT_LIST:var r=n.payload,s=m({},e.get(t,r));return s.events=[],m({},t,o({},r,s));case c.default.FETCH_ROOM:var u=n.payload,d=a(t,u);return d.loading=!0,d.loaded=!1,i(t,u,d);case c.default.FETCH_ROOM_COMPLETE:if(n.error){var g=n.meta.roomId,v=a(t,g);return v.error=n.payload,i(t,g,v)}var _=n.meta.roomId,E=n.payload,b=E.info,T=E.messages,S=a(t,_);return S.loading=!1,S.loaded=!0,S.pagination={fetching_prev:!1,fetching_next:!1,cursor:T.cursor},S.info=m({},b,{num_active:e.get(b,"num_active",0)+1}),S.events=e.map(T?T.messages:[],y(_)),i(t,_,S);case c.default.FETCH_PARTICIPANTS:var w=n.meta.roomId,O=a(t,w);return O.participants={loading:!0},i(t,w,O);case c.default.FETCH_PARTICIPANTS_COMPLETE:var C=n.meta.roomId,P=a(t,C);if(n.error)return P.participants={loading:!1,error:!0},i(t,C,P);var A=n.payload;return P.participants={loading:!1,loaded:!0,active:A.active||[],inactive:A.inactive||[],admins:A.admins||[]},i(t,C,P);case c.default.CLEAR_PARTICIPANTS:var R=n.payload,M=a(t,R);return M.participants={},i(t,R,M);case c.default.LEAVE_ROOM:var k=n.payload,I=a(t,k);return e.has(I,["ui","pending","delay"])&&I.ui.pending.delay.cancel(),i(t,k,{});case c.default.FETCH_MORE_MESSAGES:var N=n.meta,L=N.roomId,j=N.prev,x=a(t,L);return x.pagination=m({},x.pagination,{fetching_prev:j,fetching_next:!j}),i(t,L,x);case c.default.FETCH_MORE_MESSAGES_COMPLETE:var D=n.meta.roomId;if(n.error){var U=a(t,D);return U.pagination=m({},U.pagination,{fetching_prev:!1,fetching_next:!1,error:n.payload}),i(t,D,U)}var F=n.payload,q=F.cursor,B=F.messages,G=B.map(y(D)),H=a(t,D),W=void 0;return e.get(H,["pagination","fetching_prev"])?(H.events=e.concat(G,H.events),W=m({},H.pagination.cursor,{prev:q.prev,has_prev:q.has_prev})):(G=e.drop(G,1),H.events=e.concat(H.events,G),W=m({},H.pagination.cursor,{next:q.next,has_next:q.has_next})),H.pagination={fetching_prev:!1,fetching_next:!1,cursor:W},i(t,D,H);case c.default.UPDATE_MESSAGES:var z=n.payload,K=z.message,V=z.timestamp,Q=z.messageId,Y=z.roomId,J=z.userId,X=a(t,Y),Z=Array.from(X.events||[]),$={type:l.EventTypes.MESSAGE,version:"v1.2.0",timestamp:V.toISOString(),room_id:Y,payload:{user_id:J,message_id:Q,message_id_str:Q.toString(),content:K,created_at:V.toISOString(),updated_at:""}};return Z.push($),X.events=Z,X.sent=e.concat(X.sent||[],K),i(t,Y,X);case c.default.UPDATE_MESSAGES_COMPLETE:case c.default.UPDATE_MESSAGES_FAILURE:var ee=n.payload,te=ee.messageId,ne=ee.userId,re=ee.roomId,oe=ee.result,ae=a(t,re),ie=Array.from(ae.events||[]),se=e.findIndex(ie,function(e){return e.type===l.EventTypes.MESSAGE&&e.payload.message_id===te&&e.payload.user_id===ne});if((0,p.default)(se>=0,"couldn't find event that needs replacing"),n.type===c.default.UPDATE_MESSAGES_COMPLETE){var le=Object.assign({},ie[se],{payload:oe});ie[se]=le}else{var ue=Object.assign({},ie[se]);ue.delivery_error=!0,ie[se]=ue;var ce=Array.from(e.get(ae,"sent",[])),fe=e.indexOf(ce,ue.payload.content);se>=0&&ce.splice(fe,1),ae.sent=ce}return ae.events=ie,i(t,re,ae);case c.default.SOCKET_EVENT:if(n.error)return t;var de=n.payload,pe=n.meta,he=pe.roomId,me=pe.userId;if((0,p.default)(he,"no room ID specified"),(0,p.default)(de.room_id===he,"unexpected room.  Got "+de.room_id+", expected "+he),de.type===l.EventTypes.REPLY)return(0,f.handleReplyEvent)(t,me,de);var ye=a(t,he);if(!e.get(ye,"loaded",!1))return t;var ge=Array.from(ye.events||[]);switch(de.type){case l.EventTypes.QUIT:var ve=de.payload.user_id,_e=e.find(e.get(n,"meta.resolved",[]),function(e){return e.id===ve});if(ye.info=m({},ye.info,{num_active:Math.max(0,ye.info.num_active-1)}),ye.participants=(0,h.updateParticipants)(ye.participants,_e,me,!1),ge.length>0&&ge[ge.length-1].type===l.EventTypes.JOINED){var Ee=ge[ge.length-1];Ee.payload.users=e.without(Ee.payload.users||[Ee.payload.user_id],ve),0===Ee.payload.users.length&&ge.splice(ge.length-1,1)}break;case l.EventTypes.JOINED:var be=de.payload.user_id,Te=e.find(e.get(n,"meta.resolved",[]),function(e){return e.id===be});if(me===be)break;if(ye.info=m({},ye.info,{num_active:ye.info.num_active+1}),ye.participants=(0,h.updateParticipants)(ye.participants,Te,me,!0),ge.length>0&&ge[ge.length-1].type===l.EventTypes.JOINED){var Se=ge[ge.length-1];Se.payload.users=e.union(Se.payload.users||[Se.payload.user_id],[be])}else ge.push(de);break;case l.EventTypes.MESSAGE:var we=e.get(ye,"sent",[]),Oe=de.payload.content,Ce=e.findIndex(we,{message:Oe});if(de.payload.user_id===me&&Ce>=0){ye.sent=e.concat(e.slice(we,0,Ce),e.slice(we,Ce+1));break}ge.push(de);break;default:return t}return ye.events=ge,i(t,he,ye);case c.default.JUMP_TO:case c.default.JUMP_TO_COMPLETED:var Pe=n.meta.roomId;(0,p.default)(Pe,"expected roomId in meta");var Ae=a(t,Pe);return Ae.ui=m({},Ae.ui,{scrollTo:m({},n.payload)}),i(t,Pe,Ae);default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.rooms=s;var l=n("DtqQ"),u=n("kQbS"),c=r(u),f=n("uxXQ"),d=n("crWv"),p=r(d),h=n("lNS7"),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y=function(e){return function(t){return{type:"message",version:"v1.1.0",timestamp:t.created_at,room_id:e,payload:t}}}}).call(t,n("M4fF"))},"kcq/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UCHAT_START="UChat Start Session",t.UCHAT_END="UChat End Session",t.CHATLIST_OPEN="UChat List Open",t.PROFILE_BAR_OPEN="UChat Profiles Bar Open",t.PROFILE_BAR_CLOSE="UChat Profiles Bar Close",t.SEND_MESSAGE="UChat Send Message",t.SAVE_PROFILE="UChat Save Profile",t.VIEW_PROFILE="UChat View Profile",t.DISPLAY_PROFILE="UChat Display Profile",t.REPORT_BEHAVIOR="UChat Report Behavior",t.ENTER_ROOM="UChat Enter Room",t.LEAVE_ROOM="UChat Leave Room",t.ACTION_REPORT_MESSAGE="UChat Action Report Message",t.ACTION_VIEW_THREAD="UChat Action View Thread",t.ACTION_VIEW_MORE="UChat Action More"},kjQF:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];switch(n.type){case s.default.CLEAR_ALL:return[];case s.default.UPDATE_SCREEN:return[c({},n.payload)];case s.default.PUSH_SCREEN:return[].concat(o(t),[c({},n.payload)]);case s.default.POP_SCREEN:return(0,u.default)(e.size(t)>0,"tried to pop a non-existant screen"),e.dropRight(t,1);default:return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.screen=a;var i=n("kQbS"),s=r(i),l=n("crWv"),u=r(l),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}).call(t,n("M4fF"))},ksUF:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":d(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":d(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,f,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n("crC2"),h=o(p),m=n("KSGD"),y=o(m),g=n("TRr9"),v=o(g),_=n("eyXk"),E=n("/Hzi"),b=o(E),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=(l=e(b.default,{allowMultiple:!0}))((f=c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),T(t,[{key:"render",value:function(){var e=this.props,t=e.roomId,n=e.roomTitle,o=e.messageId;return r.createElement("div",{styleName:"thread-screen"},r.createElement(h.default,{title:(0,_.__)("Thread: <%= roomTitle %>",{roomTitle:n}),isBackButtonVisible:!0}),r.createElement(v.default,{roomId:t,roomTitle:n,messageId:o}))}}]),t}(r.Component),c.propTypes={roomId:y.default.string.isRequired,roomTitle:y.default.string.isRequired,messageId:y.default.number.isRequired},u=f))||u;t.default=S}).call(t,n("211U"),n("U7vG"))},ktnU:function(e,t,n){function r(e,t){return o(t,function(t){return e[t]})}var o=n("Hxdr");e.exports=r},kyYn:function(e,t){var n={id:"__id__",display:"__display__",type:"__type__"},r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e,t){return e=null===e?Number.MAX_VALUE:e,t=null===t?Number.MAX_VALUE:t,e-t};e.exports={escapeHtml:function(e){var t=function(t){return e[t]},n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(r);var o="(?:"+n.join("|")+")",a=RegExp(o),i=RegExp(o,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(i,t):e}}(r),escapeRegex:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},markupToRegex:function(e,t){var r=this.escapeRegex(e);return r=r.replace(n.display,"(.+?)"),r=r.replace(n.id,"(.+?)"),r=r.replace(n.type,"(.+?)"),t&&(r+="$"),new RegExp(r,"g")},spliceString:function(e,t,n,r){return e.substring(0,t)+r+e.substring(n)},extend:function(e){for(var t,n,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(n in t)hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},getPositionOfCapturingGroup:function(e,t){if("id"!==t&&"display"!==t&&"type"!==t)throw new Error("parameterName must be 'id', 'display', or 'type'");var r=e.indexOf(n.display),a=e.indexOf(n.id),i=e.indexOf(n.type);if(r<0&&(r=null),a<0&&(a=null),i<0&&(i=null),null===r&&null===a)throw new Error("The markup `"+e+"` must contain at least one of the placeholders `__id__` or `__display__`");if(null===i&&"type"===t)return null;var s=[r,a,i].sort(o);return null===r&&(r=a),null===a&&(a=r),"id"===t?s.indexOf(a):"display"===t?s.indexOf(r):"type"===t?null===i?null:s.indexOf(i):void 0},iterateMentionsMarkup:function(e,t,n,r,o){for(var a,i=this.markupToRegex(t),s=this.getPositionOfCapturingGroup(t,"display"),l=this.getPositionOfCapturingGroup(t,"id"),u=this.getPositionOfCapturingGroup(t,"type"),c=0,f=0;null!==(a=i.exec(e));){var d=a[l+1],p=a[s+1],h=null!==u?a[u+1]:null;o&&(p=o(d,p,h));var m=e.substring(c,a.index);n(m,c,f),f+=m.length,r(a[0],a.index,f,d,p,h,c),f+=p.length,c=i.lastIndex}c<e.length&&n(e.substring(c),c,f)},mapPlainTextIndex:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"START",o=arguments[4];if(!this.isNumber(n))return n;var a,i=function(e,t,r){void 0===a&&r+e.length>=n&&(a=t+n-r)},s=function(e,t,o,i,s,l,u){void 0===a&&o+s.length>n&&(a="NULL"===r?null:t+("END"===r?e.length:0))};return this.iterateMentionsMarkup(e,t,i,s,o),void 0===a?e.length:a},findStartOfMentionInPlainText:function(e,t,n,r){var o=n,a=!1,i=function(e,t,r,i,s,l,u){r<=n&&r+s.length>n&&(o=r,a=!0)};if(this.iterateMentionsMarkup(e,t,function(){},i,r),a)return o},isInsideOfMention:function(e,t,n,r){var o=this.findStartOfMentionInPlainText(e,t,n,r);return void 0!==o&&o!==n},applyChangeToValue:function(e,t,n,r,o,a,i){var s=this.getPlainText(e,t,i),l=s.length-n.length;"undefined"===r&&(r=a+l),"undefined"===o&&(o=r),r===o&&o===a&&s.length===n.length&&(r-=1);var u=n.slice(r,a),c=Math.min(r,a),f=o;r===a&&(f=Math.max(o,r+l));var d=this.mapPlainTextIndex(e,t,c,"START",i),p=this.mapPlainTextIndex(e,t,f,"END",i),h=this.mapPlainTextIndex(e,t,c,"NULL",i),m=this.mapPlainTextIndex(e,t,f,"NULL",i),y=null===h||null===m,g=this.spliceString(e,d,p,u);if(!y){var v=this.getPlainText(g,t,i);if(v!==n){for(c=0;n[c]===v[c];)c++;u=n.slice(c,a),f=s.lastIndexOf(n.substring(a)),d=this.mapPlainTextIndex(e,t,c,"START",i),p=this.mapPlainTextIndex(e,t,f,"END",i),g=this.spliceString(e,d,p,u)}}return g},getPlainText:function(e,t,n){var r=this.markupToRegex(t),o=this.getPositionOfCapturingGroup(t,"id"),a=this.getPositionOfCapturingGroup(t,"display"),i=this.getPositionOfCapturingGroup(t,"type");return e.replace(r,function(){var e=arguments[o+1],t=arguments[a+1],r=arguments[i+1];return n&&(t=n(e,t,r)),t})},getMentions:function(e,t,n){var r=[];return this.iterateMentionsMarkup(e,t,function(){},function(e,t,n,o,a,i,s){r.push({id:o,display:a,type:i,index:t,plainTextIndex:n})},n),r},getEndOfLastMention:function(e,t,n){var r=this.getMentions(e,t,n),o=r[r.length-1];return o?o.plainTextIndex+o.display.length:0},makeMentionsMarkup:function(e,t,r,o){var a=e.replace(n.id,t);return a=a.replace(n.display,r),a=a.replace(n.type,o)},countSuggestions:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=e[n].results.length);return t},getSuggestions:function(e){var t=[];for(var n in e){if(!e.hasOwnProperty(n))return;t=t.concat({suggestions:e[n].results,descriptor:e[n]})}return t},getSuggestion:function(e,t){return this.getSuggestions(e).reduce(function(e,t){var n=t.suggestions,r=t.descriptor;return[].concat(e,n.map(function(e){return{suggestion:e,descriptor:r}}))},[])[t]}}},lMBm:function(e,t,n){function r(e){return a(function(t){var n=t.length,r=n,a=o.prototype.thru;for(e&&t.reverse();r--;){var m=t[r];if("function"!=typeof m)throw new TypeError(c);if(a&&!y&&"wrapper"==s(m))var y=new o([],!0)}for(r=y?r:n;++r<n;){m=t[r];var g=s(m),v="wrapper"==g?i(m):void 0;y=v&&u(v[0])&&v[1]==(p|f|d|h)&&!v[4].length&&1==v[9]?y[s(v[0])].apply(y,v[3]):1==m.length&&u(m)?y[g]():y.thru(m)}return function(){var e=arguments,r=e[0];if(y&&1==e.length&&l(r))return y.plant(r).value();for(var o=0,a=n?t[o].apply(this,e):r;++o<n;)a=t[o].call(this,a);return a}})}var o=n("6o+p"),a=n("2N6f"),i=n("wKps"),s=n("K96V"),l=n("NGEn"),u=n("5DDM"),c="Expected a function",f=8,d=32,p=128,h=256;e.exports=r},lNS7:function(e,t,n){"use strict";(function(e){function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(t,n,o,a){if(!n)return t;if(!e.get(t,"loaded",!1))return t;var i=e.findIndex(t.admins,{id:n.id});if(i>=0){var s=t.admins;return _({},t,{admins:[].concat(r(e.slice(s,0,i)),[_({},s[i],{is_active:a})],r(e.slice(s,i+1)))})}var l={id:n.id,first:n.first_name},u=function(e){return o===e.id&&a?"0-"+e.first.toLowerCase():"1-"+e.first.toLowerCase()},c=e.filter(t.inactive,function(e){return e.id!==n.id}),f=e.filter(t.active,function(e){return e.id!==n.id});if(a){var d=e.sortedIndexBy(f,l,u);f.splice(d,0,l)}else{var p=e.sortedIndexBy(c,l,u);c.splice(p,0,l)}return _({},t,{active:f,inactive:c})}function a(e){switch(e.type){case m.EventTypes.MESSAGE:return e.payload.user_id+"-"+e.payload.message_id;case m.EventTypes.JOINED:case m.EventTypes.QUIT:return e.payload.user_id+"-"+e.timestamp+"-"+(e.payload.users||[]).length;default:return(0,v.default)(!1,"unexpected event "+e.type+" received"),(new Date).toISOString()}}function i(t,n){for(var r={getBoundingClientRect:function(){return{y:t.y,height:0}}},o=e.sortedIndexBy(n,r,function(e){var t=e.getBoundingClientRect();return t.y+.5*t.height}),a=[],i=o;i<n.length&&l(t,n[i]);i++)a.push(n[i]);return a}function s(e,t){return 0===e.length?t:e.length>t.length?[]:t.slice(e.length)}function l(e,t){var n=t.getBoundingClientRect();return n.y+.5*n.height>=e.y&&n.y+.5*n.height<=e.y+e.height}function u(t){switch(t.room_type){case m.RoomTypes.COHORT:return(0,y.__)("My Classmates");case m.RoomTypes.PART:return e.truncate(e.get(t,"room_payload.part.title",""),{length:m.MAX_LESSONS_TITLE_CHARS,separator:" "});case m.RoomTypes.PROJECT:var n=e.get(t,"room_payload.lesson.title","");return e.truncate(n,{length:m.MAX_PROJECT_TITLE_CHARS,separator:" "});default:(0,v.default)(!1,"unexpected room_type "+t.room_type+" encountered")}}function c(t,n){return e.chain(t.roles).filter(function(e){return e.type===m.RoleTypes.MENTOR}).map(function(e){return e.payload.rooms}).flatten().filter(function(e){return e===n}).size().value()>0}function f(t,n){return c(n,e.has(t,"parent_room_id")?t.parent_room_id:t.room_id)}function d(t,n){return e.chain(t.roles).filter(function(e){return e.type===m.RoleTypes.STAFF}).map(function(e){return e.payload.rooms}).flatten().filter(function(e){return e===n}).size().value()>0}function p(t,n){return d(n,e.has(t,"parent_room_id")?t.parent_room_id:t.room_id)}function h(t){return e.get(t,"info.room_type")===m.RoomTypes.THREAD?e.get(t,"info.room_payload.room_id"):e.get(t,"info.room_id")}Object.defineProperty(t,"__esModule",{value:!0}),t.updateParticipants=o,t.toListKey=a,t.getElementsInView=i,t.getNewEvents=s,t.isEventInView=l,t.getRoomTitle=u,t.isMentorInRoom=c,t.isMessageFromMentor=f,t.isStaffInRoom=d,t.isMessageFromStaff=p,t.getRoomId=h;var m=n("DtqQ"),y=n("eyXk"),g=n("crWv"),v=function(e){return e&&e.__esModule?e:{default:e}}(g),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}).call(t,n("M4fF"))},mE8M:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":p(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":p(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u,c,f,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=n("mU73"),m=a(h),y=n("kcq/"),g=n("lNS7"),v=n("qkBN"),_=a(v),E=n("D2c0"),b=a(E),T=n("9I0a"),S=a(T),w=n("Bl2K"),O=a(w),C=n("Wzbc"),P=a(C),A=n("j5LV"),R=n("KSGD"),M=a(R),k=n("DtqQ"),I=n("ecUC"),N=a(I),L=n("c4Rz"),j=n("HW6M"),x=a(j),D=n("RH2O"),U=n("QBEk"),F=n("Yz2p"),q=a(F),B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),H=(u=e(q.default,{allowMultiple:!0}))((d=f=function(e){function t(){var e,n,r,o;i(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleEditProfileClick=function(e){e.preventDefault(),r.props.pushScreen({screenType:k.Screens.PROFILE})},r.handleTrackReportBehavior=function(){var e=r.props,t=e.userData,n=e.profile,o=B({},t,{reported_profile:n.id});_.default.track(y.REPORT_BEHAVIOR,o)},o=n,s(r,o)}return l(t,e),G(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.userData,n=e.profile,r=B({},t,{viewed_profile:n.id});_.default.track(y.VIEW_PROFILE,r)}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.myProfile,a=e.userData,i=e.roomId,s=o.get(a,"ndKey"),l=(0,g.isMentorInRoom)(t,i),u=(0,g.isStaffInRoom)(t,i),c={"role-mentor":l,"role-staff":u};return r.createElement("div",{"aria-describedby":t.id},r.createElement("div",{styleName:(0,x.default)("display-header",c)},r.createElement("div",{styleName:"display-avatar"},r.createElement(m.default,{profile:t,theme:(0,h.getAvatarTheme)(h.AvatarTypes.PROFILE,l,u),size:45})),r.createElement("div",{styleName:"display-user-name-container"},r.createElement("h5",{styleName:"display-user-name"},(0,U.makeUserName)(t.first_name,t.last_name)),l&&r.createElement(b.default,null),u&&r.createElement(N.default,null))),r.createElement("div",{styleName:"display-content"},l||u?l?r.createElement(S.default,{profile:t}):r.createElement(O.default,{profile:t}):r.createElement(P.default,{profile:t,ndKey:s,viewerId:n.id,onEditProfileClick:this.handleEditProfileClick,onReportBehaviourClick:this.handleTrackReportBehavior})))}}]),t}(r.Component),f.propTypes={profile:A.ProfileShape,roomId:M.default.string.isRequired},c=d))||c,W=function(e){return{myProfile:e.profiles.me,userData:e.userData}},z=(0,L.actionsBinder)("pushScreen");t.default=(0,D.connect)(W,z)(H)}).call(t,n("211U"),n("U7vG"),n("M4fF"))},"mKB/":function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}var o=n("TQ3y"),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?o.Buffer:void 0,u=l?l.allocUnsafe:void 0;e.exports=r}).call(t,n("3IRH")(e))},mU73:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(e.toString().length>=15)return e;for(var t=e.toString();t.length<15;)t+=e;return t.slice(0,16)}Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarTypes=t.AvatarThemes=t.getAvatarTheme=t.Avatar=t.THEME_TO_CLASS_NAME=t.makeIdenticon=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.cycleId=u;var f=n("y3LU");Object.defineProperty(t,"getAvatarTheme",{enumerable:!0,get:function(){return f.getAvatarTheme}});var d=n("XZDv");Object.defineProperty(t,"AvatarThemes",{enumerable:!0,get:function(){return d.AvatarThemes}}),Object.defineProperty(t,"AvatarTypes",{enumerable:!0,get:function(){return d.AvatarTypes}});var p,h,m,y,g=n("KiQM"),v=a(g),_=n("j5LV"),E=n("KSGD"),b=a(E),T=n("eyXk"),S=n("IeOD"),w=a(S),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=t.makeIdenticon=e.memoize(function(e,t){return"data:image/png;base64,"+new v.default(""+u(e),t).toString()},function(e,t){return e+" "+t}),P=t.THEME_TO_CLASS_NAME={DEFAULT:"avatar-img",PROFILE_DEFAULT:"display-avatar-img",PROFILE_MENTOR:"display-avatar-img-mentor",PROFILE_STAFF:"display-avatar-img-staff",PARTICIPANT:"participant-avatar",SUGGESTION_DEFAULT:"suggestion",SUGGESTION_MENTOR:"suggestion-mentor",SUGGESTION_STAFF:"suggestion-staff"},A=t.Avatar=(p=r(w.default,{allowMultiple:!0}))((y=m=function(t){function n(){var e,t,r,o;i(this,n);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return t=r=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.state={hasError:!1},r._isMounted=!1,r.handleProfileImageLoadingError=function(){r._isMounted&&r.setState({hasError:!0})},o=t,s(r,o)}return l(n,t),O(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"render",value:function(){var t=this.props,n=t.profile,r=t.participant,a=t.theme,i=t.size,s=this.state.hasError,l=n||r,u=l.id,c=l.photo_url,f=l.first_name,d=l.last_name,p=c&&!s,h=f+d||"anonymous",m=!n||e.isEmpty(n),y=P[a];return m?o.createElement("div",{styleName:y+" no-photo-loading","data-tst":"default-gray"}):p?o.createElement("img",{src:c,alt:(0,T.__)("Profile photo "),"data-tst":"profile-pic","data-image-id":u,styleName:y,title:h,onError:this.handleProfileImageLoadingError}):o.createElement("img",{styleName:y,"data-image-id":u,"data-tst":"default-identicon",title:h,alt:(0,T.__)("Profile photo "),src:C(u,i),onError:this.handleProfileImageLoadingError})}}]),n}(o.PureComponent),m.propTypes={profile:_.ProfileShape.isRequired,participant:b.default.object.isRequired,type:b.default.oneOf(P),size:b.default.number},m.defaultProps={participant:{},size:25,theme:d.AvatarThemes.DEFAULT},h=y))||h;t.default=A}).call(t,n("M4fF"),n("211U"),n("U7vG"))},mYw3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popScreen=t.pushScreen=t.updateScreen=void 0;var r=n("kQbS"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n("c4Rz");t.updateScreen=function(e){return(0,a.createAction)(o.default.UPDATE_SCREEN,e)},t.pushScreen=function(e){return(0,a.createAction)(o.default.PUSH_SCREEN,e)},t.popScreen=function(e){var t=void 0;return e&&e.length>=2&&(t=e[e.length-2]),(0,a.createAction)(o.default.POP_SCREEN,t)}},mZZ9:function(e,t){e.exports={icon:"ureact-glyph-module--icon--2mIiH","icon-absent-sm":"ureact-glyph-module--icon-absent-sm--1fao2","icon-add-sm":"ureact-glyph-module--icon-add-sm--1weB-","icon-afternoon-sm":"ureact-glyph-module--icon-afternoon-sm--3tr8k","icon-alert-md":"ureact-glyph-module--icon-alert-md--aNGAA","icon-alert-sm":"ureact-glyph-module--icon-alert-sm--1V00Z","icon-alert-xl":"ureact-glyph-module--icon-alert-xl--2-bLc","icon-arrow-down-lg":"ureact-glyph-module--icon-arrow-down-lg--2a_qy","icon-arrow-down-md":"ureact-glyph-module--icon-arrow-down-md--26K2p","icon-arrow-down-sm":"ureact-glyph-module--icon-arrow-down-sm--3th8T","icon-arrow-left-lg":"ureact-glyph-module--icon-arrow-left-lg--37Pb9","icon-arrow-left-md":"ureact-glyph-module--icon-arrow-left-md--1oRr5","icon-arrow-left-sm":"ureact-glyph-module--icon-arrow-left-sm--3cn5D","icon-arrow-right-lg":"ureact-glyph-module--icon-arrow-right-lg--3RZaf","icon-arrow-right-md":"ureact-glyph-module--icon-arrow-right-md--3O6Oe","icon-arrow-right-sm":"ureact-glyph-module--icon-arrow-right-sm--3BNQh","icon-arrow-up-lg":"ureact-glyph-module--icon-arrow-up-lg--x58H-","icon-arrow-up-md":"ureact-glyph-module--icon-arrow-up-md--3LMwD","icon-arrow-up-sm":"ureact-glyph-module--icon-arrow-up-sm--3JYkz","icon-article-md":"ureact-glyph-module--icon-article-md--16xzQ","icon-attachment-md":"ureact-glyph-module--icon-attachment-md--35j8W","icon-badge-md":"ureact-glyph-module--icon-badge-md--yn-kN","icon-badge-with-check-md":"ureact-glyph-module--icon-badge-with-check-md--1D_mx","icon-bell-lg":"ureact-glyph-module--icon-bell-lg--1sHiO","icon-bell-md":"ureact-glyph-module--icon-bell-md--MWX8K","icon-bell-sm":"ureact-glyph-module--icon-bell-sm--2zEwL","icon-bold-md":"ureact-glyph-module--icon-bold-md--2Y5yP","icon-calendar-md":"ureact-glyph-module--icon-calendar-md--rsKq0","icon-career-lg":"ureact-glyph-module--icon-career-lg--1Au7U","icon-caret-down-md":"ureact-glyph-module--icon-caret-down-md--12P8q","icon-caret-up-md":"ureact-glyph-module--icon-caret-up-md--2N83I","icon-catalog-lg":"ureact-glyph-module--icon-catalog-lg--151KI","icon-celebrate-md":"ureact-glyph-module--icon-celebrate-md--3iD7D","icon-celebrate-xl":"ureact-glyph-module--icon-celebrate-xl--idLqe","icon-certificate-xl":"ureact-glyph-module--icon-certificate-xl--2V-J8","icon-chat-bubble-md":"ureact-glyph-module--icon-chat-bubble-md--yGVbP","icon-chat-new-thread-sm":"ureact-glyph-module--icon-chat-new-thread-sm--2yXwK","icon-chat-view-thread-sm":"ureact-glyph-module--icon-chat-view-thread-sm--afy8p","icon-chat-with-check-md":"ureact-glyph-module--icon-chat-with-check-md--1fImr","icon-checkmark-circle-md":"ureact-glyph-module--icon-checkmark-circle-md--1loOe","icon-checkmark-circle-xl":"ureact-glyph-module--icon-checkmark-circle-xl--3PeTi","icon-checkmark-md":"ureact-glyph-module--icon-checkmark-md--1EoOD","icon-checkmark-sm":"ureact-glyph-module--icon-checkmark-sm--2iFKX","icon-circle-empty-sm":"ureact-glyph-module--icon-circle-empty-sm--3uu8I","icon-circle-full-sm-filled":"ureact-glyph-module--icon-circle-full-sm-filled--f38TK","icon-circle-half-sm":"ureact-glyph-module--icon-circle-half-sm--22Nle","icon-clipboard-lg":"ureact-glyph-module--icon-clipboard-lg--OoHrU","icon-clipboard-md":"ureact-glyph-module--icon-clipboard-md--1yiX5","icon-close-lg":"ureact-glyph-module--icon-close-lg--fymMA","icon-close-md":"ureact-glyph-module--icon-close-md--3p0g2","icon-close-sm":"ureact-glyph-module--icon-close-sm--1kQ_7","icon-code-md":"ureact-glyph-module--icon-code-md--3bg8k","icon-collapse-md":"ureact-glyph-module--icon-collapse-md--PQmgI","icon-community-lg":"ureact-glyph-module--icon-community-lg--1Oh6f","icon-concept-md":"ureact-glyph-module--icon-concept-md--CSrdE","icon-copy-sm":"ureact-glyph-module--icon-copy-sm--1b8oQ","icon-course-lg":"ureact-glyph-module--icon-course-lg--3YPo5","icon-cube-sm":"ureact-glyph-module--icon-cube-sm--3Q9c3","icon-deep-lg":"ureact-glyph-module--icon-deep-lg--3F6Kc","icon-diamond-md-filled":"ureact-glyph-module--icon-diamond-md-filled--1InsR","icon-discount-sm":"ureact-glyph-module--icon-discount-sm--InB0Q","icon-download-md":"ureact-glyph-module--icon-download-md--3VqUb","icon-download-sm":"ureact-glyph-module--icon-download-sm--1LjQZ","icon-drag-md":"ureact-glyph-module--icon-drag-md--cUD0p","icon-edit-md":"ureact-glyph-module--icon-edit-md--OW0pU","icon-edit-sm":"ureact-glyph-module--icon-edit-sm--2CMVZ","icon-email-md":"ureact-glyph-module--icon-email-md--2YS-Q","icon-evening-sm":"ureact-glyph-module--icon-evening-sm--cj1bx","icon-expand-md":"ureact-glyph-module--icon-expand-md--3_Cyb","icon-eye-open-md":"ureact-glyph-module--icon-eye-open-md--Fjcjg","icon-eye-open-sm":"ureact-glyph-module--icon-eye-open-sm--3mddq","icon-file-new-sm":"ureact-glyph-module--icon-file-new-sm--2jQGA","icon-file-sm":"ureact-glyph-module--icon-file-sm--2Hytq","icon-filter-md":"ureact-glyph-module--icon-filter-md--22cVR","icon-flag-md":"ureact-glyph-module--icon-flag-md--3jQLW","icon-flag-sm":"ureact-glyph-module--icon-flag-sm--FuC2z","icon-folder-new-sm":"ureact-glyph-module--icon-folder-new-sm--3O5F0","icon-folder-sm":"ureact-glyph-module--icon-folder-sm--1_xfW","icon-forum-lg":"ureact-glyph-module--icon-forum-lg--1pU6l","icon-full-screen":"ureact-glyph-module--icon-full-screen--Wyrbb","icon-graph-md":"ureact-glyph-module--icon-graph-md--2HBGV","icon-hamburger-lg":"ureact-glyph-module--icon-hamburger-lg--2zYKx","icon-home-lg":"ureact-glyph-module--icon-home-lg--325qG","icon-information-md":"ureact-glyph-module--icon-information-md--3msSG","icon-information-sm":"ureact-glyph-module--icon-information-sm--38Qa1","icon-instructor-md":"ureact-glyph-module--icon-instructor-md--OT7wh","icon-italics-md":"ureact-glyph-module--icon-italics-md--1o01B","icon-knowledge-lg":"ureact-glyph-module--icon-knowledge-lg--3qmmZ","icon-knowledge-md":"ureact-glyph-module--icon-knowledge-md--3IiLL","icon-link-md":"ureact-glyph-module--icon-link-md--1LdOL","icon-link-sm":"ureact-glyph-module--icon-link-sm--1j3Ha","icon-list-bulleted-md":"ureact-glyph-module--icon-list-bulleted-md--oR5M1","icon-list-numbered-md":"ureact-glyph-module--icon-list-numbered-md--1606J","icon-live-help-lrg":"ureact-glyph-module--icon-live-help-lrg--ZeVeM","icon-locked-lg":"ureact-glyph-module--icon-locked-lg--10mXr","icon-locked-md":"ureact-glyph-module--icon-locked-md--9xJAZ","icon-locked-sm":"ureact-glyph-module--icon-locked-sm--938l3","icon-logout-lg":"ureact-glyph-module--icon-logout-lg--2OHTs","icon-logout-md":"ureact-glyph-module--icon-logout-md--1-xnW","icon-long-arrow-left-md":"ureact-glyph-module--icon-long-arrow-left-md--1MH8r","icon-mentorship-lg":"ureact-glyph-module--icon-mentorship-lg--2r3_c","icon-menu-md":"ureact-glyph-module--icon-menu-md--3If_S","icon-money-md":"ureact-glyph-module--icon-money-md--2TeG5","icon-more-options-sm":"ureact-glyph-module--icon-more-options-sm--wmTdo","icon-morning-sm":"ureact-glyph-module--icon-morning-sm--3Yccd","icon-name-tag-md":"ureact-glyph-module--icon-name-tag-md--tEmkU","icon-nd-lg":"ureact-glyph-module--icon-nd-lg--2CcqX","icon-new-tab-md":"ureact-glyph-module--icon-new-tab-md--kxXgl","icon-new-tab-sm":"ureact-glyph-module--icon-new-tab-sm--5cEfg","icon-part-md":"ureact-glyph-module--icon-part-md--1JuRt","icon-picture-md":"ureact-glyph-module--icon-picture-md--2wreN","icon-pin-md":"ureact-glyph-module--icon-pin-md--1c435","icon-pin-sm":"ureact-glyph-module--icon-pin-sm--3SKh9","icon-profile-lg":"ureact-glyph-module--icon-profile-lg--1EYgV","icon-project-done-md":"ureact-glyph-module--icon-project-done-md--pzrV4","icon-project-md":"ureact-glyph-module--icon-project-md--DrDks","icon-quiz-done-sm":"ureact-glyph-module--icon-quiz-done-sm--zo8UH","icon-quiz-sm":"ureact-glyph-module--icon-quiz-sm--_gFfx","icon-quote-md":"ureact-glyph-module--icon-quote-md--1t5b1","icon-repeat-md":"ureact-glyph-module--icon-repeat-md--icRMD","icon-reply-md":"ureact-glyph-module--icon-reply-md--1C3-4","icon-resources-md":"ureact-glyph-module--icon-resources-md--3Ak3T","icon-reviews-md":"ureact-glyph-module--icon-reviews-md--1jHf2","icon-search-lg":"ureact-glyph-module--icon-search-lg--1FzVR","icon-search-md":"ureact-glyph-module--icon-search-md--2q93u","icon-settings-lg":"ureact-glyph-module--icon-settings-lg--2pO9k","icon-shrink-screen":"ureact-glyph-module--icon-shrink-screen--1hjRN","icon-side-panel-close-md":"ureact-glyph-module--icon-side-panel-close-md--1l0xC","icon-side-panel-open-md":"ureact-glyph-module--icon-side-panel-open-md--AC3yk","icon-side-panel-sm":"ureact-glyph-module--icon-side-panel-sm--2ayFU","icon-speaker-md":"ureact-glyph-module--icon-speaker-md--35EhT","icon-specialization-lg":"ureact-glyph-module--icon-specialization-lg--1hYg8","icon-star-big-md-filled":"ureact-glyph-module--icon-star-big-md-filled--3FsCu","icon-star-sm-filled":"ureact-glyph-module--icon-star-sm-filled--2Majc","icon-star-sm":"ureact-glyph-module--icon-star-sm--J23_R","icon-star-small-md-filled":"ureact-glyph-module--icon-star-small-md-filled--Y3hf2","icon-start-sm":"ureact-glyph-module--icon-start-sm--3SrXQ","icon-stop-sm":"ureact-glyph-module--icon-stop-sm--3VIss","icon-submit-project-xl":"ureact-glyph-module--icon-submit-project-xl--1ECdp","icon-subscriptions":"ureact-glyph-module--icon-subscriptions--1rtdy","icon-term-lg":"ureact-glyph-module--icon-term-lg--1Mows","icon-time-md":"ureact-glyph-module--icon-time-md--3WpVU","icon-time-sm":"ureact-glyph-module--icon-time-sm--1tz5J","icon-trash-md":"ureact-glyph-module--icon-trash-md--1VBtQ","icon-uconnect-lg":"ureact-glyph-module--icon-uconnect-lg--2tVB9","icon-umark-lg":"ureact-glyph-module--icon-umark-lg--2JPUT","icon-unavailable-sm":"ureact-glyph-module--icon-unavailable-sm--3CkNs","icon-unlocked-lg":"ureact-glyph-module--icon-unlocked-lg--OY5Ev","icon-upload-sm":"ureact-glyph-module--icon-upload-sm--1Dkrk","icon-warning-xl":"ureact-glyph-module--icon-warning-xl--14HWT"}},n4G1:function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default={loadExternalScript:function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return new e(function(e,a){var i=function(){return e((r||n.noop)())},s=document.getElementsByTagName("head")[0],l=document.createElement("script");l.type="text/javascript",l.src=t,l.onreadystatechange=i,l.onload=i,s.appendChild(l),setTimeout(function(){a(new Error("Timed out loading script:",t))},o)})}}}).call(t,n("0Qa9"),n("M4fF"))},nHsE:function(e,t,n){function r(e){return i(e)?o(e,u):s(e)?[e]:a(l(c(e)))}var o=n("Hxdr"),a=n("hrPF"),i=n("NGEn"),s=n("6MiT"),l=n("UnLw"),u=n("Ubhr"),c=n("ZT2e");e.exports=r},nIvf:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n("4Dn6"),d=n("S5CU"),p=o(d),h=n("KSGD"),m=o(h),y=n("eyXk"),g=n("/2SP"),v=o(g),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=(u=l=function(t){function n(){var e,t,r,o;a(this,n);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=r=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.state={rotateAngle:0,scaleValue:1},r.handleLeftRotate=function(e){e.preventDefault();var t=r.state.rotateAngle;r.setState({rotateAngle:(t-90)%360})},r.handleRightRotate=function(e){e.preventDefault();var t=r.state.rotateAngle;r.setState({rotateAngle:(t+90)%360})},r.handleSaveClick=function(e){e.preventDefault();var t=r.editor.getImageScaledToCanvas();r.props.onSave(t.toDataURL("image/jpeg"))},o=t,i(r,o)}return s(n,t),_(n,[{key:"handleZoomChange",value:function(e){var t=this.sanitizeZoomValue(e);this.setState({scaleValue:t})}},{key:"handleZoomComplete",value:function(e){var t=this.sanitizeZoomValue(e);this.setState({scaleValue:t,scaleFinal:t})}},{key:"sanitizeZoomValue",value:function(e){return Number(e.toFixed(2))}},{key:"setEditorRef",value:function(e){e&&(this.editor=e)}},{key:"render",value:function(){var t=this,n=this.state,r=n.scaleFinal,o=n.rotateAngle,a=n.scaleValue,i=this.props,s=i.onClose,l=i.image;return e.createElement("div",{styleName:"editor"},e.createElement(p.default,{ref:this.setEditorRef.bind(this),image:l,width:400,height:400,border:0,borderRadius:200,scale:r,rotate:o,onSave:this.handleSaveClick,onClose:s}),e.createElement("div",{styleName:"control"},e.createElement("span",{styleName:"label description"},(0,y.__)("zoom")),e.createElement(f.RangeInput,{min:1,max:2,step:.01,value:a,disabled:!1,benchmarks:!1,onChange:function(e){return t.handleZoomChange(e)},onChangeComplete:function(e){return t.handleZoomComplete(e)}})),e.createElement("div",{styleName:"control inline"},e.createElement("span",{styleName:"label description"},"rotate"),e.createElement(f.Button,{onClick:this.handleLeftRotate,styleName:"rotate"},(0,y.__)("left")),e.createElement(f.Button,{onClick:this.handleRightRotate,styleName:"rotate"},(0,y.__)("right"))),e.createElement("div",{styleName:"buttons"},e.createElement(f.Button,{label:(0,y.__)("save photo"),onClick:this.handleSaveClick,type:"primary",styleName:"save"}),e.createElement(f.Button,{label:(0,y.__)("cancel"),onClick:s,type:"default",styleName:"cancel"})))}}]),n}(e.Component),l.displayName="ImageEditor",u);E.propTypes={image:m.default.string,onClose:m.default.func.isRequired,onSave:m.default.func.isRequired},t.default=r(v.default,{allowMultiple:!0})(E)}).call(t,n("U7vG"),n("211U"))},nWuj:function(e,t){function n(e,t){return e.add(t),e}e.exports=n},nkqC:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n("c4Rz"),s=n("DtqQ"),l=n("kQbS"),u=o(l),c=n("Z4sO"),f=o(c),d=n("taKU"),p=n("crWv"),h=o(p),m=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default={fetchRoom:function(t,n,o){return function(l,c){var p={roomId:t,userId:n},h=c(),y=e.get(h,["notifications","unread",t]),g=y&&y.count&&y.oldest&&y.count>s.MESSAGE_FETCH_COUNT,v=[f.default.fetchRoom(t)];return o?v.push(f.default.fetchMessages(t,"",o,s.MESSAGE_FETCH_COUNT)):g?v.push(f.default.fetchMessages(t,"",y.oldest,s.MESSAGE_FETCH_COUNT)):v.push(f.default.fetchMessages(t)),l((0,i.createAction)(u.default.FETCH_ROOM,t)),r.all(v).catch(function(e){throw l((0,i.createAction)(u.default.FETCH_ROOM_COMPLETE,e,p)),e}).then(function(e){var n,r=m(e,2),o=r[0],s=r[1],c=(0,d.extractMessageParticipants)(s.messages),f=(n=new i.ActionBuilder(u.default.FETCH_ROOM_COMPLETE,{info:o,messages:s}).withRoom(t)).withActors.apply(n,a(c)),p=f.build();return l(p)})}},fetchMoreMessages:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,o){var l=o(),c=l.rooms[e];if(!c)return r.resolve();if(c.pagination.fetching_prev)return r.resolve();if(t&&!c.pagination.cursor.has_prev)return r.resolve();var p={roomId:e,prev:t};n((0,i.createAction)(u.default.FETCH_MORE_MESSAGES,{},p));var h=[new r(function(e){return setTimeout(e,s.MESSAGE_FETCH_DELAY)})];return t?h.unshift(f.default.fetchMessages(e,c.pagination.cursor.prev)):h.unshift(f.default.fetchMessages(e,"",c.pagination.cursor.next,s.MESSAGE_FETCH_COUNT+1)),r.all(h).catch(function(e){throw n((0,i.createAction)(u.default.FETCH_MORE_MESSAGES_COMPLETE,e,p)),e}).then(function(t){var r,o=m(t,1),s=o[0],l=(0,d.extractMessageParticipants)(s.messages),c=(r=new i.ActionBuilder(u.default.FETCH_MORE_MESSAGES_COMPLETE,s).withRoom(e)).withActors.apply(r,a(l)),f=c.build();return n(f),s})}},fetchParticipants:function(t){return function(n,o){var l=o(),c=e.get(l,["rooms",t]);if(!c)return r.resolve();if(e.get(c,"participants.loading",!1))return r.resolve();var d={roomId:t};return n((0,i.createAction)(u.default.FETCH_PARTICIPANTS,{},d)),f.default.viewParticipants(t).catch(function(e){throw n((0,i.createAction)(u.default.FETCH_PARTICIPANTS_COMPLETE,e,d)),e}).then(function(r){var o,l=e.take([].concat(a(e.take(e.map(r.admins,"id"),s.PARTICIPANT_BATCH_SIZE)),a(e.take(e.map(r.active,"id"),s.PARTICIPANT_BATCH_SIZE)),a(e.take(e.map(r.inactive,"id"),s.PARTICIPANT_BATCH_SIZE))),s.PARTICIPANT_BATCH_SIZE),c=(o=new i.ActionBuilder(u.default.FETCH_PARTICIPANTS_COMPLETE,r).withRoom(t)).withActors.apply(o,a(l)),f=c.build();return n(f)})}},clearParticipants:function(e){return(0,i.createAction)(u.default.CLEAR_PARTICIPANTS,e)},leaveRoom:function(e){return(0,i.createAction)(u.default.LEAVE_ROOM,e)},updateMessages:function(t,n,r){return function(o){var a=e.get(n,"info.room_id");(0,h.default)(a,"room must contain an id");var l=-e.toSafeInteger(1e6*Math.random()),c=new Date,d={message:t,timestamp:c,messageId:l,userId:r,roomId:a};o((0,i.createAction)(u.default.UPDATE_MESSAGES,d));var p=void 0;if(e.get(n,"info.room_type")===s.RoomTypes.THREAD){var m=e.get(n,"info.room_payload"),y=e.get(m,"room_id"),g=e.get(m,"message_id");p=f.default.replyTo(y,g,t)}else p=f.default.postMessage(t,a);return p.then(function(e){var t={messageId:l,userId:r,roomId:a,result:e};return o((0,i.createAction)(u.default.UPDATE_MESSAGES_COMPLETE,t)),e}).catch(function(e){var t={messageId:l,userId:r,roomId:a};throw o((0,i.createAction)(u.default.UPDATE_MESSAGES_FAILURE,t)),e})}},clearEventsList:function(e){return(0,i.createAction)(u.default.CLEAR_EVENT_LIST,e)}}}).call(t,n("M4fF"),n("0Qa9"))},nmp3:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":h(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":h(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Participants=void 0;var c,f,d,p,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=n("DtqQ"),y=n("kcq/"),g=n("qkBN"),v=a(g),_=n("Vr8f"),E=a(_),b=n("4Dn6"),T=n("WIJI"),S=a(T),w=n("KSGD"),O=a(w),C=n("j5LV"),P=n("eyXk"),A=n("c4Rz"),R=n("RH2O"),M=n("lNS7"),k=n("QBEk"),I=n("Dji7"),N=a(I),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=t.Participants=(c=e(N.default,{allowMultiple:!0}))((p=d=function(e){function t(e){s(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleOnOpen=function(){var e=n.props,t=e.room,r=e.context,a=e.fetchParticipants,i=t.info.room_id,s=t.participants;o.get(s,"loaded",!1)||a(i),v.default.track(y.PROFILE_BAR_OPEN,r)},n.handleOnClose=function(){var e=n.props.context;v.default.track(y.PROFILE_BAR_CLOSE,e)},n.handleScroll=function(){var e=n.props,t=e.room,r=e.loadProfiles,a=t.info.room_id,s=(0,M.getElementsInView)(n.profilesPane.getBoundingClientRect(),n.profilesPane.children),l=o.map(s,function(e){return e.getAttribute("data-participant-id")}).filter(function(e){return e});r.apply(void 0,[a].concat(i(l)))},n.state={invalidProfilePhotos:{}},e.onScrollWaitTime&&(n.handleScroll=o.debounce(n.handleScroll,e.onScrollWaitTime)),n}return u(t,e),L(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.room.info!==e.room.info||this.props.room.participants!==e.room.participants||this.props.profiles!==e.profiles||this.state.invalidProfilePhotos!==t.invalidProfilePhotos}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel&&this.handleScroll.cancel()}},{key:"render",value:function(){var e=this,t=this.props,n=t.room,a=t.profiles,i=t.onProfileAvatarClick,s=o.get(n,"participants.loading",!1),l=o.get(n,"participants.active",[]),u=o.get(n,"participants.inactive",[]),c=o.get(n,"participants.admins",[]),f=o.filter(c,{type:m.RoleTypes.MENTOR}),d=o.filter(c,{type:m.RoleTypes.STAFF}),p=o.get(n,"info.num_active"),h="circle "+(p?"turquoise":"gray-light"),y=(0,k.makeActiveStudentsMsg)(p),g=function(e,t,n){return r.createElement(S.default,{participant:e,isActive:t,roleType:n,profile:a[e.id],onParticipantAvatarClick:i,key:e.id})};return r.createElement("div",{styleName:"room-header"},r.createElement("div",{styleName:"room-header-mask"},r.createElement("span",{styleName:h}),r.createElement("span",null,y),r.createElement("span",null,r.createElement(E.default,{collapsingProp:"width",trigger:(0,P.__)("PROFILES"),triggerWhenOpen:(0,P.__)("HIDE"),transitionTime:200,overflowWhenOpen:"visible",className:N.default["profile-parent"],openedClassName:N.default["profile-parent"],lazyRender:!0,onOpening:this.handleOnOpen,onClosing:this.handleOnClose,contentInnerClassName:N.default["profile-inner-content"],contentOuterClassName:N.default["profile-outer-content"]},r.createElement(b.LoadingWrapper,{isLoading:s},r.createElement("ul",{styleName:"profiles-pane",onScroll:this.handleScroll,ref:function(t){e.profilesPane=t}},o.map(f,function(e){return g(e,e.is_active||!1,m.RoleTypes.MENTOR)}),o.map(d,function(e){return g(e,e.is_active||!1,m.RoleTypes.STAFF)}),o.map(l,function(e){return g(e,!0)}),o.map(u,function(e){return g(e,!1)})))))))}}]),t}(r.Component),d.propTypes={room:C.RoomShape.isRequired,context:O.default.object.isRequired,onProfileAvatarClick:O.default.func.isRequired,onScrollWaitTime:O.default.number},d.defaultProps={onScrollWaitTime:m.PARTICIPANT_SCROLLING_DEBOUNCE},f=p))||f,x=function(e){return{profiles:e.profiles}},D=(0,A.actionsBinder)("fetchParticipants","clearParticipants","loadProfiles");t.default=(0,R.connect)(x,D)(j)}).call(t,n("211U"),n("U7vG"),n("M4fF"))},oM53:function(e,t,n){var r=n("wSKX"),o=n("5183"),a=o?function(e,t){return o.set(e,t),e}:r;e.exports=a},oqL2:function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},p2Wj:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("KSGD"),i=o(a),s=n("Dji7"),l=o(s),u=function(t){var n=t.highlight?"notice highlight":t.error?"notice error":"notice",r=t.showSep?"with-lines":"";return e.createElement("div",{styleName:n+" "+r},e.createElement("div",{styleName:"notice-content"},t.children))};u.propTypes={children:i.default.node.isRequired,highlight:i.default.bool,error:i.default.bool,showSep:i.default.bool},u.defaultProps={showSep:!0,error:!1,highlight:!1},t.default=r(l.default,{allowMultiple:!0})(u)}).call(t,n("U7vG"),n("211U"))},"pJm+":function(e,t,n){function r(e){return a("function"==typeof e?e:o(e,i))}var o=n("Fkvj"),a=n("JyYQ"),i=1;e.exports=r},pN1M:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":d(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":d(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,f,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n("emvh"),h=o(p),m=n("crC2"),y=o(m),g=n("KSGD"),v=o(g),_=n("U7vG"),E=o(_),b=n("j5LV"),T=n("eyXk"),S=n("/Hzi"),w=o(S),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=(l=e(w.default))((f=c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),O(t,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.roomTitle,o=r.isNumber(t.activeThreadMessageId)?(0,T.__)("Thread: <%= roomTitle %>",{roomTitle:n}):n;return E.default.createElement("div",{styleName:"chatscreen"},E.default.createElement(y.default,{isBackButtonVisible:!0,title:o}),E.default.createElement(h.default,{roomId:t.roomId,roomTitle:n,activeThreadMessageId:t.activeThreadMessageId,messageId:t.messageId}))}}]),t}(E.default.Component),c.propTypes={screen:b.ScreenShape.isRequired,roomTitle:v.default.string.isRequired},u=f))||u;t.default=C}).call(t,n("211U"),n("M4fF"))},py9u:function(e,t,n){function r(e,t){return e&&o(t,a(t),e)}var o=n("tv3T"),a=n("t8rQ");e.exports=r},qQbw:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.default.CLEAR_ALL:return{};case a.default.SET_USER_DATA:return Object.assign({},e,i({},t.payload));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.userData=r;var o=n("kQbS"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},qXkD:function(e,t){e.exports={}},qkBN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Jyyl"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n("S5nd"),i=(0,a.createAgent)();i.init(o.default.segmentWriteKey,!0).catch(console.warn),t.default=i},qojq:function(e,t,n){var r=n("lMBm"),o=r(!0);e.exports=o},qrdl:function(e,t){function n(){}e.exports=n},rCVp:function(e,t,n){function r(e){return(null==e?0:e.length)?o(e,1):[]}var o=n("1C79");e.exports=r},rezj:function(e,t,n){function r(e){return o(e,a)}var o=n("Fkvj"),a=4;e.exports=r},rzv0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.supportSubject="Reporting community guidelines non-compliance in chat",t.supportBody="Thank you for reaching out to Udacity support! We’re sorry you’ve had a negative experience chatting with a fellow student. To report the concerning behavior, please provide the following information so that we can investigate the issue as quickly as possible:%0D%0A%0D%0A1. Please attach two screen shots:%0D%0A%09One of the specific messages you would like to report, ensuring that the name and avatar of the student who sent the message are visible.%0D%0A%09One of the message sender’s profile%0D%0A2. Name of NanoDegree:%0D%0A3. Name of chat group:",t.reportMessageBody=function(e,t){return"Thank you for reaching out to Udacity support! We’re sorry you’ve had a negative experience chatting with a fellow student. To report the concerning behavior, please send this email with the supplied information so that we can investigate the issue as quickly as possible:%0D%0A%0D%0A- messageID: "+t+"%0D%0A- userID: "+e},t.supportEmailDefault="support@udacity.com",t.supportEmails={nd000:"introprogramming-support@udacity.com",nd001:"frontend-support@udacity.com",nd004:"fullstack-support@udacity.com",nd117:"unreal-support@udacity.com",nd003:"ios-support@udacity.com",nd024:"mobileweb-support@udacity.com",nd110:"suporte@udacity.com",nd089:"aipnd-support@udacity.com",default:"support@udacity.com"}},sOoA:function(e,t,n){"use strict";(function(e,r,o,a){function i(e){return e&&e.__esModule?e:{default:e}}function s(t){return function(){var n=t.apply(this,arguments);return new e(function(t,r){function o(a,i){try{var s=n[a](i),l=s.value}catch(e){return void r(e)}if(!s.done)return e.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}return o("next")})}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":y(t))&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":y(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var d,p,h,m,y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=n("eLhX"),v=n("kcq/"),_=n("DtqQ"),E=n("qkBN"),b=i(E),T=n("Zrtp"),S=i(T),w=n("Td32"),O=i(w),C=n("4Dn6"),P=n("wdsA"),A=i(P),R=n("nmp3"),M=i(R),k=n("mE8M"),I=i(k),N=n("KSGD"),L=i(N),j=n("j5LV"),x=n("Vgd3"),D=i(x),U=n("eyXk"),F=n("c4Rz"),q=n("RH2O"),B=n("lNS7"),G=n("crWv"),H=i(G),W=n("ihMG"),z=n("QBEk"),K=n("Dji7"),V=i(K),Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),J=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),X=(d=r(V.default,{allowMultiple:!0}))((m=h=function(t){function n(e){u(this,n);var t=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.moveToBottomOfList=function(){t.elMsgList?t.elMsgList.scrollTop=t.elMsgList.scrollHeight:setTimeout(t.moveToBottomOfList,5)},t.handleResize=function(){t.stayGlued()},t.handleProfileModalClose=function(){t.setState({isProfileModalOpen:!1,clickedProfile:null})},t.handleProfileAvatarClick=function(e){var n=t.props,r=n.room;(0,n.loadProfiles)(r.info.room_id,e).then(function(e){var n=Y(e,1),r=n[0];(0,H.default)(r,"profile could not be retrieved"),t.setState({isProfileModalOpen:!0,clickedProfile:r})})},t.handleChangeMsg=function(e){e.target.value.trim().length?t.setState({userMsg:e.target.value}):t.setState({userMsg:""})},t.handleKeyDown=function(e){var n=t.state.userMsg.trim();if(!e.shiftKey&&e.keyCode===_.Keycodes.ENTER&&n){var r=t.props,o=r.room,i=r.userData,s=r.updateMessages,u=r.profiles,c=[].concat(l(t.state.mentions)),f=t.excludeRemovedMentions(c,n),d=t.getRoomInfoForAnalytics(),p=a.get(u,"me.id"),h=Q({},i,d,{message:n,msg_length:n.length,mentions:f,mention_length:f.length});s({message:n,mentions:f},o,p).then(function(){b.default.track(v.SEND_MESSAGE,h),t.setState({userMsg:"",mentions:new Set})})}},t.addAtMention=function(e){t.setState(function(t){return{mentions:new Set(t.mentions).add(e)}})},t.removeMention=function(e){t.setState(function(t){return{mentions:new Set(t.mentions).delete(e)}})},t.excludeRemovedMentions=function(e,t){return a.filter(e,function(e){return t.includes(e)})},t.handleListMount=function(e){t.elMsgList=e},t.state={userMsg:"",placeholderTextForInput:(0,U.__)((0,z.selectRandomString)(W.prompts)),isProfileModalOpen:!1,clickedProfile:null,mentions:new Set},t.handleResize=a.throttle(t.handleResize,100),t}return f(n,t),J(n,[{key:"componentDidMount",value:function(){function t(){return n.apply(this,arguments)}var n=s(regeneratorRuntime.mark(function t(){var n,r,o,i,s,l,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.props,r=n.room,o=n.roomTitle,i=n.userData,s=(0,B.getRoomId)(r),l=a.get(r,"info.num_active"),u=Q({},i,{roomId:s,roomTitle:o,num_active:l}),t.next=6,e.all([this.getRoom(s),this.getParticipants(s)]);case 6:b.default.track(v.ENTER_ROOM,u),window.addEventListener("resize",this.handleResize),this.moveToBottomOfList();case 9:case"end":return t.stop()}},t,this)}));return t}()},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.jumpToBottom,r=t.room,o=a.get(r,"info.room_id");!e.isCommunityOpen&&this.props.isCommunityOpen&&n(o)}},{key:"componentWillUnmount",value:function(){var e=this.props.userData,t=this.getRoomInfoForAnalytics(),n=Q({},e,t);b.default.track(v.LEAVE_ROOM,n),window.removeEventListener("resize",this.handleResize)}},{key:"getRoomInfoForAnalytics",value:function(){var e=this.props,t=e.room,n=e.roomTitle;return{roomId:a.get(t,"info.room_id"),roomTitle:n,num_active:a.get(t,"info.num_active")}}},{key:"getRoom",value:function(){function e(e){return t.apply(this,arguments)}var t=s(regeneratorRuntime.mark(function e(t){var n,r,o,i,s,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.userData,o=n.rooms,i=n.fetchRoom,s=a.get(o,t),l=a.get(s,"info",!1),!(u=!s||!l)){e.next=7;break}return e.next=7,i(t,r.userId);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"getParticipants",value:function(){function e(e){return t.apply(this,arguments)}var t=s(regeneratorRuntime.mark(function e(t){var n,r,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.room,o=n.fetchParticipants,i=a.get(r,"participants",!1),s=a.get(i,"loaded",!1)){e.next=6;break}return e.next=6,o(t);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"stayGlued",value:function(){var e=this.elMsgList;if(e){e.offsetHeight+e.scrollTop>=e.scrollHeight-100&&(e.scrollTop=e.scrollHeight)}}},{key:"render",value:function(){var e=this.props,t=e.room,n=e.roomTitle,r=e.socket,i=e.userData,s=e.profiles,l=e.rooms,u=e.featuresEnabled,c=e.loadProfiles,f=this.state,d=f.userMsg,p=f.placeholderTextForInput,h=a.get(t,"info.room_id"),m=a.get(t,"info.num_active"),y=a.get(r,"connected",!0),v=a.get(r,"listener.authenticationError",!1),E=Q({},i,{roomId:h,roomTitle:n,num_active:m}),b={content:{maxWidth:_.MAX_PROFILE_MODAL_WIDTH}},T=a.get(t,"info.room_type")===_.RoomTypes.THREAD,w=T?a.get(t,"info.room_payload.room_id"):h,P=l[(0,B.getRoomId)(t)];return o.createElement("div",{styleName:"room"},T?o.createElement(D.default,{room:t,profiles:s,onProfileAvatarClick:this.handleProfileAvatarClick}):o.createElement(M.default,{room:t,context:E,onProfileAvatarClick:this.handleProfileAvatarClick}),o.createElement(A.default,{room:t,roomTitle:n,onListMount:this.handleListMount,onProfileAvatarClick:this.handleProfileAvatarClick}),o.createElement("div",{styleName:"input-fields"},!y&&(v?o.createElement("span",{styleName:"connection-lost"},o.createElement(S.default,{glyph:"alert-xl",text:(0,U.__)(g.ALERT_CONNECTION_LOST)})," ",(0,U.__)(g.ERR_CONNECTION_LOST)):o.createElement("span",{styleName:"connection-lost"},o.createElement(S.default,{glyph:"alert-xl",text:(0,U.__)(g.ALERT_RECONNECT)})," ",(0,U.__)(g.ERR_CONNECTION_RECONNECT))),o.createElement("label",{htmlFor:"userMsg",styleName:"input-label"},this.state.placeholderTextForInput),o.createElement(O.default,{room:P,userMsg:d,onHandleKeyDown:this.handleKeyDown,onHandleChangeMsg:this.handleChangeMsg,addAtMention:this.addAtMention,placeholderTextForInput:p,mentionEnabled:a.get(u,"mentionsEnabled",!1),loadProfiles:c,userData:i})),o.createElement("span",null,o.createElement(C.Modal,{styleName:"profile-modal",style:b,isOpen:this.state.isProfileModalOpen,onRequestClose:this.handleProfileModalClose},this.state.clickedProfile&&o.createElement(I.default,{profile:this.state.clickedProfile,roomId:w}))))}}]),n}(o.Component),h.propTypes={room:j.RoomShape,roomTitle:L.default.string.isRequired},p=m))||p,Z=function(e){return{profiles:e.profiles,userData:e.userData,socket:e.socket,isCommunityOpen:e.window.opened,rooms:e.rooms,featuresEnabled:e.window.features}},$=(0,F.actionsBinder)("updateMessages","jumpToBottom","loadProfiles","fetchParticipants","fetchRoom");t.default=(0,q.connect)(Z,$)(X)}).call(t,n("0Qa9"),n("211U"),n("U7vG"),n("M4fF"))},slJS:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("mU73"),i=o(a),s=n("lNS7"),l=n("D2c0"),u=o(l),c=n("KSGD"),f=o(c),d=n("ecUC"),p=o(d),h=n("LmP8"),m=o(h),y=function(t){var n=t.suggestion,r=t.roomId,o=n.display,l={MENTOR:(0,s.isMentorInRoom)(n,r),STAFF:(0,s.isStaffInRoom)(n,r)},c=(0,a.getAvatarTheme)(a.AvatarTypes.SUGGESTION,l.MENTOR,l.STAFF);return e.createElement("div",{styleName:"mention"},e.createElement(i.default,{profile:n,theme:c,size:20}),o,l.MENTOR&&e.createElement("span",{styleName:"badge"},e.createElement(u.default,null)),l.STAFF&&e.createElement("span",{styleName:"badge"},e.createElement(p.default,null)))};y.propTypes={suggestion:f.default.object.isRequired,roomId:f.default.string.isRequired},t.default=r(m.default,{allowMultiple:!0})(y)}).call(t,n("U7vG"),n("211U"))},t8rQ:function(e,t,n){function r(e){return i(e)?o(e,!0):a(e)}var o=n("7e4z"),a=n("G0Wc"),i=n("bGc4");e.exports=r},tARb:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return e>0?(0,h.__)("New Activity in your Threads"):null}Object.defineProperty(t,"__esModule",{value:!0}),t.renderThreadActivity=i;var s=n("QBEk"),l=n("Zrtp"),u=a(l),c=n("KSGD"),f=a(c),d=n("j5LV"),p=n("DtqQ"),h=n("eyXk"),m=n("v6aw"),y=a(m),g=function(t){var n=t.subpart,o=t.title,a=t.onRoomClick,l=t.type,c=t.hasUnread,f=t.unreadThreadCount,d=t.mentionCount,m=!n.is_available,y="chatroom-list-part"+(m?" disabled":""),g=(0,s.classmatesCountMessage)(m,e.get(n,"members_count.students",0));return r.createElement("a",{href:"#",onClick:a,styleName:y,"data-id":n.room_id,"data-title":o},r.createElement("div",{styleName:"chatroom-list-part-title"},r.createElement("div",{styleName:"chatroom-title"},o),l===p.RoomTypes.PROJECT&&r.createElement("div",{styleName:"chatroom-members-count"},g),"threads"===l?r.createElement("span",{styleName:"thread-activity"},i(f)):null),r.createElement("div",{styleName:"chatroom-list-part-action"},m?r.createElement("span",null,r.createElement(u.default,{glyph:"locked-md",text:(0,h.__)("Locked")})):r.createElement("span",null,c&&r.createElement("span",{styleName:d>0?"room-unread-badge-mention":"room-unread-badge","data-mention-count":(0,s.displayMentionCount)(d)}))))};g.propTypes={subpart:d.RoomInfoShape.isRequired,title:f.default.string.isRequired,onRoomClick:f.default.func.isRequired,hasUnread:f.default.bool.isRequired,unreadThreadCount:f.default.number,type:f.default.oneOf(["cohort","project","lessons","threads"])},t.default=o(y.default,{allowMultiple:!0})(g)}).call(t,n("M4fF"),n("U7vG"),n("211U"))},tUlS:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{opened:!1},t=arguments[1];switch(t.type){case a.default.CLEAR_ALL:return{};case a.default.UPDATE_WINDOW:return Object.assign({},e,i({},t.payload));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.window=r;var o=n("kQbS"),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},taKU:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});t.extractMessageParticipants=function(t){return e.uniq(e.flatMap(t,function(t){return e.concat([t.user_id],e.get(t,"thread.participants",[]))}))}}).call(t,n("M4fF"))},tnID:function(e,t){e.exports={markdown:"renderer_styles--markdown--1AqxT","this-user":"renderer_styles--this-user--3KvKz","other-user":"renderer_styles--other-user--pjYV-","thread-user":"renderer_styles--thread-user--1uOnS","mention-me":"renderer_styles--mention-me--1iukJ","mention-other":"renderer_styles--mention-other--1wVpb"}},u5Pr:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("Jyyl"),i=o(a),s=n("n4G1"),l=o(s),u=n("e0wB"),c=o(u),f=n("z4HG"),d=o(f),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h={drivers:{google:{_loadService:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,n=h.drivers.google._getApiKey(),o=function(){return e.get(t,"google.maps.places.AutocompleteService",null)},a=o();if(a)return r.resolve(a);if(e.isEmpty(n))return r.reject(new Error("Missing Google Places API key"));var i="https://maps.googleapis.com/maps/api/js?key="+h.drivers.google._getApiKey()+"&libraries=places";return l.default.loadExternalScript(i,o)},_getApiKey:function(){return i.default.googleMapsApiKey},search:function(t,n){return n=e.assign({},{types:["(cities)"]},n),h.drivers.google._loadService().then(function(e){if(e)return new e;throw new Error("Google Places API failed to load")}).then(function(e){return new r(function(r,o){e.getPlacePredictions(p({input:t},n),function(e,t){switch(t){case"OK":case"ZERO_RESULTS":r(e||[]);break;default:o(new Error("Google Places API failed with status code: "+t))}})})}).then(function(e){return r.map(e,function(e){return h.drivers.profiles.decode(e.place_id).then(function(t){return{prediction:e,location:t}})})}).then(function(t){return e.chain(t).filter(function(t){var n=t.prediction,r=void 0===n?{}:n,o=t.location,a=void 0===o?{}:o,i=e.chain(a).get("address_components",[]).some(function(t){return"country"===t.type&&e.includes(d.default.whitelist,t.short_name)}).value();return!i&&e.includes(window.location.search,"debug")&&console.warn("Omitting;",r.description),i}).map(function(e){var t=e.prediction,n=void 0===t?{}:t;return p({},n,{location_id:n.place_id})}).value()})}},profiles:{decode:function(e){return c.default.fetchLocation(e)},search:function(e){return c.default.fetchProfileLocations(e)}}},autocomplete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.drivers;return n.google.search(e,t).catch(function(t){return console.warn(t),n.profiles.search(e)}).catch(function(e){return console.error("Unable to get auto-complete results",e),[]})},decode:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.drivers.profiles).decode(e)},format:function(t,n){e.isNil(t)&&(t={});var r=e.get(t,"address_components",[]);if(void 0===n&&t.description)return t.description;if(e.isEmpty(r))return null;var o=void 0;return r.map(function(e){return"country"===e.type&&"US"===e.short_name&&(o=!0),e}).map(function(e){return o?r.length>2?"country"===e.type?null:n?e[n]:e.short_name||e.long_name:e.long_name:"administrative_area_level_1"===e.type?null:e.long_name}).filter(function(t){return!e.isEmpty(t)}).join(", ")}};t.default=h}).call(t,n("M4fF"),n("0Qa9"))},uDAK:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadProfiles=t.updateProfile=t.createProfile=t.fetchProfile=void 0;var i=n("c4Rz"),s=n("kQbS"),l=o(s),u=n("Z4sO"),c=o(u);t.fetchProfile=function(){return(0,i.createAsyncAction)(l.default.FETCH_PROFILE,l.default.FETCH_PROFILE_COMPLETE,function(){return c.default.fetchProfile()})},t.createProfile=function(e){return(0,i.createAsyncAction)(l.default.CREATE_PROFILE,l.default.CREATE_PROFILE_COMPLETE,function(){return c.default.createProfile(e)})},t.updateProfile=function(e){return(0,i.createAsyncAction)(l.default.UPDATE_PROFILE,l.default.UPDATE_PROFILE_COMPLETE,function(){return c.default.updateProfile(e)})},t.loadProfiles=function(t){for(var n=arguments.length,o=Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return function(n,s){var u,c=s(),f=c.profiles,d=e.filter(o,function(t){return!e.has(f,t)});return e.isEmpty(d)?r.resolve(e.map(o,function(e){return f[e]})):n((u=new i.ActionBuilder(l.default.LOAD_PROFILES).withRoom(t)).withActors.apply(u,a(d)).build()).then(function(){var t=s().profiles;return r.resolve(e.map(o,function(e){return t[e]}))})}}}).call(t,n("M4fF"),n("0Qa9"))},uPk2:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n("nIvf"),i=o(a),s=n("4Dn6"),l=n("KSGD"),u=o(l),c=n("eyXk"),f=n("/2SP"),d=o(f),p=function(t){var n=t.photoUrl,r=t.photoBase64,o=t.isOpen,a=t.onPhotoEditorCloseClick,l=t.onSavePhotoClick;return e.createElement(s.Modal,{contentLabel:(0,c.__)("crop photo"),isOpen:o,onRequestClose:a,styleName:"modal"},o&&e.createElement(i.default,{image:r||n,onClose:a,onSave:l}))};p.propTypes={photoUrl:u.default.string,photoBase64:u.default.string,isOpen:u.default.bool.isRequired,onPhotoEditorCloseClick:u.default.func.isRequired,onSavePhotoClick:u.default.func.isRequired},t.default=r(d.default)(p)}).call(t,n("U7vG"),n("211U"))},ujcs:function(e,t){t.read=function(e,t,n,r,o){var a,i,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(i=a&(1<<-c)-1,a>>=-c,c+=r;c>0;i=256*i+e[t+f],f+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,r),a-=u}return(p?-1:1)*i*Math.pow(2,a-r)},t.write=function(e,t,n,r,o,a){var i,s,l,u=8*a-o-1,c=(1<<u)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=c):(i=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-i))<1&&(i--,l*=2),t+=i+f>=1?d/l:d*Math.pow(2,1-f),t*l>=2&&(i++,l/=2),i+f>=c?(s=0,i=c):i+f>=1?(s=(t*l-1)*Math.pow(2,o),i+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),i=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(i=i<<o|s,u+=o;u>0;e[n+p]=255&i,p+=h,i/=256,u-=8);e[n+p-h]|=128*m}},uxXQ:function(e,t,n){"use strict";(function(e){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleReplyEvent=void 0;var a=n("DtqQ"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(t,n,a){var s=e.get(a,"payload.thread_message_id",0),l=e.get(a,"payload.thread_room_id"),u=e.get(a,"payload.user_id");if(!s||!l||!u)return t;var c=e.get(a,"room_id"),f=e.get(t,c);if(!e.get(f,"loaded",!1))return t;var d=f.events||[],p=e.findIndex(d,function(t){return s===e.get(t,"payload.message_id")});if(p<0)return t;var h=i({},d[p]),m=e.has(h,"payload.thread")?h.payload.thread:{thread_id:l,message_count:0,participants:[]};h.payload=i({},h.payload,{has_replies:!0,thread:i({},m,{participants:e.chain(m.participants).without(u).concat(u).value(),last_message_at:a.timestamp,message_count:m.message_count+1})});var y=[].concat(o(e.slice(d,0,p)),[h],o(e.slice(d,p+1)));return i({},t,r({},c,i({},f,{events:y})))},l=function(t,n,s){var l=e.get(s,"payload.user_id"),u=e.get(s,"payload.thread_room_id"),c=e.get(t,u),f=e.get(c,"sent",[]);if(!e.get(c,"loaded",!1))return t;var d=i({},s,{type:a.EventTypes.MESSAGE,room_id:u,payload:i({},s.payload,{room_id:u,parent_message_id:s.payload.thread_message_id,parent_room_id:s.room_id})}),p=e.get(s,"payload.content");if(e.some(f,{message:p})&&n===l){var h=e.indexOf(c.sent,p),m=e.concat(e.slice(c.sent,0,h),e.slice(c.sent,h+1));return i({},t,r({},u,i({},c,{sent:m})))}var y=[].concat(o(c.events),[d]);return i({},t,r({},u,i({},c,{events:y})))};t.handleReplyEvent=function(t,n,r){return e.reduce([s,l],function(e,t){return t(e,n,r)},t)}}).call(t,n("M4fF"))},"v0t+":function(e,t,n){function r(e,t,n,r,p,h,m,y,g,v){var _=t&c,E=_?m:void 0,b=_?void 0:m,T=_?h:void 0,S=_?void 0:h;t|=_?f:d,(t&=~(_?d:f))&u||(t&=~(s|l));var w=[e,t,p,T,E,S,b,y,g,v],O=n.apply(void 0,w);return o(e)&&a(O,w),O.placeholder=r,i(O,e,t)}var o=n("5DDM"),a=n("7I8Q"),i=n("EagF"),s=1,l=2,u=4,c=8,f=32,d=64;e.exports=r},"v3l+":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.style,n=t("spinner");return g.a.createElement("div",t,g.a.createElement("div",n,g.a.createElement("div",n(["element","element1"])),g.a.createElement("div",n(["element","element2"])),g.a.createElement("div",n(["element","element3"])),g.a.createElement("div",n(["element","element4"])),g.a.createElement("div",n(["element","element5"]))))}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var y=n("U7vG"),g=n.n(y),v=n("KSGD"),_=n.n(v),E=n("O27J"),b=n.n(E),T=n("ktak"),S=n.n(T),w=n("L8MQ"),O=n.n(w),C=n("Dc7M"),P=n.n(C),A=n("hygk"),R=n.n(A),M=n("/DAC"),k=n.n(M),I=n("kyYn"),N=n.n(I),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){var e=P()(this.props,"style",S()(t.propTypes));return g.a.createElement("li",L({},e,this.props.style),this.renderContent())},t.prototype.renderContent=function(){var e=this.props,t=e.query,n=e.descriptor,r=e.suggestion,o=e.index,a=this.getDisplay(),i=this.renderHighlightedDisplay(a,t);return n.props.renderSuggestion?n.props.renderSuggestion(r,t,i,o):i},t.prototype.getDisplay=function(){var e=this.props.suggestion;if(e instanceof String)return e;var t=e.id,n=e.display;return t&&n?n:t},t.prototype.renderHighlightedDisplay=function(e){var t=this.props,n=t.query,r=t.style,o=e.toLowerCase().indexOf(n.toLowerCase());return-1===o?g.a.createElement("span",r("display"),e):g.a.createElement("span",r("display"),e.substring(0,o),g.a.createElement("b",r("highlight"),e.substring(o,o+n.length)),e.substring(o+n.length))},t}(y.Component);j.propTypes={};var x,D,U=Object(M.defaultStyle)({cursor:"pointer"},function(e){return{"&focused":e.focused}}),F=U(j),q=k()(i),B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G=(D=x=function(e){function t(){return s(this,t),l(this,e.apply(this,arguments))}return u(t,e),t.prototype.componentDidUpdate=function(){var e=this.refs.suggestions;if(e&&!(e.offsetHeight>=e.scrollHeight)&&this.props.scrollFocusedIntoView){var t=e.scrollTop,n=e.children[this.props.focusIndex].getBoundingClientRect(),r=n.top,o=n.bottom,a=e.getBoundingClientRect(),i=a.top;r=r-i+t,o=o-i+t,r<t?e.scrollTop=r:o>e.offsetHeight&&(e.scrollTop=o-e.offsetHeight)}},t.prototype.render=function(){var e=this.props,t=e.suggestions,n=e.isLoading,r=e.style,o=e.onMouseDown;return 0!==N.a.countSuggestions(t)||n?g.a.createElement("div",B({},r,{onMouseDown:o}),g.a.createElement("ul",B({ref:"suggestions"},r("list")),this.renderSuggestions()),this.renderLoadingIndicator()):null},t.prototype.renderSuggestions=function(){var e=this;return N.a.getSuggestions(this.props.suggestions).reduce(function(t,n){var r=n.suggestions,o=n.descriptor;return[].concat(t,r.map(function(n,r){return e.renderSuggestion(n,o,t.length+r)}))},[])},t.prototype.renderSuggestion=function(e,t,n){var r=this,o=this.getID(e),a=n===this.props.focusIndex,i=t.mentionDescriptor,s=t.query;return g.a.createElement(F,{style:this.props.style("item"),key:o,id:o,ref:a?"focused":null,query:s,index:n,descriptor:i,suggestion:e,focused:a,onClick:function(){return r.select(e,t)},onMouseEnter:function(){return r.handleMouseEnter(n)}})},t.prototype.getID=function(e){return e instanceof String?e:e.id},t.prototype.renderLoadingIndicator=function(){if(this.props.isLoading)return g.a.createElement(q,this.props.style("loadingIndicator"))},t.prototype.handleMouseEnter=function(e,t){this.props.onMouseEnter&&this.props.onMouseEnter(e)},t.prototype.select=function(e,t){this.props.onSelect(e,t)},t}(y.Component),x.defaultProps={suggestions:{},onSelect:function(){return null}},D);G.propTypes={};var H=Object(M.defaultStyle)(function(e){var t=e.position;return B({position:"absolute",zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100},t,{list:{margin:0,padding:0,listStyleType:"none"}})}),W=H(G),z=Object(M.defaultStyle)({fontWeight:"inherit"}),K=z(function(e){var t=e.display,n=e.style;return g.a.createElement("strong",n,t)});K.propTypes={onAdd:_.a.func,onRemove:_.a.func,renderSuggestion:_.a.func,trigger:_.a.oneOfType([_.a.string,_.a.instanceOf(RegExp)]),isLoading:_.a.bool},K.defaultProps={trigger:"@",onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1};var V,Q,Y=K,J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X=function(e,t){return e.hasOwnProperty(t)?e[t]++:e[t]=0,t+"_"+e[t]},Z=(Q=V=function(e){function t(){c(this,t);var n=f(this,e.apply(this,arguments));return n.state={lastPosition:{}},n}return d(t,e),t.prototype.componentDidMount=function(){this.notifyCaretPosition()},t.prototype.componentDidUpdate=function(){this.notifyCaretPosition()},t.prototype.notifyCaretPosition=function(){var e=this.refs.caret;if(e){var t={left:e.offsetLeft,top:e.offsetTop},n=this.state.lastPosition;R()(n,t)||(this.setState({lastPosition:t}),this.props.onCaretPositionChange(t))}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.selection,o=n.value,a=n.markup,i=n.displayTransform,s=n.style,l=n.inputStyle;r.start===r.end&&(e=N.a.mapPlainTextIndex(o,a,r.start,"START",i));var u=[],c={},f=u,d=0,p=function(n,r,o){if(N.a.isNumber(e)&&e>=r&&e<=r+n.length){var a=e-r;f.push(t.renderSubstring(n.substring(0,a),d)),f=[t.renderSubstring(n.substring(a),d)]}else f.push(t.renderSubstring(n,d));d++},h=function(e,t,n,r,o,a,i){var s=X(c,r);f.push(this.getMentionComponentForMatch(r,o,a,s))}.bind(this);return N.a.iterateMentionsMarkup(o,a,p,h,i),f.push(" "),f!==u&&u.push(this.renderHighlighterCaret(f)),g.a.createElement("div",J({},s,{style:J({},l,s.style)}),u)},t.prototype.renderSubstring=function(e,t){return g.a.createElement("span",J({},this.props.style("substring"),{key:t}),e)},t.prototype.getMentionComponentForMatch=function(e,t,n,r){var o=y.Children.count(this.props.children),a={id:e,display:t,key:r};if(o>1){if(!n)throw new Error("Since multiple Mention components have been passed as children, the markup has to define the __type__ placeholder");var i=null;return y.Children.forEach(this.props.children,function(e){e&&e.props.type===n&&(i=e)}),g.a.cloneElement(i,a)}if(1===o){var s=this.props.children.length?this.props.children[0]:y.Children.only(this.props.children);return g.a.cloneElement(s,a)}return Y(a)},t.prototype.renderHighlighterCaret=function(e){return g.a.createElement("span",J({},this.props.style("caret"),{ref:"caret",key:"caret"}),e)},t}(y.Component),V.defaultProps={value:"",inputStyle:{}},Q);Z.propTypes={};var $,ee,te,ne=Object(M.defaultStyle)({position:"relative",width:"inherit",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},function(e){return{"&singleLine":e.singleLine}}),re=ne(Z),oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof RegExp)return e;var n=t.allowSpaceInQuery,r=N.a.escapeRegex(e);return new RegExp("(?:^|\\s)("+r+"([^"+(n?"":"\\s")+r+"]*))$")},ie=function(e){return e instanceof Array?function(t,n){for(var r=[],o=0,a=e.length;o<a;++o){(e[o].display||e[o].id).toLowerCase().indexOf(t.toLowerCase())>=0&&r.push(e[o])}return r}:e},se={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},le=!1,ue={singleLine:_.a.bool,allowSpaceInQuery:_.a.bool,markup:_.a.string,value:_.a.string,displayTransform:_.a.func,onKeyDown:_.a.func,onSelect:_.a.func,onBlur:_.a.func,onChange:_.a.func,children:_.a.oneOfType([_.a.element,_.a.arrayOf(_.a.element)]).isRequired},ce=(ee=$=function(e){function t(n){p(this,t);var r=h(this,e.call(this,n));return te.call(r),r.suggestions={},r.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:null},r}return m(t,e),t.prototype.render=function(){return g.a.createElement("div",oe({ref:"container"},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())},t.prototype.componentDidMount=function(){this.updateSuggestionsPosition()},t.prototype.componentDidUpdate=function(){this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))},t}(g.a.Component),$.defaultProps={markup:"@[__display__](__id__)",singleLine:!1,displayTransform:function(e,t,n){return t},onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}},te=function(){var e=this;this.getInputProps=function(t){var n=e.props,r=n.readOnly,o=n.disabled,a=n.style,i=P()(e.props,"style",S()(ue));return oe({},i,a("input"),{value:e.getPlainText()},!r&&!o&&{onChange:e.handleChange,onSelect:e.handleSelect,onKeyDown:e.handleKeyDown,onBlur:e.handleBlur,onCompositionStart:e.handleCompositionStart,onCompositionEnd:e.handleCompositionEnd,onScroll:e.updateHighlighterScroll})},this.renderControl=function(){var t=e.props,n=t.singleLine,r=t.style,o=e.getInputProps(!n);return g.a.createElement("div",r("control"),e.renderHighlighter(o.style),n?e.renderInput(o):e.renderTextarea(o))},this.renderInput=function(e){return g.a.createElement("input",oe({type:"text",ref:"input"},e))},this.renderTextarea=function(e){return g.a.createElement("textarea",oe({ref:"input"},e))},this.renderSuggestionsOverlay=function(){return N.a.isNumber(e.state.selectionStart)?g.a.createElement(W,{style:e.props.style("suggestions"),position:e.state.suggestionsPosition,focusIndex:e.state.focusIndex,scrollFocusedIntoView:e.state.scrollFocusedIntoView,ref:"suggestions",suggestions:e.state.suggestions,onSelect:e.addMention,onMouseDown:e.handleSuggestionsMouseDown,onMouseEnter:function(t){return e.setState({focusIndex:t,scrollFocusedIntoView:!1})},isLoading:e.isLoading()}):null},this.renderHighlighter=function(t){var n=e.state,r=n.selectionStart,o=n.selectionEnd,a=e.props,i=a.markup,s=a.displayTransform,l=a.singleLine,u=a.children,c=a.value,f=a.style;return g.a.createElement(re,{ref:"highlighter",style:f("highlighter"),inputStyle:t,value:c,markup:i,displayTransform:s,singleLine:l,selection:{start:r,end:o},onCaretPositionChange:function(t){return e.setState({caretPosition:t})}},u)},this.getPlainText=function(){return N.a.getPlainText(e.props.value||"",e.props.markup,e.props.displayTransform)},this.executeOnChange=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(e.props.onChange){var a;return(a=e.props).onChange.apply(a,[t].concat(r))}if(e.props.valueLink){var i;return(i=e.props.valueLink).requestChange.apply(i,[t.target.value].concat(r))}},this.handleChange=function(t){if((document.activeElement&&document.activeElement.contentDocument||document).activeElement===t.target){var n=e.props.value||"",r=t.target.value,o=N.a.applyChangeToValue(n,e.props.markup,r,e.state.selectionStart,e.state.selectionEnd,t.target.selectionEnd,e.props.displayTransform);r=N.a.getPlainText(o,e.props.markup,e.props.displayTransform);var a=t.target.selectionStart,i=t.target.selectionEnd,s=!1,l=N.a.findStartOfMentionInPlainText(n,e.props.markup,a,e.props.displayTransform);void 0!==l&&e.state.selectionEnd>l&&(a=l,i=a,s=!0),e.setState({selectionStart:a,selectionEnd:i,setSelectionAfterMentionChange:s});var u=N.a.getMentions(o,e.props.markup),c={target:{value:o}};e.executeOnChange(c,o,r,u)}},this.handleSelect=function(t){if(!le){e.setState({selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd});var n=e.refs.input;t.target.selectionStart===t.target.selectionEnd?e.updateMentionsQueries(n.value,t.target.selectionStart):e.clearSuggestions(),e.updateHighlighterScroll(),e.props.onSelect(t)}},this.handleKeyDown=function(t){var n=N.a.countSuggestions(e.state.suggestions),r=e.refs.suggestions;if(0===n||!r)return void e.props.onKeyDown(t);switch(O()(se).indexOf(t.keyCode)>=0&&t.preventDefault(),t.keyCode){case se.ESC:return void e.clearSuggestions();case se.DOWN:return void e.shiftFocus(1);case se.UP:return void e.shiftFocus(-1);case se.RETURN:case se.TAB:return void e.selectFocused();default:return}},this.shiftFocus=function(t){var n=N.a.countSuggestions(e.state.suggestions);e.setState({focusIndex:(n+e.state.focusIndex+t)%n,scrollFocusedIntoView:!0})},this.selectFocused=function(){var t=e.state,n=t.suggestions,r=t.focusIndex,o=N.a.getSuggestion(n,r),a=o.suggestion,i=o.descriptor;e.addMention(a,i),e.setState({focusIndex:0})},this.handleBlur=function(t){var n=e._suggestionsMouseDown;e._suggestionsMouseDown=!1,n||e.setState({selectionStart:null,selectionEnd:null}),window.setTimeout(function(){e.updateHighlighterScroll()},1),e.props.onBlur(t,n)},this.handleSuggestionsMouseDown=function(t){e._suggestionsMouseDown=!0},this.updateSuggestionsPosition=function(){var t=e.state.caretPosition;if(t&&e.refs.suggestions){var n=e.refs.container,r=b.a.findDOMNode(e.refs.suggestions),o=b.a.findDOMNode(e.refs.highlighter);if(r){var a=t.left-o.scrollLeft,i={};a+r.offsetWidth>n.offsetWidth?i.right=0:i.left=a,i.top=t.top-o.scrollTop,R()(i,e.state.suggestionsPosition)||e.setState({suggestionsPosition:i})}}},this.updateHighlighterScroll=function(){if(e.refs.input&&e.refs.highlighter){var t=e.refs.input,n=b.a.findDOMNode(e.refs.highlighter);n.scrollLeft=t.scrollLeft,n.scrollTop=t.scrollTop,n.height=t.height}},this.handleCompositionStart=function(){le=!0},this.handleCompositionEnd=function(){le=!1},this.setSelection=function(t,n){if(null!==t&&null!==n){var r=e.refs.input;if(r.setSelectionRange)r.setSelectionRange(t,n);else if(r.createTextRange){var o=r.createTextRange();o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",t),o.select()}}},this.updateMentionsQueries=function(t,n){e._queryId++,e.suggestions={},e.setState({suggestions:{}});var r=e.props.value||"",o=N.a.mapPlainTextIndex(r,e.props.markup,n,"NULL",e.props.displayTransform);if(null!==o){var a=N.a.getEndOfLastMention(r.substring(0,o),e.props.markup,e.props.displayTransform),i=t.substring(a,n);g.a.Children.forEach(e.props.children,function(n){if(n){var r=ae(n.props.trigger,e.props),o=i.match(r);if(o){var s=a+i.indexOf(o[1],o.index);e.queryData(o[2],n,s,s+o[1].length,t)}}})}},this.clearSuggestions=function(){e._queryId++,e.suggestions={},e.setState({suggestions:{},focusIndex:0})},this.queryData=function(t,n,r,o,a){var i=ie(n.props.data),s=i(t,e.updateSuggestions.bind(null,e._queryId,n,t,r,o,a));s instanceof Array&&e.updateSuggestions(e._queryId,n,t,r,o,a,s)},this.updateSuggestions=function(t,n,r,o,a,i,s){if(t===e._queryId){var l={};l[n.props.type]={query:r,mentionDescriptor:n,querySequenceStart:o,querySequenceEnd:a,results:s,plainTextValue:i},e.suggestions=N.a.extend({},e.suggestions,l);var u=e.state.focusIndex,c=N.a.countSuggestions(e.suggestions);e.setState({suggestions:e.suggestions,focusIndex:u>=c?Math.max(c-1,0):u})}},this.addMention=function(t,n){var r=n.mentionDescriptor,o=n.querySequenceStart,a=n.querySequenceEnd,i=n.plainTextValue,s=e.props.value||"",l=N.a.mapPlainTextIndex(s,e.props.markup,o,"START",e.props.displayTransform),u=l+a-o,c=N.a.makeMentionsMarkup(e.props.markup,t.id,t.display,r.props.type);r.props.appendSpaceOnAdd&&(c+=" ");var f=N.a.spliceString(s,l,u,c);e.refs.input.focus();var d=e.props.displayTransform(t.id,t.display,r.props.type);r.props.appendSpaceOnAdd&&(d+=" ");var p=o+d.length;e.setState({selectionStart:p,selectionEnd:p,setSelectionAfterMentionChange:!0});var h={target:{value:f}},m=N.a.getMentions(f,e.props.markup),y=N.a.spliceString(i,o,a,d);e.executeOnChange(h,f,y,m);var g=r.props.onAdd;g&&g(t.id,t.display),e.clearSuggestions()},this.isLoading=function(){var t=!1;return g.a.Children.forEach(e.props.children,function(e){t=t||e&&e.props.isLoading}),t},this._queryId=0},ee);ce.propTypes={};var fe="undefined"!=typeof navigator&&/iPhone|iPad|iPod/i.test(navigator.userAgent),de=Object(M.defaultStyle)({position:"relative",overflowY:"visible",input:{display:"block",position:"absolute",top:0,boxSizing:"border-box",backgroundColor:"transparent",width:"inherit",fontFamily:"inherit",fontSize:"inherit"},"&multiLine":{input:oe({width:"100%",height:"100%",bottom:0,overflow:"hidden",resize:"none"},fe?{marginTop:1,marginLeft:-3}:null)}},function(e){var t=e.singleLine;return{"&singleLine":t,"&multiLine":!t}}),pe=de(ce);n.d(t,"MentionsInput",function(){return pe}),n.d(t,"Mention",function(){return Y})},v6aw:function(e,t){e.exports={"std-font-9":"styles--std-font-9--3QlMu","project-font":"styles--project-font--1gkS_",project:"styles--project--rNMDM","std-font-12":"styles--std-font-12--2eDjP","room-title-font":"styles--room-title-font--2TKIe","room-title":"styles--room-title--Z5B1o","user-font":"styles--user-font--33_Qa","chatroom-members-count":"styles--chatroom-members-count--3Mz-H",participants:"styles--participants--26IB2","thread-activity":"styles--thread-activity--2q2fu","std-font-14":"styles--std-font-14--MHe2A","std-font-16":"styles--std-font-16--1o_p3","std-font-18":"styles--std-font-18--3_hEt","chatroom-title-font":"styles--chatroom-title-font--1bNAa","chatroom-title":"styles--chatroom-title--Fy80_","screen-content":"styles--screen-content--2Lydw",circle:"styles--circle--3yEgt","gray-light":"styles--gray-light--J4bST",turquoise:"styles--turquoise--2cbVu","avatar-circle":"styles--avatar-circle--1E4tQ","avatar-circle-default":"styles--avatar-circle-default--26mnz","role-mentor":"styles--role-mentor--1_ALJ","role-staff":"styles--role-staff--2Ai-D","avatar-img":"styles--avatar-img--t3KSm","avatar-default":"styles--avatar-default--2qw3F",clearfix:"styles--clearfix--1M1Fq","rel-pos":"styles--rel-pos--3S-kT",invisible:"styles--invisible--1J4TL",photo:"styles--photo--3fq4l","no-photo":"styles--no-photo--1Pwy2","no-margin":"styles--no-margin--1Ke6K","chatroom-list":"styles--chatroom-list--1lhBv","chatroom-list-item":"styles--chatroom-list-item--2MCKb","chatroom-list-group":"styles--chatroom-list-group--2ysrN","chatroom-list-group-title":"styles--chatroom-list-group-title--29kKv",unread:"styles--unread--13N66","chatroom-list-group-action":"styles--chatroom-list-group-action--2xqeN","chatroom-list-part":"styles--chatroom-list-part--3hwiT","chatroom-list-part-title":"styles--chatroom-list-part-title--16ciy","chatroom-list-part-action":"styles--chatroom-list-part-action--3OwSo",trigger:"styles--trigger--2zuul",disabled:"styles--disabled--1eHLN","room-unread-badge":"styles--room-unread-badge--mHtcj","room-unread-badge-mention":"styles--room-unread-badge-mention--2Af4B"}},vi0E:function(e,t,n){var r=n("f931"),o=r(Object.getPrototypeOf,Object);e.exports=o},vwcy:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,s,l,u,c=n("Xxa5"),f=a(c),d=n("exGp"),p=a(d),h=n("Zx67"),m=a(h),y=n("Zrlr"),g=a(y),v=n("wxAW"),_=a(v),E=n("zwoO"),b=a(E),T=n("Pf15"),S=a(T),w=n("b0Dh"),O=n("0J+u"),C=a(O),P=n("GDpH"),A=a(P),R=n("GZFc"),M=a(R),k=(i=(0,w.themr)("Dropfile",M.default))((u=l=function(t){function n(){var e,t,r,o,a=this;(0,g.default)(this,n);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return t=r=(0,b.default)(this,(e=n.__proto__||(0,m.default)(n)).call.apply(e,[this].concat(s))),r.state={error:void 0,isDragging:!1,isUploading:!1,preview:void 0,progress:0},r.handleClick=function(){r.state.isUploading||r.fileInput.click()},r.handleDragEnter=function(e){e.preventDefault(),r.state.isUploading||r.setState({isDragging:!0})},r.handleDragLeave=function(e){e.preventDefault(),r.state.isUploading||r.setState({isDragging:!1})},r.handleDragOver=function(e){e.preventDefault(),e.stopPropagation()},r.handleDrop=function(){var e=(0,p.default)(f.default.mark(function e(t){var n,o,i;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r.state.isUploading){e.next=3;break}return e.abrupt("return");case 3:for(r.setState({isDragging:!1,error:void 0}),n=t.dataTransfer?t.dataTransfer.files:t.target.files,o=0;o<n.length;o++)i=n[o],i.preview=window.URL.createObjectURL(i);if(!r.props.verify){e.next=15;break}e.prev=7,n=r.props.verify(n)||n,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(7),r.setState({error:e.t0.toString()}),e.abrupt("return");case 15:return r.updateProgress({progress:0,isUploading:!0}),e.prev=16,e.next=19,r.props.uploadFiles(n,{updateProgress:r.updateProgress,setDoneCallback:r.setDoneCallback});case 19:r.doneProgress(),e.next=26;break;case 22:e.prev=22,e.t1=e.catch(16),r.updateProgress({progress:0,isUploading:!1}),r.setState({error:e.t1.toString()});case 26:case"end":return e.stop()}},e,a,[[7,11],[16,22]])}));return function(t){return e.apply(this,arguments)}}(),r.setDoneCallback=function(e){r._doneCallback=e},r.doneProgress=function(){r.updateProgress({progress:100,isUploading:!0}),setTimeout(function(){r.updateProgress({progress:0,isUploading:!1}),r._doneCallback&&r._doneCallback()},1e3)},r.updateProgress=function(e){var t=e.progress,n=e.isUploading,o=e.preview,a={isUploading:n,progress:t,preview:o};r.setState(a)},o=t,(0,b.default)(r,o)}return(0,S.default)(n,t),(0,_.default)(n,[{key:"render",value:function(){var t=this,n=this.state,o=n.isDragging,a=n.isUploading,i=n.progress,s=n.preview,l=n.error,u=this.props.theme;return e.createElement("div",{className:r.compact([u.dropfile,o&&u.dragging,a&&u.uploading]).join(" "),onClick:this.handleClick,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDragOver:this.handleDragOver,onDrop:this.handleDrop},a?e.createElement("div",{className:u.uploading},e.createElement("div",{className:u.preview},s&&e.createElement(A.default,{image:s,size:"100%"})),e.createElement("div",{className:u.progressbar},e.createElement(C.default,{progress:i}))):e.createElement("div",{className:u.placeholder},l&&e.createElement("div",{className:u.error},l),this.props.children,e.createElement("input",{type:"file",style:{display:"none"},multiple:!1,ref:function(e){return t.fileInput=e},onChange:this.handleDrop})))}}]),n}(e.Component),l.propTypes={children:e.PropTypes.node,verify:e.PropTypes.func,uploadFiles:e.PropTypes.func.isRequired},l.defaultProps={children:e.createElement("div",{style:{textAlign:"center"}},"Drag and drop file here or ",e.createElement("br",null),e.createElement("a",null," browse your computer "))},s=u))||s;t.default=o(k,M.default,{allowMultiple:!0})}).call(t,n("U7vG"),n("M4fF"),n("211U"))},w0lJ:function(e,t,n){var r=n("b6tY"),o=r("filter",n("RyI1"));o.placeholder=n("qXkD"),e.exports=o},wJqg:function(e,t){e.exports={"std-font-9":"dropfileStyles--std-font-9--2hCPP","project-font":"dropfileStyles--project-font--EySma","std-font-12":"dropfileStyles--std-font-12--iw7we","room-title-font":"dropfileStyles--room-title-font--1uZZB","user-font":"dropfileStyles--user-font--LWU8l",error:"dropfileStyles--error--11zba","std-font-14":"dropfileStyles--std-font-14--qB-B2","std-font-16":"dropfileStyles--std-font-16--3K0WP","std-font-18":"dropfileStyles--std-font-18--2IDGd","chatroom-title-font":"dropfileStyles--chatroom-title-font--27ZO-","screen-content":"dropfileStyles--screen-content--1j1a5",circle:"dropfileStyles--circle--1OpK9","gray-light":"dropfileStyles--gray-light--2ObcO",turquoise:"dropfileStyles--turquoise--2bnOb","avatar-circle":"dropfileStyles--avatar-circle--2zuO7","avatar-circle-default":"dropfileStyles--avatar-circle-default--oMg8V","role-mentor":"dropfileStyles--role-mentor--2jm6w","role-staff":"dropfileStyles--role-staff--303bZ","avatar-img":"dropfileStyles--avatar-img--rWqZb","avatar-default":"dropfileStyles--avatar-default--13hrv",clearfix:"dropfileStyles--clearfix--263il","rel-pos":"dropfileStyles--rel-pos--324fz",invisible:"dropfileStyles--invisible--1VlBX",photo:"dropfileStyles--photo--y2Cyo","no-photo":"dropfileStyles--no-photo--2g3Ih","no-margin":"dropfileStyles--no-margin--218V0",dropfile:"dropfileStyles--dropfile--1AuZY",placeholder:"dropfileStyles--placeholder--gevLc"}},wKps:function(e,t,n){var r=n("5183"),o=n("qrdl"),a=r?function(e){return r.get(e)}:o;e.exports=a},wdsA:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":d(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":d(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,f,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n("DtqQ"),h=n("j5LV"),m=n("lNS7"),y=n("eLhX"),g=n("0Zuw"),v=o(g),_=n("DKy/"),E=o(_),b=n("p2Wj"),T=o(b),S=n("KSGD"),w=o(S),O=n("U7vG"),C=o(O),P=n("PBOS"),A=o(P),R=n("dSVv"),M=o(R),k=n("eyXk"),I=n("c4Rz"),N=n("Y6KL"),L=n("HW6M"),j=o(L),x=n("RH2O"),D=n("Dji7"),U=o(D),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),q=(l=e(U.default,{allowMultiple:!0}))((f=c=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setActiveMessage=function(e){n.setState({activeMessage:e})},n.handleClearActiveMessage=function(){n.setState({activeMessage:null})},n.setShowMarkRead=function(){n.setState({showMarkRead:!0})},n.clearShowMarkRead=function(){n.setState({showMarkRead:!1})},n.handleScroll=function(e,t){var o=n.props,a=o.fetchMoreMessages,i=o.notifications,s=o.room,l=r.get(i.unread,[e,"count"]),u=r.get(s,"events"),c=r.get(s,["pagination","fetching_next"]),f=r.get(s,["pagination","cursor","has_next"]),d=n.messagesContainer;if(d.offsetHeight+t>=d.scrollHeight-100?n.clearShowMarkRead():l>0?n.setShowMarkRead():n.clearShowMarkRead(),t<=0)return void a(e);t>=d.scrollHeight-d.clientHeight&&(l>0&&n.markRead(r.last(u),l),f&&!c&&a(e,!1))},n.markRead=function(e,t){if(!r.isEmpty(e)){var o=r.get(e,"timestamp"),a=r.get(e,"room_id"),i=t>p.MESSAGE_FETCH_COUNT?p.MESSAGE_FETCH_COUNT:t;n.props.updateLastVisited(a,o,i)}},n.markReadAll=function(){var e=n.props,t=e.room,o=e.notifications,a=e.updateLastVisited,i=r.get(t,["info","room_id"]),s=r.get(o.unread,[i,"count"]);if(s>0){a(i,new Date(Date.now()).toISOString(),s)}},n.handleJumpToRecent=function(){var e=n.props,t=e.jumpToMsg,o=e.room,a=e.notifications,i=r.get(o,["info","room_id"]);t(i,r.get(a.unread,[i,"oldest"]))},n.handleMarkAllRead=function(){n.markReadAll(),n.clearShowMarkRead()},n.handleThreadClick=function(e,t){var r=n.props,o=r.roomTitle;(0,r.pushScreen)({screenType:p.Screens.CHAT,roomId:e,roomTitle:o,activeThreadMessageId:t})},n.handleListMount=function(e){n.messagesContainer=e,n.props.onListMount(e)},n.state={activeMessage:null,showMarkRead:!1},n.handleScroll=r.debounce(n.handleScroll,100,{trailing:!0}),n.markRead=r.debounce(n.markRead,5e3,{trailing:!0}),n.markReadAll=r.debounce(n.markReadAll,100,{trailing:!0}),n}return s(t,e),F(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.room,n=e.notifications,o=e.jumpToMsg,a=e.screens,i=e.fetchMoreMessages,s=r.get(t,["info","room_id"]),l=r.get(t,"events"),u=r.get(t,"pagination.cursor.has_prev",!1),c=r.get(n.unread,[s,"oldest"]),f=r.get(n.unread,[s,"count"]),d=this.messagesContainer,h=d.scrollHeight<=d.clientHeight,m=a[a.length-1],y=void 0;m&&m.screenType===p.Screens.CHAT&&m.messageId&&(y=m.messageId,u&&i(s)),f>p.MAX_NEW_MESSAGES?o(s,c):y?o(s,y):(d.scrollTop=d.scrollHeight,h&&f>0&&this.markRead(r.last(l),f))}},{key:"componentWillReceiveProps",value:function(e){var t=r.get(e,["room","info","room_id"]),n=this.messagesContainer,o=e.jumpToBottom,a=e.jumpToPrevious,i=e.jumpToMsg,s=r.get(e.notifications.unread,[t,"last_visited"]);if(this.props.room.pagination.fetching_prev&&!e.room.pagination.fetching_prev)return void a(t,n.scrollHeight);if(this.props.room.pagination.fetching_next&&!e.room.pagination.fetching_next){var l=r.get(this.props,["room","events"]).filter(function(e){return e.type===p.EventTypes.MESSAGE}),u=r.get(r.last(l),["payload","message_id"]);return void(u&&i(t,u))}var c=n.offsetHeight+n.scrollTop>=n.scrollHeight-100,f=r.get(this.props.room,"sent",[]);r.get(e.room,"sent",[]).length<f.length&&c&&o(t);var d=(0,m.getNewEvents)(this.props.room.events,e.room.events);if(0!==d.length){if(c)return void o(t);var h=e.myProfile;if(r.find(d,function(e){return e.payload.user_id===h.id}))return void o(t);d.filter(function(e){return e.type===p.EventTypes.MESSAGE&&e.timestamp>s}).length>0&&this.setShowMarkRead()}}},{key:"componentDidUpdate",value:function(e){var t=this.messagesContainer,n=this.props,o=n.room,a=n.jumpToCompleted,i=o.info.room_id,s=r.get(o,["ui","scrollTo"],{type:p.ScrollType.NOOP}),l=r.get(e.room,["ui","scrollTo"],{type:p.ScrollType.NOOP});if(!r.isEqual(s,l))switch(s.type){case p.ScrollType.ABSOLUTE:s.value===p.ScrollType.BOTTOM?t.scrollTop=t.scrollHeight:s.value===p.ScrollType.TOP&&(t.scrollTop=0),a(i);break;case p.ScrollType.RELATIVE:var u=s.value;t.scrollTop=t.scrollHeight-u,a(i);break;case p.ScrollType.MSG:var c=s.msg,f=Array.from(t.children),d=r.findLastIndex(f,function(e){var t=r.parseInt(e.getAttribute("data-id"));return t&&t===c});-1!==d&&(t.scrollTop=f[d].offsetTop-50),a(i);break;case p.ScrollType.NOOP:}}},{key:"componentWillUnmount",value:function(){this.markRead.cancel(),this.markReadAll.cancel()}},{key:"render",value:function(){var e=this,t=this.props,n=t.room,o=t.profiles,a=t.myProfile,i=t.onProfileAvatarClick,s=t.notifications,l=t.features,u=n.info.room_id,c=n.events,f=n.pagination.cursor.has_prev,d=r.get(n,["pagination","fetching_prev"]),h=r.get(n,["pagination","fetching_next"]),g=n.pagination.error,_=this.state,b=_.activeMessage,S=_.showMarkRead,w=r.get(n,"info.room_type")===p.RoomTypes.THREAD,O=r.get(l,"threadingEnabled",!1),P=r.get(s.unread,[u,"count"]),R=r.get(s.unread,[u,"oldest"]);return C.default.createElement("div",{styleName:"msg-list"},C.default.createElement("div",{onMouseLeave:this.handleClearActiveMessage},C.default.createElement("ul",{styleName:"msg-list-inner",onScroll:function(t){return e.handleScroll(u,t.target.scrollTop)},ref:this.handleListMount},!f&&!w&&C.default.createElement("li",{key:"message-history-start"},C.default.createElement(T.default,null,(0,k.__)("Beginning of the Conversation"))),C.default.createElement(v.default,{fetching:d,hasFetchError:g}),r.map(c,function(t,n,l){var u=o[t.payload.user_id],c=t.payload.user_id===a.id,f=n===l.length-1;if(!u)return null;var d=(0,m.toListKey)(t),h=t.timestamp,g=[p.EventTypes.JOINED,p.EventTypes.QUIT].includes(t.type),v=!1,_=!1,E=!0,S=!1,w="",I=void 0;0!==n&&(v=l[n-1].payload.user_id===t.payload.user_id&&l[n-1].type===p.EventTypes.MESSAGE,I=(0,N.calcTimeDiffValues)(h,l[n-1].timestamp),E=I.showTime,S=I.showDate,w=I.calendarTime),n<l.length-1&&(_=l[n+1].payload.user_id===t.payload.user_id&&l[n+1].type===p.EventTypes.MESSAGE);var L=[];if(S&&L.push(C.default.createElement("li",{key:d+"-date"},C.default.createElement(T.default,{error:!1,showSep:!1},w))),g)L.push(C.default.createElement("li",{key:d},C.default.createElement(A.default,{event:t,profiles:o,showTime:E})));else{var x=r.get(t,["payload","message_id"]),D={"role-mentor":(0,m.isMessageFromMentor)(t.payload,o[t.payload.user_id]),"role-staff":(0,m.isMessageFromStaff)(t.payload,o[t.payload.user_id])};L.push(C.default.createElement("li",{key:d,"data-id":x,styleName:(0,j.default)("msg-list-message-container",D,{"same-as-prev":v,"same-as-next":_})},C.default.createElement(M.default,{uuid:d,active:d===b,setActive:e.setActiveMessage,message:t.payload,showTime:E,showActions:!0,sameAsPrev:v,isMsgFromCurrentUser:c,isLastMessage:f,avatarClickable:!0,onProfileAvatarClick:i,onThreadClick:e.handleThreadClick,threadingEnabled:O,profiles:o,notifications:s})))}return r.get(t,"delivery_error",!1)&&L.push(C.default.createElement("li",{key:d+"-delivery-error"},C.default.createElement(T.default,{error:!0,showSep:!1},(0,k.__)(y.ERR_UNABLE_TO_SEND_MSG)))),P>0&&t.payload.message_id===R?[C.default.createElement("li",{key:"unread-message-notice"},C.default.createElement(T.default,{highlight:!0},(0,k.__)("<%= count %> new messages",{count:P})))].concat(L):L}),C.default.createElement(v.default,{fetching:h,hasFetchError:g}))),S&&P>0&&C.default.createElement(E.default,{unreadCount:P,onJumpToRecent:this.handleJumpToRecent,onMarkAllRead:this.handleMarkAllRead}))}}]),t}(C.default.PureComponent),c.propTypes={room:h.RoomShape.isRequired,roomTitle:w.default.string.isRequired,myProfile:h.ProfileShape.isRequired,onListMount:w.default.func.isRequired,onProfileAvatarClick:w.default.func.isRequired,fetchMoreMessages:w.default.func,jumpToBottom:w.default.func,jumpToPrevious:w.default.func,jumpToMsg:w.default.func,jumpToCompleted:w.default.func,pushScreen:w.default.func,updateLastVisited:w.default.func},u=f))||u,B=function(e){return{features:e.window.features,profiles:e.profiles,myProfile:e.profiles.me,notifications:e.notifications,screens:e.screen}},G=(0,I.actionsBinder)("fetchMoreMessages","jumpToBottom","jumpToPrevious","jumpToMsg","jumpToCompleted","pushScreen","updateLastVisited");t.default=(0,x.connect)(B,G)(q)}).call(t,n("211U"),n("M4fF"))},"wm+6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("xrSP"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=(n("Isy5"),{}),i=function(e){return function(t,n){var r=n||a;e.memoize=e.memoize||new WeakMap;var i=void 0;e.memoize.has(r)?i=e.memoize.get(r):(i={},e.memoize.set(r,i));var s=(0,o.default)(t).join(" ");return s in i?i[s]:i[s]=e(t,n)}};t.default=i,e.exports=t.default},x4aR:function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n("crC2"),f=r(c),d=n("U7vG"),p=r(d),h=n("JZNo"),m=r(h),y=n("eyXk"),g=n("/Hzi"),v=r(g),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=(s=e(v.default))(l=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),_(t,[{key:"render",value:function(){return p.default.createElement("div",{styleName:"thread-list-screen"},p.default.createElement(f.default,{title:(0,y.__)("All Threads"),isBackButtonVisible:!0}),p.default.createElement(m.default,null))}}]),t}(p.default.Component))||l;t.default=E}).call(t,n("211U"))},xHdR:function(e,t,n){"use strict";(function(e,r,o){function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,f,d,p,h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n("S8Mv"),y=a(m),g=n("JZ4Z"),v=a(g),_=(c=e(v.default))((p=d=function(e){function t(){return i(this,t),s(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),h(t,[{key:"componentDidMount",value:function(){this._autoRemoveToasts(this.props.toasts)}},{key:"componentWillReceiveProps",value:function(e){var t=o.differenceBy(e.toasts,this.props.toasts,"id");this._autoRemoveToasts(t)}},{key:"_autoRemoveToasts",value:function(e){var t=this;o.isEmpty(e)||setTimeout(function(){o.each(e,function(e){t.props.onRemove(e)})},8e3)}},{key:"_getTransitionNames",value:function(){return{enter:v.default["toast-enter"],enterActive:v.default["toast-enter-active"],leave:v.default["toast-leave"],leaveActive:v.default["toast-leave-active"]}}},{key:"render",value:function(){var e=this,t=this.props.toasts;return r.createElement("div",{styleName:"container",className:this.props.className},r.createElement(y.default,{transitionName:this._getTransitionNames(),transitionEnterTimeout:300,transitionLeaveTimeout:300},o.map(t,function(t){return r.createElement("div",{key:t.id,styleName:t.type},r.createElement("div",{styleName:"message"},t.message),r.createElement("div",{styleName:"dismiss",onClick:function(){return e.props.onRemove(t)}}))})))}}]),t}(r.Component),d.propTypes={onRemove:r.PropTypes.func.isRequired,toasts:r.PropTypes.arrayOf(r.PropTypes.shape({id:r.PropTypes.string.isRequired,type:r.PropTypes.oneOf(["error","notification"]).isRequired,message:r.PropTypes.string.isRequired})),className:r.PropTypes.string},d.defaultProps={className:null},f=p))||f;t.default=_}).call(t,n("211U"),n("U7vG"),n("M4fF"))},xT2y:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hoistModifierStylesRecursive=t.pickNestedStyles=t.pickDirectStyles=void 0;var a=n("RyI1"),i=r(a),s=n("L8MQ"),l=r(s),u=n("Dc7M"),c=r(u),f=n("HN2V"),d=r(f),p=n("ktak"),h=r(p),m=n("5UqS"),y=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},g=(t.pickDirectStyles=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,h.default)(e),r={},o=0,a=n.length;o<a;o+=1){var i=n[o];("[object Object]"!==Object.prototype.toString.call(e[i])||":"===i[0]||"@"===i[0]||t.indexOf(i)>=0)&&(r[i]=e[i])}return r},t.pickNestedStyles=function(e,t){for(var n=t.map(y),r=(0,h.default)(e),o={},a=0,i=r.length;a<i;a+=1){var s=r[a];(t.indexOf(s)>=0||n.indexOf(y(s))>=0)&&(o[s]=e[s])}return o});t.hoistModifierStylesRecursive=function e(t,n){for(var r=d.default.apply(void 0,[{},(0,c.default)(t,n)].concat(o((0,l.default)(g(t,n))))),a=(0,i.default)((0,h.default)(r),m.isModifier),s=0,u=a.length;s<u;s+=1){var f=a[s],p=e(r[f],n);n.indexOf(f)>=0?(delete r[f],r=(0,d.default)({},r,p)):r[f]=p}return r}},xond:function(e,t,n){function r(e){return o(e,i,a)}var o=n("FCuZ"),a=n("09Qt"),i=n("t8rQ");e.exports=r},xrSP:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("JDN0"),a=r(o),i=n("9UkZ"),s=r(i),l=n("ktak"),u=r(l),c=function(e){return e?(0,a.default)(e)?[e]:(0,s.default)(e)?(0,u.default)(e).reduce(function(t,n){return t.concat(e[n]?[n]:[])},[]):e:[]};t.default=c,e.exports=t.default},y3LU:function(e,t,n){"use strict";function r(e,t,n){switch(!0){case e===o.AvatarTypes.PROFILE&&t:return o.AvatarThemes.PROFILE_MENTOR;case e===o.AvatarTypes.PROFILE&&n:return o.AvatarThemes.PROFILE_STAFF;case e===o.AvatarTypes.SUGGESTION&&t:return o.AvatarThemes.SUGGESTION_MENTOR;case e===o.AvatarTypes.SUGGESTION&&n:return o.AvatarThemes.SUGGESTION_STAFF;case e===o.AvatarTypes.PARTICIPANT:return o.AvatarThemes.PARTICIPANT;case e===o.AvatarTypes.PROFILE:return o.AvatarThemes.PROFILE_DEFAULT;case e===o.AvatarTypes.SUGGESTION:return o.AvatarThemes.SUGGESTION_DEFAULT;default:return o.AvatarThemes.DEFAULT}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAvatarTheme=r;var o=n("XZDv")},z4HG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={blacklist:["BY","CD","CI","CU","IR","IQ","KP","LR","MM","SD","SY","ZW","AL","BA","BG","HR","MK","ME","RO","RS","SI","XK"],whitelist:["AF","AX","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BE","BZ","BJ","BM","BT","BO","BQ","BW","BV","BR","IO","BN","BF","BI","KH","CM","CA","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CK","CR","CW","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA","HN","HK","HU","IS","IN","ID","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","KI","KR","KW","KG","LA","LV","LB","LS","LY","LI","LT","LU","MO","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","MS","MA","MZ","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RU","RW","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","SA","SN","SC","SL","SG","SX","SK","SB","SO","ZA","GS","SS","ES","LK","SR","SJ","SZ","SE","CH","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","US","UM","UY","UZ","VU","VE","VN","VG","VI","WF","EH","YE","ZM"]}},zLFy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_generateId:function(){return Math.random().toString(36).slice(-8)},_createToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";return{id:this._generateId(),message:e,type:t}},_mapErrorMessage:function(e){switch(e){case 400:return __("Please check your input and try again");case 401:return __("Sorry, you are not authorized");case 404:return __("Resource not found");case 408:return __("The request timed out. Please try again later");case 500:return __("Sorry, the server encountered an error. Please try again");default:return __("An error occurred")}},createError:function(e){var t=e.status?this._mapErrorMessage(e.status):e.message||"Unknown error";return this._createToast(t,"error")},createNotification:function(e){return this._createToast(e,"notification")}}},zYGz:function(e,t,n){"use strict";(function(e,r){function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n("j5LV"),d=n("KSGD"),p=o(d),h=n("RH2O"),m=n("kQbS"),y=o(m),g=n("6vb+"),v=o(g),_=n("c4Rz"),E=n("zkE2"),b=o(E),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S=(u=l=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),o=b.default.getState();return r.has(o,"userData.ndId")&&o.userData.ndId!==e.ndId&&b.default.dispatch((0,_.createAction)(y.default.CLEAR_ALL)),t.updateWindowState({},t.props),t}return s(n,t),T(n,[{key:"componentWillReceiveProps",value:function(e){this.updateWindowState(this.props,e)}},{key:"updateWindowState",value:function(e,t){e.isCommunityOpen===t.isCommunityOpen&&e.onCommunityClose===t.onCommunityClose&&e.onNotificationsChanged===t.onNotificationsChanged&&e.features===t.features||b.default.dispatch((0,_.createAction)(y.default.UPDATE_WINDOW,{opened:t.isCommunityOpen,toggleFn:function(){return t.onCommunityClose()},toggleNotification:function(e){return t.onNotificationsChanged(e)},features:t.features}))}},{key:"render",value:function(){var t=this.props,n=t.ndId,r=t.userId,o=t.ndKey,a=t.locale,i=t.ndTitle,s=t.partKey,l=t.moduleKey,u=t.lessonKey,c=t.conceptKey;return e.createElement(h.Provider,{store:b.default},e.createElement(v.default,{ndId:n,userId:r,ndKey:o,locale:a,ndTitle:i,partKey:s,moduleKey:l,lessonKey:u,conceptKey:c}))}}]),n}(e.Component),l.propTypes={isCommunityOpen:p.default.bool.isRequired,onCommunityClose:p.default.func.isRequired,onNotificationsChanged:p.default.func,features:f.FeaturesShape.isRequired,ndId:p.default.number.isRequired,ndKey:p.default.string,userId:p.default.string,locale:p.default.string,ndTitle:p.default.string,partKey:p.default.string,moduleKey:p.default.string,lessonKey:p.default.string,conceptKey:p.default.string},l.defaultProps={isCommunityOpen:!1,onNotificationsChanged:function(){}},u);t.default=S}).call(t,n("U7vG"),n("M4fF"))},zkE2:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n("2KeS"),a=n("PooJ"),i=r(a),s=n("R1Zq"),l=r(s),u=(0,o.compose)(o.applyMiddleware.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.default)),window.devToolsExtension?window.devToolsExtension():function(e){return e})(o.createStore);t.default=u(l.default)}});
//# sourceMappingURL=ureact-uchat-ui.14487.js.map